<?xml version="1.0"?>
<rss version="2.0">

<channel>
	<title>La planète francophone de PostgreSQL</title>
	<link>http://planete.postgresql.fr/</link>
	<language>en</language>
	<description>La planète francophone de PostgreSQL - http://planete.postgresql.fr/</description>

<item>
	<title>Actualités PostgreSQL.fr: Nouvelles hebdomadaires de PostgreSQL - 11 juillet 2010</title>
	<guid>urn:md5:228ce8974efb36a743de3462ed78acda</guid>
	<link>http://blog.postgresql.fr/index.php?post/2010/07/18/Nouvelles-hebdomadaires-de-PostgreSQL-11-juillet-2010</link>
	<description>&lt;p&gt;PostgreSQL 9.0 beta 3 sera bient&amp;ocirc;t disponible [ndt: &lt;a href=&quot;http://blog.postgresql.fr/index.php?post/2010/07/13/Sortie-de-la-verion-beta-3-de-PostgreSQL-9.0&quot;&gt;article d&amp;eacute;di&amp;eacute;&lt;/a&gt;].Pr&amp;eacute;parez-vous &amp;agrave; tester&amp;nbsp;! 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/developer/beta&quot;&gt;http://www.postgresql.org/developer/beta&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Rassemblement PostgreSQL/PostGIS le 14 juillet 2010 &amp;agrave; 18h, &amp;agrave; Zurich (Suisse) au bOm kultur caf&amp;eacute; &amp;amp; bar &amp;agrave; l'ETH [ndt: institut f&amp;eacute;d&amp;eacute;ral technologique] Zurich. Informations et inscriptions (informelles)&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.gis.hsr.ch/wiki/Agenda&quot;&gt;http://www.gis.hsr.ch/wiki/Agenda&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Reuven Lerner donnera un cours de 5 jours sur PostgreSQL du 1er au 5 ao&amp;ucirc;t au &quot;Hi-Tech College&quot; de Herzliya (Isra&amp;euml;l)&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.hi-tech.co.il/college/default.asp?PageID=12&amp;CourseNum=4288&quot;&gt;http://www.hi-tech.co.il/college/default.asp?PageID=12&amp;amp;CourseNum=4288&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Les nouveaut&amp;eacute;s des produits d&amp;eacute;riv&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Benetl 3.5, un ETL pour fichiers utilisant PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.benetl.net&quot;&gt;http://www.benetl.net&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;DataArchitect 4.2, un outil de dessin de diagramme relationnel et d'ing&amp;eacute;nierie inverse compatible PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.thekompany.com/products/dataarchitect/&quot;&gt;http://www.thekompany.com/products/dataarchitect/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;PostgreSQL Maestro 10.7, un outil d'administration graphique pour PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.sqlmaestro.com/products/postgresql/maestro/&quot;&gt;http://www.sqlmaestro.com/products/postgresql/maestro/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Muldis-D 0.130.0, une sp&amp;eacute;cification pour un langage objet-relationnel pr&amp;eacute;vu pour utiliser, entre autres syst&amp;egrave;mes, PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://muldis.com/Muldis_D.html&quot;&gt;http://muldis.com/Muldis_D.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;RHQ 3.0.0, une application de gestion et de surveillance&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://rhq-project.org/&quot;&gt;http://rhq-project.org/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Offres d'emplois autour de PostgreSQL en juillet&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Internationales&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://archives.postgresql.org/pgsql-jobs/2010-07/threads.php&quot;&gt;http://archives.postgresql.org/pgsql-jobs/2010-07/threads.php&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;Francophones&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://forums.postgresql.fr/viewforum.php?id=4&quot;&gt;http://forums.postgresql.fr/viewforum.php?id=4&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL Local&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Le PDXPUG Day est programm&amp;eacute; pour le 18 juillet 2010 &amp;agrave; &quot;l'Oregon Convention Center&quot; &amp;agrave; Portland. D'avantage d'informations&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://wiki.postgresql.org/wiki/PDXPUGDay2010&quot;&gt;http://wiki.postgresql.org/wiki/PDXPUGDay2010&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;L'OSCON aura lieu &amp;agrave; Portland (Oregon) du 19 au 23 juillet 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.oscon.com/oscon2010&quot;&gt;http://www.oscon.com/oscon2010&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;La FrOSCon 2010 aura lieu &amp;agrave; St. Augustin, Allemagne les 21 &amp;amp; 22 ao&amp;ucirc;t 2010. Le PUG allemand a obtenu sa propre salle de dev. et est &amp;agrave; la recherche de conf&amp;eacute;renciers. Plus de d&amp;eacute;tails&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://andreas.scherbaum.la/blog/archives/711-FrOSCon-2010-PostgreSQL-devroom-Call-for-papers.html&quot;&gt;http://andreas.scherbaum.la/blog/archives/711-FrOSCon-2010-PostgreSQL-devroom-Call-for-papers.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL dans les m&amp;eacute;dia&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Planet PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planet.postgresql.org/&quot;&gt;http://planet.postgresql.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Planet PostgreSQLFr&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planete.postgresql.fr/&quot;&gt;http://planete.postgresql.fr/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;i&gt;PostgreSQL Weekly News / les nouvelles hebdomadaires vous sont offertes cette semaine par David Fetter. Traduction par l'&amp;eacute;quipe PostgreSQLFr sous licence CC BY-NC-SA.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;&lt;i&gt;Proposez vos articles ou annonces avant dimanche 15:00 (heure du Pacifique). Merci de les envoyer en anglais &amp;agrave; david (a) fetter.org, en allemand &amp;agrave; pwn (a) pgug.de, en italien &amp;agrave; pwn (a) itpug.org et en espagnol &amp;agrave; pwn (a) arpug.com.ar.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;(&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/community/weeklynews/pwn20100711&quot;&gt;lien vers l'article original&lt;/a&gt;)&lt;/p&gt;    &lt;p&gt;&lt;strong&gt;Revues&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;KaiGai Kohei reviewed Robert Haas's patch to add get_whatever_oid functionality.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Correctifs appliqu&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Tom Lane a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Improve pg_dump's checkSeek() function to verify the functioning of ftello as well as fseeko, and to not assume that fseeko(fp, 0, SEEK_CUR) proves anything. Also improve some related comments. Per my observation that the SEEK_CUR test didn't actually work on some platforms, and subsequent discussion with Robert Haas. Back-patch to 8.4. In earlier releases it's not that important whether we get the hasSeek test right, but with parallel restore it matters.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, add compatibility note warning that plpgsql is now stricter about the column datatypes of composite results, per gripe from Marcel Asio. Some desultory copy-editing of plpgsql-related sections of the release notes.&lt;/li&gt;
&lt;li&gt;Get rid of some more stuff in pg_upgrade that duplicates c.h or port.h.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/datatype.sgml, fix assorted misstatements and poor wording in the descriptions of the I/O formats for geometric types. Per bug #5536 from Jon Strait, and my own testing. Back-patch to all supported branches, since this doco has been wrong right along -- we certainly haven't changed the I/O behavior of these types in many years.&lt;/li&gt;
&lt;li&gt;Replace max_standby_delay with two parameters, max_standby_archive_delay and max_standby_streaming_delay, and revise the implementation to avoid assuming that timestamps found in WAL records can meaningfully be compared to clock time on the standby server. Instead, the delay limits are compared to the elapsed time since we last obtained a new WAL segment from archive or since we were last &quot;caught up&quot; to WAL data arriving via streaming replication. This avoids problems with clock skew between primary and standby, as well as other corner cases that the original coding would misbehave in, such as the primary server having significant idle time between transactions. Per my complaint some time ago and considerable ensuing discussion. Do some desultory editing on the hot standby documentation, too.&lt;/li&gt;
&lt;li&gt;Make vacuum_defer_cleanup_age be PGC_SIGHUP level, since it's not sensible to have different values in different processes of the primary server. Also put it into the &quot;Streaming Replication&quot; GUC category; it doesn't belong in &quot;Standby Servers&quot; because you use it on the master not the standby. In passing also correct guc.c's idea of wal_keep_segments' category.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlog.c, don't set recoveryLastXTime when replaying a checkpoint --- that was a bogus idea from the start since the variable is only meant to track commit/abort events. This patch reverts the logic around the variable to what it was in 8.4, except that the value is now kept in shared memory rather than a static variable, so that it can be reported correctly by CreateRestartPoint (which is executed in the bgwriter).&lt;/li&gt;
&lt;li&gt;Split the LDFLAGS make variable into two parts: LDFLAGS is now used for linking both executables and shared libraries, and we add on LDFLAGS_EX when linking executables or LDFLAGS_SL when linking shared libraries. This provides a significantly cleaner way of dealing with link-time switches than the former behavior. Also, make sure that the various platform-specific %.so: %.o rules incorporate LDFLAGS and LDFLAGS_SL; most of them missed that before. (I did not add these variables for the platforms that invoke $(LD) directly, however. It's not clear if we can do that safely, since for the most part we assume these variables use CC command-line syntax.) Per gripe from Aaron Swenson and subsequent investigation.&lt;/li&gt;
&lt;li&gt;Fix a few single-file (MODULES, not MODULE_big) contrib makefiles that were supposing that they should set SHLIB_LINK rather than LDFLAGS_SL. Since these don't go through Makefile.shlib that was a no-op on most platforms. Also regularize the few platform-specific Makefiles that did pay attention to SHLIB_LINK: it seems that the real value of that is to pull in BE_DLLLIBS, so do that instead. Per buildfarm failures on cygwin.&lt;/li&gt;
&lt;li&gt;In pgsql/src/makefiles/pgxs.mk, make sure LDFLAGS come before LIBS when linking contrib programs. Solaris, at least, seems to be sensitive to the relative order of -L and -l switches, so this is needed. Per buildfarm results.&lt;/li&gt;
&lt;li&gt;In pgsql/src/makefiles/pgxs.mk, dept. of third thoughts: PG_LIBS may contain a -L switch, so it had better stay in front of LDFLAGS.&lt;/li&gt;
&lt;li&gt;In pgsql/src/makefiles/Makefile.aix, allow for LDFLAGS_SL already having a value in Makefile.aix. Per buildfarm results.&lt;/li&gt;
&lt;li&gt;In pgsql/src/Makefile.shlib, still more third thoughts: when linking shared libraries, LDFLAGS probably needs to appear before anything placed in SHLIB_LINK. This is because SHLIB_LINK is typically a subset of LIBS, and LIBS has to appear after LDFLAGS on platforms that are sensitive to the relative order of -L and -l switches.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/utils/mb/mbutils.c, undo pgindent breakage (again). Per buildfarm.&lt;/li&gt;
&lt;li&gt;In pgsql/src/Makefile.global.in, accept slightly grotty coding in Makefile.global in order to keep the -L flag for src/port/ in front of any -L flags placed in LDFLAGS by configure. This undoes an L-flag-ordering change that I had thought would be safe, but seems to be making at least one buildfarm member fail --- the only theory for orca's failure that I can think of is that it's got an old copy of libpgport.a in /usr/lib. Also allow for LDFLAGS_SL to be set by contrib makefiles before they invoke Makefile.global.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/utils/mb/mbutils.c, adjust mbutils.c so it won't get broken by future pgindent runs. To do that, replace L'\0' by (WCHAR) 0. Perhaps someday we should teach pgindent about wide-character literals, but so long as this is the only use-case in the entire Postgres sources, a workaround seems easier.&lt;/li&gt;
&lt;li&gt;Fix &quot;cannot handle unplanned sub-select&quot; error that can occur when a sub-select contains a join alias reference that expands into an expression containing another sub-select. Per yesterday's report from Merlin Moncure and subsequent off-list investigation. Back-patch to 7.4. Older versions didn't attempt to flatten sub-selects in ways that would trigger this problem.&lt;/li&gt;
&lt;li&gt;Fix variant float8 expected files to have exactly the expected spacing. This wasn't important when we used diff's -w (--ignore-all-space) option to compare regression result files, but it is now. Per buildfarm member canary, which evidently has been offline since we did that in November, but came to life again today.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlogutils.c, update obsolete comment. Noted by Josh Tolley.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ref/create_operator.sgml, add a cross-reference to precedence information to CREATE OPERATOR's documentation. Per suggestion from Marc Cousin.&lt;/li&gt;
&lt;li&gt;In pgsql/src/pl/plpython/plpython.c, minor kibitzing on previous patch from Peter Eisentraut which guards against using PL/PythonU2 and PL/PythonU3 in the same session: no need to run check more than once. (_PG_init should be called only once anyway, but as long as it's got an internal guard against repeat calls, that should be in front of the version check.)&lt;/li&gt;
&lt;li&gt;Stamp HEAD as 9.1devel. (And there was much rejoicing.)&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/utils/adt/ruleutils.c, fix ruleutils' get_variable() to print something useful for Vars referencing resjunk outputs of subquery tlists, instead of throwing an error. Per bug #5548 from Daniel Grace. We might at some point find we ought to back-patch this further than 9.0, but I think that such Vars can only occur as resjunk members of upper-level tlists, in which case the problem can't arise because prior versions didn't print resjunk tlist items in EXPLAIN VERBOSE.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/utils/cache/lsyscache.c, avoid an Assert failure in deconstruct_array() by making get_attstatsslot() use the actual element type of the array it's disassembling, rather than trusting the type OID passed in by its caller. This is needed because sometimes the planner passes in a type OID that's only binary-compatible with the target column's type, rather than being an exact match. Per an example from Bernd Helmle. Possibly we should refactor get_attstatsslot/free_attstatsslot to not expect the caller to supply type ID data at all, but for now I'll just do the minimum-change fix. Back-patch to 7.4. Bernd's test case only crashes back to 8.0, but since these subroutines are the same in 7.4, I suspect there may be variant cases that would crash 7.4 as well.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/sources.sgml, add a note about preferred window width to the section about code formatting conventions.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Bruce Momjian a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/high-availability.sgml, remove tab from SGML.&lt;/li&gt;
&lt;li&gt;Add new Non-Durable Settings documentation section. Document that synchronous_commit can lose transactions in a db crash, not just a OS crash.&lt;/li&gt;
&lt;li&gt;Fix doc double-wording in non-durable patch. Report from Thom Brown.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xact.c, add C comment about why synchronous_commit=off behavior can lose committed transactions in a postmaster crash.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/config.sgml, document that shared_preload_libraries and local_preload_libraries lowercase the library names, unless double-quoted.&lt;/li&gt;
&lt;li&gt;In documentation, use &quot;lower case&quot;/&quot;upper case&quot; consistently (use space between words).&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/config.sgml, document that /bin/true on Windows is implemented by 'REM'.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, update 9.0 release notes so streaming replication and hot standby is not assumed to require continuous archiving. Per report from Fujii Masao.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/pg_upgrade.h, remove port.h prototypes from pg_upgrade.h, per report from Robert Haas.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/commands/tablespace.c, issue 'mkdir' hint when replying CREATE TABLESPACE in recovery mode. Per idea from Fujii Masao.&lt;/li&gt;
&lt;li&gt;Add CVS tags to pg_upgrade and pg_upgrade_support files, per request from Tom Lane.&lt;/li&gt;
&lt;li&gt;Add copyrights to pg_upgrade and pg_upgrade_tools files, per Tom Lane.&lt;/li&gt;
&lt;li&gt;Make pg_upgrade copyrights just 2010, not 2010-2010.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/func.sgml, document more clearly on XML namespaces inside xpath function. Nikolay Samokhvalov.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/config.sgml, remove SGML tab.&lt;/li&gt;
&lt;li&gt;In pgsql/src/tools/fsync/test_fsync.c, report test_fynsc times in tests per second, instead of total seconds.&lt;/li&gt;
&lt;li&gt;In pgsql/src/tools/fsync/test_fsync.c, simplify test_fsync duration computation.&lt;/li&gt;
&lt;li&gt;Update pgindent testing instructions.&lt;/li&gt;
&lt;li&gt;pgindent run for 9.0, second run.&lt;/li&gt;
&lt;li&gt;In pgsql/src/tools/pgindent/README, mention why one C file fails pgindent.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/wal.sgml, document the interaction of write-barrier-enabled file systems, and BBU caches, per June email thread.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/wal.sgml, doc change: effected -&amp;gt; affected, per correction from Matthew Wakeling.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, update release notes for 9.0 beta 3.&lt;/li&gt;
&lt;li&gt;Properly report errno/out-of-disk-space error from pg_upgrade when in copy mode, per report from depstein@alliedtesting.com. Patch suggestion from Magnus. Backpatch to 9.0.X.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Peter Eisentraut a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/sources.sgml, add guidelines for formatting errcontext strings&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/datatype.sgml, add note clarifying that XML fragments don't accept DTDs, per complaint from Craig Ringer.&lt;/li&gt;
&lt;li&gt;Use different function names for plpython3 handlers, to avoid clashes in pg_pltemplate. This should have a catversion bump, but it's still being debated whether it's worth it during beta.&lt;/li&gt;
&lt;li&gt;Message tuning.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/plpython.sgml, add note that using PL/Python 2 and 3 in the same session will probably crash.&lt;/li&gt;
&lt;li&gt;Install safeguard against running PL/Python 2 and 3 in the same session.&lt;/li&gt;
&lt;li&gt;Translation updates for 9.0beta3.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/plperl.sgml, some small changes: wrapped long code-lines for pdf, fix typo. Erik Rijkers&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Robert Haas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlog.c, emode_for_corrupt_record shouldn't reduce LOG messages to WARNING. In non-interactive sessions, WARNING sorts below LOG.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/commands/tablecmds.c, allow ALTER TABLE .. SET TABLESPACE to be interrupted. Backpatch to 8.0, where tablespaces were introduced. Guillaume Lelarge&lt;/li&gt;
&lt;li&gt;In pgsql/src/port/copydir.c, allow copydir() to be interrupted. This makes ALTER DATABASE .. SET TABLESPACE and CREATE DATABASE more sensitive to interrupts. Backpatch to 8.4, where ALTER DATABASE .. SET TABLESPACE was introduced. We could go back further, but in the absence of complaints about the CREATE DATABASE case it doesn't seem worth it. Guillaume Lelarge, with a small correction by me.&lt;/li&gt;
&lt;li&gt;Move copydir.c from src/port to src/backend/storage/file. The previous commit to make copydir() interruptible prevented postgres.exe from linking on MinGW and Cygwin, because on those platforms libpgport_srv.a can't freely reference symbols defined by the backend. Since that code is already backend-specific anyway, just move the whole file into the backend rather than adding further kludges to deal with the symbols needed by CHECK_FOR_INTERRUPTS(). This probably needs some further cleanup, but this commit just moves the file as-is, which should hopefully be enough to turn the buildfarm green again.&lt;/li&gt;
&lt;li&gt;Remove hstore % text[] operator; use slice() function instead. David Wheeler, with one small correction by me.&lt;/li&gt;
&lt;li&gt;Additional cross-references to window functions documentation. Erik Rijkers.&lt;/li&gt;
&lt;li&gt;Allow REASSIGNED OWNED to handle opclasses and opfamilies. Backpatch to 8.3, which is as far back as we have opfamilies. The opclass portion could probably be backpatched to 8.2, when REASSIGN OWNED was added, but for now I have not done that. Asko Tiidumaa, with minor adjustments by me.&lt;/li&gt;
&lt;li&gt;Support setting the keepalive idle time on MacOS X. MacOS X uses TCP_KEEPALIVE rather than TCP_KEEPIDLE for this purpose. Thanks to Fujii Masao for the review.&lt;/li&gt;
&lt;li&gt;Make log_temp_files based on kB, and revert docs &amp;amp; comments to match. Per extensive discussion on pgsql-hackers. We are deliberately not back-patching this even though the behavior of 8.3 and 8.4 is unquestionably broken, for fear of breaking existing users of this parameter. This incompatibility should be release-noted.&lt;/li&gt;
&lt;li&gt;Add a hook in ExecCheckRTPerms(). This hook allows a loadable module to gain control when table permissions are checked. It is expected to be used by an eventual SE-PostgreSQL implementation, but there are other possible applications as well. A sample contrib module can be found in the archives at: 
&lt;a target=&quot;_blank&quot; href=&quot;http://archives.postgresql.org/pgsql-hackers/2010-05/msg01095.php&quot;&gt;http://archives.postgresql.org/pgsql-hackers/2010-05/msg01095.php&lt;/a&gt; Robert Haas and Stephen Frost.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ref/psql-ref.sgml, clarify that &quot;psql -c&quot; ignores psqlrc files. Tim Landscheidt&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Andrew Dunstan a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, correct missing/misspelled surname.&lt;/li&gt;
&lt;li&gt;In pgsql/src/tools/msvc/Mkvcbuild.pm, unbreak MSVC builds by removing copydir.c from list of libpgport files&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Heikki Linnakangas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;stringToNode() and deparse_expression_pretty() crash on invalid input, but we have nevertheless exposed them to users via pg_get_expr(). It would be too much maintenance effort to rigorously check the input, so put a hack in place instead to restrict pg_get_expr() so that the argument must come from one of the system catalog columns known to contain valid expressions. Per report from Rushabh Lathia. Backpatch to 7.4 which is the oldest supported version at the moment.&lt;/li&gt;
&lt;li&gt;The previous fix in CVS HEAD and 8.4 for handling the case where a cursor being used in a PL/pgSQL FOR loop is closed was inadequate, as Tom Lane pointed out. The bug affects FOR statement variants too, because you can close an implicitly created cursor too by guessing the &quot;&amp;lt;unnamed portal X&amp;gt;&quot; name created for it. To fix that, &quot;pin&quot; the portal to prevent it from being dropped while it's being used in a PL/pgSQL FOR loop. Backpatch all the way to 7.4 which is the oldest supported version.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Magnus Hagander a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Add support for TCP keepalives on Windows, both for backend and the new libpq support.&lt;/li&gt;
&lt;li&gt;Make the Windows tcp keepalive support depend on the existance of the SIO_KEEPALIVE_VALS define instead of just WIN32, since MingW doesn't support this API (yet?).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Marc Fournier a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;tag beta3&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs rejet&amp;eacute;s (&amp;agrave; ce jour)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pas de d&amp;eacute;ception cette semaine&amp;nbsp;:-)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs en attente&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Robert Haas sent in another revision of the patch to suppress automatic recovery after backend crash. This is for a volatile caching version of PostgreSQL.&lt;/li&gt;
&lt;li&gt;Robert Haas sent in another revision of the patch to add get_whatever_oid functionality.&lt;/li&gt;
&lt;li&gt;Magnus Hagander sent in two revisions of a patch to fix keepalives on Win32.&lt;/li&gt;
&lt;li&gt;Robert Haas sent in a patch to implmenet a warning message in pg_standby.&lt;/li&gt;
&lt;li&gt;Mike Fowler sent in another revision of the xpath_exists patch.&lt;/li&gt;
&lt;li&gt;Peter Eisentraut sent in another revision of the patch to allow server authentication over Unix-domain sockets.&lt;/li&gt;
&lt;li&gt;Mike Fowler sent in another revision of patch to add XMLEXISTS to the grammar.&lt;/li&gt;
&lt;li&gt;Robert Haas sent in two revisions of a patch to fix keepalives on OSX.&lt;/li&gt;
&lt;li&gt;Bruce Momjian sent in a patch to show a hint only in recovery after a crash of Hot Standby/Streaming Replication.&lt;/li&gt;
&lt;li&gt;Fujii Masao sent in an updated patch to fix the docs re: checkpoint_segments and keep_wal_segments for Hot Standby/Streaming Replication.&lt;/li&gt;
&lt;li&gt;Martin Pihlak sent in two revisions of a patch to add a GUC log_file_mode which allows specifying the creation mode for log files. This would enable, for example, permitting readers other than the system PostgreSQL user to read the log files PostgreSQL generates.&lt;/li&gt;
&lt;li&gt;Teodor Sigaev sent in a patch to implement more accurate cost estimation function for GIN index scans.&lt;/li&gt;
&lt;li&gt;Markus Shiltknecht sent in a patch to add a lock-based dynamic shared memory allocator, which lets components delay memory allocation rather than allocate all needed memory in advance.&lt;/li&gt;
&lt;li&gt;Pavel Stehule sent in a patch to add parameters to DO statements.&lt;/li&gt;
&lt;li&gt;Robert Haas sent in three more revisions of a patch to implement get_whatever_oid, a refactoring which to a large extent centralizes get_*_oid logic.&lt;/li&gt;
&lt;li&gt;Robert Haas sent in a patch to fix log_temp_files docs and comments to say kilobytes rather than bytes.&lt;/li&gt;
&lt;li&gt;Greg Smith sent in another revision of the patch to make pgbench more 64-bit-clean.&lt;/li&gt;
&lt;li&gt;ITAGAKI Takahiro sent in another revision of the patch to help make CLUSTER behave better.&lt;/li&gt;
&lt;li&gt;Mike Fowler sent in two more revisions of a patch to add an xml_is_well_formed function.&lt;/li&gt;
&lt;li&gt;Rajanikant Chirmade sent in a patch to make downcase_truncate_identifier() multibyte-character-aware.&lt;/li&gt;
&lt;li&gt;Pavel Stehule sent in two more revisions of the string functions for 9.1.&lt;/li&gt;
&lt;li&gt;Robert Haas sent in another revision of the patch to include the backend ID in relpath of temp rels.&lt;/li&gt;
&lt;li&gt;Pavel Baros sent in another revision of the patch to add materialized views.&lt;/li&gt;
&lt;li&gt;Kevin Grittner sent in another revision of the patch to implement predicate locking, in part a prerequisite for better serialization.&lt;/li&gt;
&lt;li&gt;Robert Haas sent in a patch to slim down the representation of numerics by about two bytes.&lt;/li&gt;
&lt;li&gt;Zhai Boxuan sent in a patch to implement a MERGE command.&lt;/li&gt;
&lt;li&gt;Erik Rijkers sent in a patch to fix the contrib makefile to include the stringfunc patch.&lt;/li&gt;
&lt;/ul&gt;</description>
	<pubDate>dim, 18 jui 2010 00:18:19 +0000</pubDate>
</item>
<item>
	<title>Guillaume Lelarge: GIT, cette nouvelle mode</title>
	<guid>urn:md5:a9b60f6e56880b30de60d1052c365938</guid>
	<link>http://blog.guillaume.lelarge.info/index.php/post/2010/07/15/GIT%2C-cette-nouvelle-mode</link>
	<description>&lt;p&gt;Donc &lt;a href=&quot;http://www.postgresql.org&quot; hreflang=&quot;en&quot;&gt;PostgreSQL&lt;/a&gt; passe à git mi-août. Du coup, un peu tout le monde y passe. &lt;a href=&quot;http://www.pgadmin.org&quot; hreflang=&quot;en&quot;&gt;pgAdmin&lt;/a&gt; commence son passage ce soir (avec le &lt;a href=&quot;http://git.postgresql.org/gitweb?p=pgagent.git;a=summary&quot; hreflang=&quot;en&quot;&gt;dépôt pgagent&lt;/a&gt; par exemple). &lt;a href=&quot;http://slony.info/&quot; hreflang=&quot;en&quot;&gt;Slony&lt;/a&gt; se pose officiellement la question. Quant aux dépôts de PostgreSQLfr, ils y sont passés depuis un mois en gros.&lt;/p&gt;


&lt;p&gt;Je trouve ça plutôt bien. Ça uniformise les dépôts sur un système véritablement excellent. Pour une fois qu'on uniformise vers le haut, on ne va pas se plaindre &lt;img src=&quot;http://blog.guillaume.lelarge.info/themes/default/smilies/smile.png&quot; alt=&quot;:)&quot; class=&quot;smiley&quot; /&gt;&lt;/p&gt;</description>
	<pubDate>jeu, 15 jui 2010 21:09:00 +0000</pubDate>
</item>
<item>
	<title>Guillaume Lelarge: Manuel 9.0 beta 3 disponible</title>
	<guid>urn:md5:39aa5b64041b529fc46cec6b36343f8d</guid>
	<link>http://blog.guillaume.lelarge.info/index.php/post/2010/07/15/Manuel-9.0-beta-3-disponible</link>
	<description>&lt;p&gt;Et non, pas de vacances pour moi pour l'instant. Les deux semaines d'inactivité sur ce blog ont une raison : la mise à jour de la traduction du manuel en beta3, mais aussi et surtout du travail sur pgAdmin (dont je parlerais plus tard, certainement en fin de semaine).&lt;/p&gt;


&lt;p&gt;Bref. Tout ça pour dire que la traduction française du manuel de PostgreSQL 9.0 beta 3 est disponible. Normalement, tout est traduit. Peut-être mal, il va falloir que je fasse une passe importante de relecture. En attendant, un &lt;a href=&quot;http://docs.postgresql.fr/9.0/&quot; hreflang=&quot;fr&quot;&gt;lien pour consulter la doc en ligne&lt;/a&gt; et un &lt;a href=&quot;http://docs.postgresql.fr/9.0/pg90.pdf&quot; hreflang=&quot;fr&quot;&gt;lien pour récupérer le PDF&lt;/a&gt;.&lt;/p&gt;


&lt;p&gt;Merci de me rapporter tout soucis constaté dans la traduction.&lt;/p&gt;


&lt;p&gt;Update: correction du lien vers le PDF. Merci à &amp;quot;Fly&amp;quot;.&lt;/p&gt;</description>
	<pubDate>jeu, 15 jui 2010 11:27:00 +0000</pubDate>
</item>
<item>
	<title>Actualités PostgreSQL.fr: Sortie de la verion beta 3 de PostgreSQL 9.0</title>
	<guid>urn:md5:e04ea2674d51729f6a4e4f831c7c961c</guid>
	<link>http://blog.postgresql.fr/index.php?post/2010/07/13/Sortie-de-la-verion-beta-3-de-PostgreSQL-9.0</link>
	<description>&lt;p&gt;La 3ème version beta de PostgreSQL 9.0 est désormais disponible. Cette version contient de nombreuses corrections et plusieurs changements par rapport à la Beta 2, notamment un dépoussiérage final de la Streaming Replication et du Hot Standby. N'hésitez pas à télécharger, installer et tester cette version pour aider les développeurs à avancer vers la version finale. Plusieurs changement significatifs ont été introduit dans la Beta3, ce qui implique que certaines fonctionnalités doivent être re-testées, notamment&amp;nbsp;:&lt;/p&gt;


&lt;pre&gt;   *  Corrections du hot standby
   *  Correction de la gestion des tableaux en plpython
   *  Plusieurs corrections pour dblink
   *  Support du TCP keepalive dans libpq
   *  Correction du comportement de checkSeek() sur les platformes anciennes&lt;/pre&gt;


&lt;p&gt;Notez que suite à un changement du catalogue système, un initdb et un reload sont nécessaires pour mettre à jour depuis la version 9.0Beta1. C'est une belle opportunité pour tester pg_upgrade à partir de la version Beta2 ou antérieure.&lt;/p&gt;


&lt;p&gt;Si vous avez la possibilité de réaliser des tests, rendez-vous sur&lt;a href=&quot;http://www.postgresql.org/developer/beta&quot; hreflang=&quot;en&quot;&gt; la page dédiée aux tests de la version beta&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Nous rappelons que les versions beta ne sont pas stables et qu'elles ne doivent pas être utilisées en production. Elles sont uniquement destinées aux tests. D'autres versions beta et des versions candidates seront produites dans les semaines à venir…&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;L'annonce officielle&amp;nbsp;: &lt;a href=&quot;http://www.postgresql.org/about/news.1220&quot; hreflang=&quot;en&quot;&gt;http://www.postgresql.org/about/news.1220&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Lien de téléchargement&amp;nbsp;: &lt;a href=&quot;http://www.postgresql.org/ftp/source/v9.0beta3/&quot; hreflang=&quot;en&quot;&gt;http://www.postgresql.org/ftp/source/v9.0beta3/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
	<pubDate>mar, 13 jui 2010 07:18:34 +0000</pubDate>
</item>
<item>
	<title>Guillaume Lelarge: Comment un problème constaté chez un client peut se transformer en un nouveau patch pour PostgreSQL</title>
	<guid>urn:md5:7efeba317cd06eb9b075c01aacc5e0a4</guid>
	<link>http://blog.guillaume.lelarge.info/index.php/post/2010/07/03/Comment-un-probl%C3%A8me-constat%C3%A9-chez-un-client-peut-se-transformer-en-un-nouveau-patch-pour-PostgreSQL</link>
	<description>&lt;p&gt;Mardi dernier, un client en support &lt;a href=&quot;http://www.dalibo.com&quot; hreflang=&quot;fr&quot;&gt;nous&lt;/a&gt; appelle à cause d'un problème d'espace disque. Il est en version 8.2. Il dispose de place libre sur d'autres partitions. Rien de plus simple. Il suffit de créer un tablespace sur une des partitions où il reste suffisamment d'espace et d'y déplacer quelques objets pour faire de la place sur le répertoire principal des données. Tout se passe bien : création du répertoire, ajout du tablespace (avec &lt;a href=&quot;http://docs.postgresql.fr/current/sql-createtablespace.html&quot; hreflang=&quot;fr&quot;&gt;CREATE TABLESPACE&lt;/a&gt;), choix de la table à déplacer, et déplacement de la table (avec un &lt;a href=&quot;http://docs.postgresql.fr/current/sql-altertable.html&quot; hreflang=&quot;fr&quot;&gt;ALTER TABLE&lt;/a&gt;). Malheureusement, l'opération prends du temps, beaucoup de temps. Et les performances du serveur ont commencé à en pâtir. Le client a voulu interrompre l'opération, quitte à la reprendre plus tard. Pas de soucis, un simple Ctrl-C doit suffire. Et bien non, Ctrl-C et pg_cancel_backend() nous indiquaient bien que la demande d'annulation avait été envoyée mais les opérations sur le disque continuaient et psql ne nous rendait pas la main. Nous avons donc été forcés d'attendre la fin de l'opération.&lt;/p&gt;


&lt;p&gt;Pendant ce temps, j'ai commencé à tester sur mon portable et a fouillé dans le code. Et j'ai fini par me rendre compte que rien ne permettait une prise en compte du signal pendant la copie. Autrement dit, vous lancez un changement de tablespace pour la table X de 50 Go, vous essayez de l'annuler au tout début, il vous faudra quand même attendre la fin de la copie des 50 Go pour que votre demande d'annulation soit prise en compte. Très dommageable. Il faut corriger ça. Tout le code se trouve dans la fonction &lt;code&gt;copy_relation_data&lt;/code&gt; du fichier &lt;code&gt;src/backend/commands/tablecmds.c&lt;/code&gt;. Une boucle s'occupe de la copie :&lt;/p&gt;


&lt;pre&gt; for (blkno = 0; blkno &amp;lt; nblocks; blkno++)
 {    
     smgrread(src, forkNum, blkno, buf);
 
     /* XLOG stuff */
     if (use_wal)
         log_newpage(&amp;amp;dst-&amp;gt;smgr_rnode, forkNum, blkno, page);
 
     /*   
      * Now write the page.  We say isTemp = true even if it's not a temp
      * rel, because there's no need for smgr to schedule an fsync for this
      * write; we'll do it ourselves below.
      */
     smgrextend(dst, forkNum, blkno, buf, true);
 }&lt;/pre&gt;


&lt;p&gt;Autrement dit, on lit chaque bloc du fichier source, que l'on copie dans le fichier destination. Une bête copie bloc par bloc, avec aucun moyen de l'interrompre.&lt;/p&gt;


&lt;p&gt;De mes lectures dans &lt;a href=&quot;http://archives.postgresql.org/pgsql-hackers/&quot; hreflang=&quot;en&quot;&gt;pgsql-hackers&lt;/a&gt;, je me rappelais qu'il existe une fonction appelée CHECK_FOR_INTERRUPTS faisant exactement le travail dont j'avais besoin. J'ai donc uniquement ajouté un appel à cette fonction au début de la boucle, ce qui donne au final :&lt;/p&gt;


&lt;pre&gt; for (blkno = 0; blkno &amp;lt; nblocks; blkno++)
 {    
     /* If we got a cancel signal during the copy of the data, quit */
     CHECK_FOR_INTERRUPTS();
    
     smgrread(src, forkNum, blkno, buf);
     
     /* XLOG stuff */
     if (use_wal)
         log_newpage(&amp;amp;dst-&amp;gt;smgr_rnode, forkNum, blkno, page);
   
     /*   
      * Now write the page.  We say isTemp = true even if it's not a temp
      * rel, because there's no need for smgr to schedule an fsync for this
      * write; we'll do it ourselves below.
      */
     smgrextend(dst, forkNum, blkno, buf, true);
 }&lt;/pre&gt;


&lt;p&gt;Une compilation et quelques tests après, je me suis aperçu que tout fonctionnait comme je le souhaitais. L'annulation se fait exactement au moment où je la demande.&lt;/p&gt;


&lt;p&gt;J'ai corrigé aussi le déplacement d'une base de données. Le patch terminé, je l'ai envoyé sur pgsql-hackers pour qu'il puisse être testé, relu et enfin commité. Je l'ai même &lt;a href=&quot;https://commitfest.postgresql.org/action/patch_view?id=331&quot; hreflang=&quot;en&quot;&gt;saisi sur le site commitfest&lt;/a&gt;. Robert Haas s'en est occupé et l'a finalement commité vendredi sur toutes les versions, de la 8.0 (version à laquelle les tablespaces ont été ajoutées) à la future 9.0.&lt;/p&gt;</description>
	<pubDate>sam, 03 jui 2010 09:45:00 +0000</pubDate>
</item>
<item>
	<title>Actualités PostgreSQL.fr: Nouvelles hebdomadaires de PostgreSQL - 27 juin 2010</title>
	<guid>urn:md5:abb35a5dfb22b0ff75494218045f5b23</guid>
	<link>http://blog.postgresql.fr/index.php?post/2010/07/02/Nouvelles-hebdomadaires-de-PostgreSQL-27-juin-2010</link>
	<description>&lt;p&gt;PostgreSQL est &amp;agrave; la recherche de citations/t&amp;eacute;moignages pour la publication de la version 9.0. Si vous attendez avec impatience une ou plusieurs des fonctionnalit&amp;eacute;s de la 9.0, et que vous repr&amp;eacute;sentez une entreprise ou une organisation gouvernementale ou non, envoyez-nous s'il vous plait votre participation &amp;agrave; josh@postgresql.org.&lt;/p&gt;
&lt;p&gt;PGXN, le &quot;PostgreSQL Extension Network&quot;, inspir&amp;eacute; du CPAN, a &amp;eacute;t&amp;eacute; lanc&amp;eacute;&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.pgxn.org/&quot;&gt;http://www.pgxn.org/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Les nouveaut&amp;eacute;s des produits d&amp;eacute;riv&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Slony-I 2.0.4, un syst&amp;egrave;me de r&amp;eacute;plication-en-cascade-ma&amp;icirc;tre-&amp;agrave;-multiples-esclaves pour PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.slony.info/&quot;&gt;http://www.slony.info/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Benetl 3.5, un outil d'ETL pour PostgreSQL, sp&amp;eacute;cialis&amp;eacute; dans les fichiers&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.benetl.net&quot;&gt;http://www.benetl.net&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Muldis-D 0.130.0, une sp&amp;eacute;cification pour un langage objet-relationnel pr&amp;eacute;vu pour utiliser, entre autres syst&amp;egrave;mes, PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://muldis.com/Muldis_D.html&quot;&gt;http://muldis.com/Muldis_D.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Offres d'emplois autour de PostgreSQL en juin&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Internationales&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://archives.postgresql.org/pgsql-jobs/2010-06/threads.php&quot;&gt;http://archives.postgresql.org/pgsql-jobs/2010-06/threads.php&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;Francophones&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://forums.postgresql.fr/viewforum.php?id=4&quot;&gt;http://forums.postgresql.fr/viewforum.php?id=4&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL Local&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CHAR(10), la conf&amp;eacute;rence PostgreSQL d&amp;eacute;di&amp;eacute;e au clustering, &amp;agrave; la haute-disponibilit&amp;eacute; et &amp;agrave; la r&amp;eacute;plication vient d'ouvrir les inscriptions en ligne et les r&amp;eacute;servations. 2 &amp;amp; 3 juillet 2010, Oriel College, Universit&amp;eacute; d'Oxford (Royaume-Uni)&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.char10.org/&quot;&gt;http://www.char10.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Le PDXPUG Day est programm&amp;eacute; pour le 18 juillet 2010 &amp;agrave; &quot;l'Oregon Convention Center&quot; &amp;agrave; Portland. D'avantage d'informations&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://wiki.postgresql.org/wiki/PDXPUGDay2010&quot;&gt;http://wiki.postgresql.org/wiki/PDXPUGDay2010&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;L'OSCON aura lieu &amp;agrave; Portland (Oregon) du 19 au 23 juillet 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.oscon.com/oscon2010&quot;&gt;http://www.oscon.com/oscon2010&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;La FrOSCon 2010 aura lieu &amp;agrave; St. Augustin, Allemagne les 21 &amp;amp; 22 ao&amp;ucirc;t 2010. Le PUG allemand a obtenu sa propre salle de dev. et est &amp;agrave; la recherche de conf&amp;eacute;renciers. Plus de d&amp;eacute;tails&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://andreas.scherbaum.la/blog/archives/711-FrOSCon-2010-PostgreSQL-devroom-Call-for-papers.html&quot;&gt;http://andreas.scherbaum.la/blog/archives/711-FrOSCon-2010-PostgreSQL-devroom-Call-for-papers.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL dans les m&amp;eacute;dia&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Planet PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planet.postgresql.org/&quot;&gt;http://planet.postgresql.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Planet PostgreSQLFr&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planete.postgresql.fr/&quot;&gt;http://planete.postgresql.fr/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;i&gt;PostgreSQL Weekly News / les nouvelles hebdomadaires vous sont offertes cette semaine par David Fetter. Traduction par l'&amp;eacute;quipe PostgreSQLFr sous licence CC BY-NC-SA.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;&lt;i&gt;Proposez vos articles ou annonces avant dimanche 15:00 (heure du Pacifique). Merci de les envoyer en anglais &amp;agrave; david (a) fetter.org, en allemand &amp;agrave; pwn (a) pgug.de, en italien &amp;agrave; pwn (a) itpug.org et en espagnol &amp;agrave; pwn (a) arpug.com.ar.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;(&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/community/weeklynews/pwn20100627&quot;&gt;lien vers l'article original&lt;/a&gt;)&lt;/p&gt;    &lt;p&gt;&lt;strong&gt;Correctifs appliqu&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Heikki Linnakangas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/pl/plpgsql/src/pl_exec.c, in a PL/pgSQL &quot;FOR cursor&quot; statement, the statements executed in the loop might close the cursor, rendering the Portal pointer to it invalid. Closing the cursor in the middle of the loop is not a very sensible thing to do, but we must handle it gracefully and throw an error instead of crashing.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Robert Haas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Minor markup improvements for Hot Standby documentation.&lt;/li&gt;
&lt;li&gt;Deprecate the use of =&amp;gt; as an operator name. In HEAD, emit a warning when an operator named =&amp;gt; is defined. In both HEAD and the backbranches (except in 8.2, where contrib modules do not have documentation), document that hstore's text =&amp;gt; text operator may be removed in a future release, and encourage the use of the hstore(text, text) function instead. This function only exists in HEAD (previously, it was called tconvert), so backpatch it back to 8.2, when hstore was added. Per discussion.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/hstore/expected/hstore.out, updated expected-output file for hstore. This is an oversight in my previous patch to deprecate =&amp;gt; as an operator name. Per buildfarm.&lt;/li&gt;
&lt;li&gt;Add TCP keepalive support to libpq. This adds four additional connection parameters to libpq: keepalives, keepalives_idle, keepalives_count, and keepalives_interval. keepalives default to on, per discussion, but can be turned off by specifying keepalives=0. The remaining parameters, where supported, can be used to adjust how often keepalives are sent and how many can be lost before the connection is broken. The immediate motivation for this patch is to make sure that walreceiver will eventually notice if the master reboots without closing the connection cleanly, but it should be helpful in other cases as well. Tollef Fog Heen, Fujii Masao, and me.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/postmaster/postmaster.c, add stray &quot;else&quot; that seems to have gone missing.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, further 9.0 release notes updates. Josh Berkus.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/high-availability.sgml, some copy-editing of the Hot Standby documentation. Thanks to Joshua Tolley for the review.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/installation.sgml, make AIX suggestions about disabling ipv6 more version-sensitive. Chris Browne, based on a report from John Pierce.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/libpq.sgml, rewrite docs for new libpq keepalive parameters. The revised documentation makes it more clear that these are client-side parameters, rather than server side parameters. It also puts the main point of each parameter first, and consolidates the conditions under which it might be ignored in a single list at the end.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Bruce Momjian a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ref/pg_ctl-ref.sgml, update pg_ctl docs to explain server output behavior differences on win32 and non-win32 platforms.&lt;/li&gt;
&lt;li&gt;Fix pg_upgrade's use of pg_ctl on Win32 to not send command and sever output to the same file, because it is impossible. Also set user name for pg_dumpall in pg_upgrade.&lt;/li&gt;
&lt;li&gt;Add username designations to all pg_upgrade utility calls that support it.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ref/alter_table.sgml, mention that when alter rewrites a table, indexes are also rebuilt.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Simon Riggs a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fix log_temp_files docs and comments to say bytes not kilobytes. stat(2) field st_size returns bytes not kilobytes. Bug found during recent performance tuning for PostgreSQL user.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tom Lane a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fix thinko in tok_is_keyword(): it was looking at the wrong union variant of YYSTYPE, and hence returning the wrong answer for cases where a plpgsql &quot;unreserved keyword&quot; really does conflict with a variable name. Obviously I didn't test this enough :-(. Per bug #5524 from Peter Gagarinov.&lt;/li&gt;
&lt;li&gt;In pgsql/src/bin/pg_dump/pg_backup_custom.c, fix pg_restore so parallel restore doesn't fail when the input file doesn't contain data offsets (which it won't, if pg_dump thought its output wasn't seekable). To do that, remove an unnecessarily aggressive error check, and instead fail if we get to the end of the archive without finding the desired data item. Also improve the error message to be more specific about the cause of the problem. Per discussion of recent report from Igor Neyman. Back-patch to 8.4 where parallel restore was introduced.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs rejet&amp;eacute;s (&amp;agrave; ce jour)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pas de d&amp;eacute;ception cette semaine&amp;nbsp;:-)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs en attente&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Guillaume Lelarge sent in a patch to add a CHECK_FOR_INTERRUPTS call to the copy_relation_data(), copy_dir(), and copy_file() functions, which fixes an issue where cancelling ALTER TABLE ... SET TABLESPACE and ALTER DATABASE ... SET TABLESPACE did not work.&lt;/li&gt;
&lt;li&gt;Heikki Linnakangas sent in a patch to fix an issue where the server would crash while trying to read an expression using pg_get_expr().&lt;/li&gt;
&lt;li&gt;Andrew Dunstan sent in a WIP patch to make ENUMs alterable.&lt;/li&gt;
&lt;li&gt;Kevin Grittner sent in a cleaned-up version of the patch to allow dividing money by money.&lt;/li&gt;
&lt;li&gt;Peter Eisentraut sent in a patch to make PostgreSQL compile under clang.&lt;/li&gt;
&lt;li&gt;Peter Eisentraut sent in another revision of the patch which allows ommission of non-aggregate columns in certain situations in GROUP BY.&lt;/li&gt;
&lt;li&gt;Pavel Baros sent in a patch to implement materialized views.&lt;/li&gt;
&lt;li&gt;Robert Haas sent in a patch to simplify emode_for_corrupt_record.&lt;/li&gt;
&lt;li&gt;Mark Fowler sent in another revision of the patch to add an xpath_exists function.&lt;/li&gt;
&lt;li&gt;Mark Fowler sent in another revision of the patch to add XMLEXISTS to the grammar.&lt;/li&gt;
&lt;li&gt;Robert Haas sent in a patch to allow suppressing crash recovery after a crash, per discussion on -performance about a volatile version of PostgreSQL.&lt;/li&gt;
&lt;/ul&gt;</description>
	<pubDate>jeu, 01 jui 2010 23:31:05 +0000</pubDate>
</item>
<item>
	<title>Guillaume Lelarge: Vous voulez connaître les nouveautés de la 9.0 ?</title>
	<guid>urn:md5:cbf08b4830e0380339be880d8b9dd88d</guid>
	<link>http://blog.guillaume.lelarge.info/index.php/post/2010/06/26/Vous-voulez-conna%C3%AEtre-les-nouveaut%C3%A9s-de-la-9.0</link>
	<description>&lt;p&gt;Alors allez lire le document rédigé par Marc Cousin. Il existe en &lt;a href=&quot;http://blog.postgresql.fr/index.php?post/2010/06/16/Pr%C3%A9sentation-de-la-version-9.0-de-PostgreSQL2&quot; hreflang=&quot;fr&quot;&gt;version française&lt;/a&gt; et en &lt;a href=&quot;http://wiki.postgresql.org/wiki/Illustrated_9_0&quot; hreflang=&quot;en&quot;&gt;version anglaise&lt;/a&gt;. &lt;a href=&quot;http://archives.postgresql.org/pgsql-advocacy/2010-06/msg00080.php&quot; hreflang=&quot;en&quot;&gt;Josh Berkus semble l'avoir beaucoup apprécié.&lt;/a&gt;. Et avec raison, car ce document est une mine.&lt;/p&gt;</description>
	<pubDate>sam, 26 jun 2010 21:44:00 +0000</pubDate>
</item>
<item>
	<title>Actualités PostgreSQL.fr: Nouvelles hebdomadaires de PostgreSQL - 20 juin 2010</title>
	<guid>urn:md5:1db97ea6b5df60029af31a4706fe90ad</guid>
	<link>http://blog.postgresql.fr/index.php?post/2010/06/25/Nouvelles-hebdomadaires-de-PostgreSQL-20-juin-2010</link>
	<description>&lt;p&gt;&lt;strong&gt;Offres d'emplois autour de PostgreSQL en juin&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Internationales&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://archives.postgresql.org/pgsql-jobs/2010-06/threads.php&quot;&gt;http://archives.postgresql.org/pgsql-jobs/2010-06/threads.php&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;Francophones&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://forums.postgresql.fr/viewforum.php?id=4&quot;&gt;http://forums.postgresql.fr/viewforum.php?id=4&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL Local&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Conf&amp;eacute;rence de Michael Renner au Netways OSDC &amp;agrave; Nuremberg (All.) les 23 &amp;amp; 24 juin 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.netways.de/osdc/y2010/programm/&quot;&gt;http://www.netways.de/osdc/y2010/programm/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;CHAR(10), la conf&amp;eacute;rence PostgreSQL d&amp;eacute;di&amp;eacute;e au clustering, &amp;agrave; la haute-disponibilit&amp;eacute; et &amp;agrave; la r&amp;eacute;plication vient d'ouvrir les inscriptions en ligne et les r&amp;eacute;servations. 2 &amp;amp; 3 juillet 2010, Oriel College, Universit&amp;eacute; d'Oxford (Royaume-Uni)&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.char10.org/&quot;&gt;http://www.char10.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Le PDXPUG Day est programm&amp;eacute; pour le 18 juillet 2010 &amp;agrave; &quot;l'Oregon Convention Center&quot; &amp;agrave; Portland. D'avantage d'informations&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://wiki.postgresql.org/wiki/PDXPUGDay2010&quot;&gt;http://wiki.postgresql.org/wiki/PDXPUGDay2010&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;L'OSCON aura lieu &amp;agrave; Portland (Oregon) du 19 au 23 juillet 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.oscon.com/oscon2010&quot;&gt;http://www.oscon.com/oscon2010&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL dans les m&amp;eacute;dia&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Planet PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planet.postgresql.org/&quot;&gt;http://planet.postgresql.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Planet PostgreSQLFr&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planete.postgresql.fr/&quot;&gt;http://planete.postgresql.fr/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;i&gt;PostgreSQL Weekly News / les nouvelles hebdomadaires vous sont offertes cette semaine par David Fetter. Traduction par l'&amp;eacute;quipe PostgreSQLFr sous licence CC BY-NC-SA.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;&lt;i&gt;Proposez vos articles ou annonces avant dimanche 15:00 (heure du Pacifique). Merci de les envoyer en anglais &amp;agrave; david (a) fetter.org, en allemand &amp;agrave; pwn (a) pgug.de, en italien &amp;agrave; pwn (a) itpug.org et en espagnol &amp;agrave; pwn (a) arpug.com.ar.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;(&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/community/weeklynews/pwn20100620&quot;&gt;lien vers l'article original&lt;/a&gt;)&lt;/p&gt;    &lt;p&gt;&lt;strong&gt;Correctifs appliqu&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Heikki Linnakangas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlog.c, if a corrupt WAL record is received by streaming replication, disconnect and retry. If the record is genuinely corrupt in the master database, there's little hope of recovering, but it's better than simply retrying to apply the corrupt WAL record in a tight loop without even trying to retransmit it, which is what we used to do.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ITAGAKI Takahiro a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/bin/psql/po/ja.po, fix typo in Japanese translation for psql &quot;Use \d+ to list them.&quot;&lt;/li&gt;
&lt;li&gt;Add new GUC categories corresponding to sections in docs, and move description for vacuum_defer_cleanup_age to the correct category. Sections in postgresql.conf are also sorted in the same order with docs. Per gripe by Fujii Masao, suggestion by Heikki Linnakangas, and patch by me.&lt;/li&gt;
&lt;li&gt;In pgsql/src/include/replication/walsender.h, remove prototype of GetOldestWALSendPointer(), that is marked as NOT_USED.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Simon Riggs a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/contrib/Makefile, new contrib module for use as an archive_cleanup_command, or as a standalone utility for removing files from archive.&lt;/li&gt;
&lt;li&gt;Files for pg_archivecleanup.&lt;/li&gt;
&lt;li&gt;Docs for pg_archivecleanup.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Bruce Momjian a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/plperl.sgml, fix doc plperl doc with is -&amp;gt; are change.&lt;/li&gt;
&lt;li&gt;Properly define pg_upgrade global variable, per bug report from Chris Ruprecht on Mac (64 bit).&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ref/select.sgml, clarify SELECT FOR UPDATE behavior in docs.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/option.c, fix storage of getopt() return, should be 'int', for pg_upgrade. Steve Singer.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, 9.0 release notes updates. Josh Berkus&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, update doc description for 9.0 release note item: Have SELECT and CREATE TABLE AS return row counts to the client&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/tablespace.c, fix pg_upgrade to remove malloc(0) call.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tom Lane a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/contrib/dblink/dblink.c, rearrange dblink's dblink_build_sql_insert() and related routines to open and lock the target relation just once per SQL function call. The original coding obtained and released lock several times per call. Aside from saving a not-insignificant number of cycles, this eliminates possible race conditions if someone tries to modify the relation's schema concurrently. Also centralize locking and permission-checking logic. Problem noted while investigating a trouble report from Robert Voinea --- his problem is still to be fixed, though.&lt;/li&gt;
&lt;li&gt;Consolidate and improve checking of key-column-attnum arguments for dblink_build_sql_insert() and related functions. In particular, be sure to reject references to dropped and out-of-range column numbers. The numbers are still interpreted as physical column numbers, though, for backward compatibility. This patch replaces Joe Conway's patch of 2010-02-03, which handled only some aspects of the problem.&lt;/li&gt;
&lt;li&gt;Fix dblink_build_sql_insert() and related functions to handle dropped columns correctly. In passing, get rid of some dead logic in the underlying get_sql_insert() etc functions --- there is no caller that will pass null value-arrays to them. Per bug report from Robert Voinea.&lt;/li&gt;
&lt;li&gt;Change the interpretation of the primary_key_attnums parameter of dblink_build_sql_insert() and related functions. Now the column numbers are treated as logical not physical column numbers. This will provide saner behavior in the presence of dropped columns; furthermore, if we ever get around to allowing rearrangement of logical column ordering, the original definition would become nearly untenable from a usability standpoint. Per recent discussion of dblink's handling of dropped columns. Not back-patched for fear of breaking existing applications.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/libpq.sgml, fix typo, init =&amp;gt; int, per KOIZUMI Satoru.&lt;/li&gt;
&lt;li&gt;Don't allow walsender to send WAL data until it's been safely fsync'd on the master. Otherwise a subsequent crash could cause the master to lose WAL that has already been applied on the slave, resulting in the slave being out of sync and soon corrupt. Per recent discussion and an example from Robert Haas. Fujii Masao.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ref/copy.sgml, add missing close brackets in old-style COPY syntax diagram. Spotted by Evan Carroll.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_archivecleanup/pg_archivecleanup.c, clean up pg_archivecleanup's error and logging output: put newlines in sane places, make messages follow project's message style guidelines. Also, avoid closedir(NULL). Fujii Masao and Tom Lane&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlog.c, make RemoveOldXlogFiles's debug printout match style used elsewhere: log and seg aren't an XLogRecPtr and shouldn't be printed like one. Fujii Masao.&lt;/li&gt;
&lt;li&gt;Clean up some randomness associated with trace_recovery_messages: don't put the variable declaration in the middle of a bunch of externs, and do use extern where it should be used.&lt;/li&gt;
&lt;li&gt;Fix mishandling of whole-row Vars referencing a view or sub-select. If such a Var appeared within a nested sub-select, we failed to translate it correctly during pullup of the view, because the recursive call to replace_rte_variables_mutator was looking for the wrong sublevels_up value. Bug was introduced during the addition of the PlaceHolderVar mechanism. Per bug #5514 from Marcos Castedo.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Andrew Dunstan a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/tools/msvc/Mkvcbuild.pm, unbreak MSVC builds for pg_archivecleanup by linking with libpgport.&lt;/li&gt;
&lt;li&gt;Remove perl symbol table additions for plperl functions, and mention of it in the release notes, as it is not apparently providing anything useful.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Robert Haas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ref/analyze.sgml, document new 9.0 behavior of ANALYZE on inheritance hierarchies. In particular, note that autovacuum does not yet understand that it might need to vacuum inheritance parents as a result of changes to the child tables.&lt;/li&gt;
&lt;li&gt;Remove hstore's text[] =&amp;gt; text[] operator. This is not yet in any released version, so we still have the option to backtrack. Instead, document hstore(text[], text[]). Per discussion.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/func.sgml, document that receive location can rewind if replication restarts. Fujii Masao, with some further wordsmithing by me.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Peter Eisentraut a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Refactor sprintf calls with computed format strings into multiple calls with constant format strings, so that the compiler can more easily check the formats for correctness.&lt;/li&gt;
&lt;li&gt;Add notes that CREATE/DROP CONVERSION is similar to CREATE/DROP TRANSLATION in the SQL standard.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs rejet&amp;eacute;s (&amp;agrave; ce jour)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pas de d&amp;eacute;ception cette semaine&amp;nbsp;:-)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs en attente&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Robert Haas sent in a patch to implement --quote-all-identifiers for pg_dump and pg_dumpall, per discussion.&lt;/li&gt;
&lt;li&gt;KaiGai Kohei sent in two revisions of a patch to add a security hook to InitPostgres().&lt;/li&gt;
&lt;li&gt;KaiGai Kohei sent in a patch to rework DML permissions checks.&lt;/li&gt;
&lt;li&gt;KaiGai Kohei sent in a patch to add makeRangeTblEntry into makefuncs.c.&lt;/li&gt;
&lt;li&gt;KaiGai Kohei sent in a patch to modify the ExecutorCheckPerms() hook.&lt;/li&gt;
&lt;li&gt;Fujii Masao sent in a patch to fix a condition where the server crashes during streaming replication.&lt;/li&gt;
&lt;li&gt;Dimitri Fontaine sent in a patch to add a pg_archive_bypass command.&lt;/li&gt;
&lt;li&gt;Robert Haas sent in another patch for get_whatever_oid.&lt;/li&gt;
&lt;li&gt;Mike Lewis sent in another revision of the patch to enhance performance in array utility functions.&lt;/li&gt;
&lt;li&gt;ITAGAKI Takahiro sent in a patch to reorganize GUC categories.&lt;/li&gt;
&lt;li&gt;ITAGAKI Takahiro sent in a patch to implement foreign tables for SQL/MED.&lt;/li&gt;
&lt;li&gt;Robert Haas sent in a patch to turn =&amp;gt; into &amp;amp; for hstore.&lt;/li&gt;
&lt;li&gt;Florian Pflug sent in a patch to show individual statement latencies in pgbench output.&lt;/li&gt;
&lt;li&gt;Zoltan Boszormenyi sent in a patch to fix a performance problem in ECPG.&lt;/li&gt;
&lt;li&gt;ITAGAKI Takahiro sent in an update revision of the patch for table partitioning syntax.&lt;/li&gt;
&lt;li&gt;ITAGAKI Takahiro sent in a patch to add a view to pg_catalog for walsender activity.&lt;/li&gt;
&lt;/ul&gt;</description>
	<pubDate>jeu, 24 jun 2010 22:07:28 +0000</pubDate>
</item>
<item>
	<title>Actualités PostgreSQL.fr: Présentation de la version 9.0 de PostgreSQL</title>
	<guid>urn:md5:45dc7ea07698084592d13f456b6691ec</guid>
	<link>http://blog.postgresql.fr/index.php?post/2010/06/16/Pr%C3%A9sentation-de-la-version-9.0-de-PostgreSQL2</link>
	<description>&lt;p&gt;Ce document tente de présenter les principaux changements apportés par PostgreSQL 9.0, par rapport à la version majeure précédente, la version 8.4. Dans la mesure du possible, chaque fonctionnalité sera expliquée et accompagnée d'une démonstration. Toutes les nouveautés ne sont bien sûr pas présentées (il y en a plus de 200).&lt;/p&gt;
&lt;p&gt;La version 9.0, comme son nom l'indique, est une version capitale dans la progression de PostgreSQL. Même si les solutions de réplication pour PostgreSQL sont nombreuses et répondent à des problématiques variées, la version 9.0 apporte une réplication simple, robuste et intégrée au moteur, qui sera vraisemblablement utilisée par défaut dans la plupart des configurations de Haute Disponibilité reposant sur PostgreSQL.&lt;/p&gt;
&lt;p&gt;Les changements ont été subdivisés en quatre parties:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Les deux nouveautés incontournables&lt;/li&gt;
&lt;li&gt;Les nouveautés&lt;/li&gt;
&lt;li&gt;Les changements pouvant entraîner des régressions&lt;/li&gt;
&lt;li&gt;Les améliorations&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Les incontournables&lt;/h2&gt;
&lt;p&gt;Ces deux nouveautés sont celles qui ont justifié à elles seules le renommage de 8.5 en 9.0.&lt;/p&gt;
&lt;h3&gt;Hot Standby&lt;/h3&gt;
&lt;p&gt;Cette nouvelle fonctionnalité est une des deux raisons du renommage en 9.0. Il s'agit de proposer une base de 'Standby', c'est-à-dire une baseappliquant les journaux binaires générés par la base de production, tout&amp;nbsp;&amp;nbsp;en la rendant ouverte en lecture seule. Ceci est assez complexe car, pendant l'exécution de ces requêtes en lecture seule, la base en Standby doit aussi pouvoir appliquer les données binaires provenant de la base de production, être capable de décider si les modifications peuvent entrer en conflit avec les lectures et déterminer les actions à entreprendre en conséquence&amp;nbsp;: mettre en pause la restauration ou tuer des requêtes en lecture seule. Ce patch est volumineux et complexe, il rajoute des informations dans la journalisation à l'intention de la base de Standby et un mécanisme de résolution des conflits. C'est donc une des fonctionnalités majeures, et une des principales fonctionnalités à aider à tester.&lt;/p&gt;
&lt;p&gt;Pour mettre ceci en place, il suffit de paramétrer la base de production comme suit&amp;nbsp;:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;postgresql.conf&lt;/code&gt; Primaire:&lt;/p&gt;
&lt;pre&gt;wal_level = 'hot standby' # Génère les informations supplémentaires dans les journaux&lt;br /&gt;# vacuum_defer_cleanup_age # Optionnellement, vous pourriez vouloir paramétrer ceci, mais son réglage pourrait être complexe&lt;/pre&gt;
&lt;p&gt;Ensuite, créer une base de standby (la procédure est la même que précédemment pour un Warm Standby&amp;nbsp;: pg_start_backup sur la production, recopie des fichiers sur l'esclave, pg_end_backup sur la production).&lt;/p&gt;
&lt;p&gt;Puis il suffit de recopier les journaux sur le secondaire et de rajouter ceci dans son postgresql.conf&amp;nbsp;: &lt;/p&gt;
&lt;p&gt;&lt;code&gt;postgresql.conf&lt;/code&gt; Secondaire:&lt;/p&gt;
&lt;pre&gt;hot_standby=on&lt;br /&gt;max_standby_delay=30s # -1= toujours attendre, 0= ne jamais attendre, sinon attendre cette durée&lt;/pre&gt;
&lt;p&gt;et d'utiliser un programme comme pg_standby sur le secondaire pour intégrer les journaux (à paramétrer dans le &lt;code&gt;recovery.conf&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;max_standby_delay permet de déterminer le comportement de la base de standby en cas de conflit entre l'application des journaux de transactions et les requêtes en lecture seule. En cas de conflit, la base de standby acceptera d'attendre au plus max_standby_delay avant de tuer les requêtes en lecture qui bloquent l'application des journaux.&lt;/p&gt;
&lt;p&gt;Il est bien sûr vivement conseillé de lire la documentation avant de mettre en place cette fonctionnalité… Ne serait-ce que pour bien comprendre les conséquences du réglage de max_standby_delay et vacuum_defer_cleanup_age, qui ne sont pas simples à appréhender.&lt;/p&gt;
&lt;h3&gt;Streaming Replication&lt;/h3&gt;
&lt;p&gt;C'est la deuxième moitié de la raison du passage en 9.0. Il s'agit cette fois-ci de modifier le mécanisme d'archivage pour le rendre continu&amp;nbsp;: les bases de standby peuvent donc se connecter au maître et récupérer à tout moment ce qui leur manque des journaux, non plus en termes de fichiers entiers, mais bien en termes d'enregistrements dans ces journaux (des fragments de ces fichiers donc). Il s'agit donc bien d'une réplication binaire, pas de la rééxécution dans le même ordre de requêtes SQL comme sur certains autres moteurs de bases de données, avec tous les risques de cohérence que cela impliquerait.&lt;/p&gt;
&lt;p&gt;Les bases de production et de standby sont identiques au niveau binaire (enfin presque, on ne va pas rentrer dans les détails, mais ne vous en faites pas si les fichiers de données n'ont pas la même somme de contrôle).&lt;/p&gt;
&lt;p&gt;wal_level devra valoir «&amp;nbsp;archive&amp;nbsp;» (ou «&amp;nbsp;hot standby ») pour continuer à faire de l'archivage continu.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;postgresql.conf&lt;/code&gt; primaire :&lt;/p&gt;
&lt;pre&gt;max_wal_senders = x # Nombre maximum de « wal_senders », les processus chargés de répondre à des serveurs de standby&lt;br /&gt;wal_keep_segments # Nombre de fichiers de journaux de transactions à conserver en ligne quoi qu'il arrive (évite d'avoir à les recopier manuellement sur le(s) secondaires en cas de déconnection lente)&lt;/pre&gt;
&lt;p&gt;Sur le secondaire&amp;nbsp;:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;recovery.conf&lt;/code&gt; secondaire:&lt;/p&gt;
&lt;pre&gt;stanby_mode = on&lt;br /&gt;primary_conninfo = 'host=192.168.1.50 port=5432 user=foo password=foopass' # La chaîne de connexion pour une session sur le maître&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;postgresql.conf&lt;/code&gt; secondaire:&lt;/p&gt;
&lt;pre&gt;wal_level # à la même valeur que sur le maître (pour le retour de bascule…)&lt;br /&gt;hot_standby=on/off # Suivant que vous voulez en même temps être en hot standby&lt;/pre&gt;
&lt;p&gt;fichier pg_hba.conf&amp;nbsp;:
On doit y créer une entrée pour les connexions de réplication. La base est «&amp;nbsp;replication », l'utilisateur utilisé doit avoir l'attribut de superutilisateur. Attention à ne pas donner des droits trop importants ici, donner accès aux journaux de transactions en lecture à n'importe qui donne accès à des informations privilégiées.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pg_hba.conf&lt;/code&gt; primaire:&lt;/p&gt;
&lt;pre&gt;host    replication     foo             192.168.1.100/32        md5&lt;/pre&gt;
&lt;p&gt;Comme pour Hot Standby, cette fonctionnalité est suffisamment riche et complexe pour qu'il soit vivement conseillé de lire la doc. Et de faire des tests de bascule une fois l'ensemble mis en place.&lt;/p&gt;
&lt;p&gt;Ce qui est très important avec ces deux fonctionnalités, c'est que vous pouvez les utiliser ensemble. Vous pouvez donc avoir donc une base de stanby répliquée de façon quasi-synchrone avec la production, et exécuter des requêtes en lecture seule sur cette base.&lt;/p&gt;
&lt;h2&gt;Les nouveautés&lt;/h2&gt;
&lt;h3&gt;Contraintes d'exclusion&lt;/h3&gt;
&lt;p&gt;Il est maintenant possible de déclarer des contraintes d'unicité plus complexes que celles s'appuyant sur l'opérateur '=' (contrainte d'unicité, deux jeux de colonnes ne pouvant être identiques).&lt;/p&gt;
&lt;p&gt;Nous allons, pour l'illustrer, utiliser l'exemple de l'auteur, en utilisant le type 'temporal' qu'il a aussi développé. Ce type de données permet de définir des 'plages de temps', c'est à dire par exemple 'la plage de 12h15 à 13h15'.&lt;/p&gt;
&lt;p&gt;Il faut donc récupérer le module temporal à l'adresse suivante&amp;nbsp;: http://pgfoundry.org/projects/temporal/ , le compiler et l'installer comme un contrib (exécuter le script SQL fourni).&lt;/p&gt;
&lt;pre&gt;CREATE TABLE reservation&lt;br /&gt;(&lt;br /&gt;  salle      TEXT,&lt;br /&gt;  professeur TEXT,&lt;br /&gt;  durant    PERIOD);&lt;br /&gt;&lt;br /&gt;ALTER TABLE reservation ADD CONSTRAINT test_exclude EXCLUDE   USING gist (salle WITH =,durant WITH &amp;amp;&amp;amp;);&lt;/pre&gt;
&lt;p&gt;Par ceci, nous disons qu'un enregistrement doit être refusé (contrainte d'exclusion) s'il en existe déjà un vérifiant les deux conditions concerner la même salle, et être en intersection au niveau de l'intervalle de temps.&lt;/p&gt;
&lt;pre&gt;marc=# INSERT INTO reservation (professeur,salle,durant) VALUES ( 'marc', 'salle techno', period('2010-06-16 09:00:00', '2010-06-16 10:00:00'));&lt;br /&gt;INSERT 0 1&lt;br /&gt;marc=# INSERT INTO reservation (professeur,salle,durant) VALUES ( 'jean', 'salle chimie', period('2010-06-16 09:00:00', '2010-06-16 11:00:00'));&lt;br /&gt;INSERT 0 1&lt;br /&gt;marc=# INSERT INTO reservation (professor,room,during) VALUES ( 'marc', 'salle chimie', period('2010-06-16 10:00:00', '2010-06-16 11:00:00'));&lt;br /&gt;ERROR:  conflicting key value violates exclusion constraint &quot;test_exclude&quot;&lt;br /&gt;DETAIL:  Key (room, during)=(salle chimie, [2010-06-16 10:00:00+02, 2010-06-16 11:00:00+02)) conflicts with existing key (room, during)=(salle chimie, [2010-06-16 09:00:00+02, 2010-06-16 11:00:00+02)).&lt;/pre&gt;
&lt;p&gt;L'insertion est interdite, puisque la salle de chimie est déjà prise de 9h à 11h.&lt;/p&gt;
&lt;h3&gt;Triggers par colonne&lt;/h3&gt;
&lt;p&gt;Voici d'abord un trigger par colonne.&lt;/p&gt;
&lt;pre&gt;CREATE TRIGGER toto BEFORE UPDATE of a ON t1 FOR EACH ROW EXECUTE PROCEDURE mon_trigger();&lt;/pre&gt;
&lt;p&gt;Ce trigger ne se déclenche que si la colonne a de la table t1 a été modifiée.&lt;/p&gt;
&lt;h3&gt;Triggers WHEN&lt;/h3&gt;
&lt;p&gt;Voici maintenant des exemples tirés de la documentation officielle pour la clause WHEN des triggers:&lt;/p&gt;
&lt;pre&gt;CREATE TRIGGER check_update&lt;br /&gt;BEFORE UPDATE ON accounts&lt;br /&gt;FOR EACH ROW&lt;br /&gt;WHEN (OLD.balance IS DISTINCT FROM NEW.balance)&lt;br /&gt;EXECUTE PROCEDURE check_account_update();&lt;br /&gt;&lt;br /&gt;CREATE TRIGGER log_update&lt;br /&gt;AFTER UPDATE ON accounts&lt;br /&gt;FOR EACH ROW&lt;br /&gt;WHEN (OLD.* IS DISTINCT FROM NEW.*)&lt;br /&gt;EXECUTE PROCEDURE log_account_update();&lt;/pre&gt;&lt;h3&gt;DEFERRABLE UNIQUE CONSTRAINTS&lt;/h3&gt;
&lt;p&gt;Cette fonctionnalité aussi promet d'être pratique. Voici un exemple avec une clé primaire au lieu d'une simple clé unique, mais cela revient au même&amp;nbsp;:&lt;/p&gt;
&lt;pre&gt;marc=# CREATE TABLE test (a int primary key);&lt;br /&gt;marc=# INSERT INTO test values (1), (2);&lt;br /&gt;marc=# UPDATE test set a = a+1;&lt;br /&gt;ERROR:  duplicate key value violates unique constraint &quot;test_pkey&quot;&lt;br /&gt;DETAIL:  Key (a)=(2) already exists.&lt;/pre&gt;
&lt;p&gt;Normal, mais dommage&amp;nbsp;: à la fin de la transaction, mes données auraient été cohérentes. D'autant plus que si la table avait été triée physiquement par ordre descendant, ça passait&amp;nbsp;! En 8.4, il n'y avait pas d'échappatoire simple, il fallait trouver une astuce pour mettre à jour les enregistrements dans le bon ordre.&lt;/p&gt;
&lt;p&gt;Nous pouvons maintenant faire ceci&amp;nbsp;:&lt;/p&gt;
&lt;pre&gt;marc=# CREATE TABLE test (a int primary key deferrable);&lt;br /&gt;marc=# INSERT INTO test values (2),(1);&lt;br /&gt;marc=# UPDATE test set a = a+1;&lt;br /&gt;ERROR:  duplicate key value violates unique constraint &quot;test_pkey&quot;&lt;br /&gt;DETAIL:  Key (a)=(2) already exists.&lt;/pre&gt;
&lt;p&gt;Ah zut, ça ne marche pas. &lt;/p&gt;
&lt;p&gt;En fait, je l'ai fait exprès&amp;nbsp;: j'en profite pour faire un petit rappel sur les contraintes deferrable/deferred&amp;nbsp;: une contrainte 'deferrable' PEUT être vérifiée en fin de transaction (elle est 'retardable'). Il faut toutefois dire à PostgreSQL expressément qu'on veut vraiment faire ce contrôle en fin de transaction.&lt;/p&gt;
&lt;p&gt;On peut, pour la session en cours demander à passer toutes les contraintes en 'DEFERRED'&amp;nbsp;:&lt;/p&gt;
&lt;pre&gt;marc=# SET CONSTRAINTS ALL DEFERRED;&lt;br /&gt;SET CONSTRAINTS&lt;br /&gt;marc=# UPDATE test set a = a+1;&lt;br /&gt;UPDATE 2&lt;/pre&gt;
&lt;p&gt;Si on veut ne pas avoir à effectuer le SET CONSTRAINTS à chaque fois, il est aussi possible de déclarer la contrainte comme INITIALLY DEFERRED:&lt;/p&gt;
&lt;pre&gt;CREATE TABLE test (a int PRIMARY KEY DEFERRABLE INITIALLY DEFERRED);&lt;/pre&gt;
&lt;p&gt;Un autre rappel s'impose&amp;nbsp;: les contraintes DEFERRED sont plus lentes que les contraintes IMMEDIATE. Par ailleurs, il faut bien stocker la liste des enregistrements à vérifier en fin de transaction quelque part, et cela consomme de la mémoire. Attention à ne pas le faire sur des millions d'enregistrements d'un coup. C'est la raison pour laquelle les contraintes 'DEFERRABLE' ne sont pas 'INITIALLY DEFERRED' par défaut.&lt;/p&gt;
&lt;h3&gt;Fonctions anonymes&lt;/h3&gt;
&lt;p&gt;Cette nouvelle fonctionnalité permet de créer des fonctions à usage unique. Elles seront très pratiques dans des scripts de livraison de version applicative par exemple. Voici une version un peu différente du GRANT SELECT ON ALL TABLES qui sera présenté plus loin dans ce document, qui donne le droit de sélection à tout un jeu de tables, en fonction du propriétaire des tables, et en ignorant deux schémas&amp;nbsp;:&lt;/p&gt;
&lt;pre&gt;DO language plpgsql $$ &lt;br /&gt;DECLARE&lt;br /&gt;vr record;&lt;br /&gt;&lt;br /&gt;BEGIN&lt;br /&gt;&lt;br /&gt;FOR vr IN SELECT tablename FROM pg_tables WHERE tableowner = 'marc' AND schemaname NOT IN ('pg_catalog','information_schema')&lt;br /&gt;LOOP&lt;br /&gt;  EXECUTE 'GRANT SELECT ON ' || vr.tablename || ' TO toto';&lt;br /&gt;END LOOP;&lt;br /&gt;END&lt;br /&gt;$$&lt;br /&gt;;&lt;/pre&gt;
&lt;p&gt;En 8.4, il aurait fallu créer une fonction (via CREATE FUNCTION), l'exécuter puis la supprimer (avec DROP FUNCTION). Le tout demandant d'avoir les droits pour ça. La 9.0 facilite donc ce type d'exécution rapide.&lt;/p&gt;
&lt;h3&gt;Paramètres nommés&lt;/h3&gt;
&lt;p&gt;La syntaxe retenue pour nommer les paramètres est la suivante:&lt;/p&gt;
&lt;pre&gt;CREATE FUNCTION test (a int, b text) RETURNS text AS $$&lt;br /&gt;DECLARE&lt;br /&gt;valeur text;&lt;br /&gt;BEGIN&lt;br /&gt;valeur := 'a vaut ' || a::text || ' et b vaut ' || b;&lt;br /&gt;RETURN valeur;&lt;br /&gt;END;&lt;br /&gt;$$ LANGUAGE plpgsql;&lt;/pre&gt;
&lt;p&gt;Jusque là, on écrivait&amp;nbsp;:&lt;/p&gt;
&lt;pre&gt;SELECT test(1,'toto');&lt;br /&gt;test           &lt;br /&gt;-------------------------&lt;br /&gt;a vaut 1 et b vaut toto&lt;br /&gt;(1 row)&lt;/pre&gt;
&lt;p&gt;Maintenant, on peut utiliser cette syntaxe explicite:&lt;/p&gt;
&lt;pre&gt;SELECT test( b:='toto', a:=1);&lt;br /&gt;test           &lt;br /&gt;-------------------------&lt;br /&gt;a vaut 1 et b vaut toto&lt;br /&gt;(1 row)&lt;/pre&gt;
&lt;p&gt;De nombreux langages permettent ce type de syntaxe d'appel de fonction, qui améliore fortement la lisibilité du code.&lt;/p&gt;
&lt;h3&gt;GRANT/REVOKE IN SCHEMA&lt;/h3&gt;
&lt;p&gt;C'est un problème idiot, et un peu frustrant, qui est déjà arrivé à beaucoup d'administrateurs de base de données&amp;nbsp;: créer 400 tables, puis devoir attribuer des droits à un utilisateur sur ces 400 tables. Jusque là, on en était quitte pour créer un script. Plus maintenant&amp;nbsp;:&lt;/p&gt;
&lt;pre&gt;GRANT SELECT ON ALL TABLES IN SCHEMA public TO toto;&lt;/pre&gt;
&lt;p&gt;Et la marche arrière&amp;nbsp;:&lt;/p&gt;
&lt;pre&gt;REVOKE SELECT ON ALL TABLES IN SCHEMA public FROM toto;&lt;/pre&gt;
&lt;p&gt;Bien sûr, cette commande ne vaut que pour les tables en place au moment de la commande. Il faudra toujours faire de nouveaux GRANT pour les futures tables du schéma.&lt;/p&gt;
&lt;h3&gt;ALTER&amp;nbsp;DEFAULT PRIVILEGES&lt;/h3&gt;
&lt;p&gt;Encore une commande permettant de gagner du temps dans la gestion des droits.&lt;/p&gt;
&lt;pre&gt;ALTER DEFAULT PRIVILEGES FOR ROLE marc GRANT SELECT ON TABLES TO PUBLIC ;&lt;br /&gt;CREATE TABLE test_priv (a int);&lt;br /&gt;\z test_priv&lt;br /&gt;                             Access privileges&lt;br /&gt; Schema |    Name    | Type  | Access privileges | Column access privileges &lt;br /&gt;--------+------------+-------+-------------------+--------------------------&lt;br /&gt; public | test_priv  | table | =r/marc          +| &lt;br /&gt;        |            |       | marc=arwdDxt/marc | &lt;/pre&gt;
&lt;p&gt;Les informations sur les droits par défaut sont stockées dans pg_default_acl.&lt;/p&gt;
&lt;h2&gt;Les changements pouvant entraîner régression&lt;/h2&gt;
&lt;p&gt;Ces deux changements dans PL/pgSQL peuvent entraîner des régressions dans du code fonctionnant en 8.4. Si vous avez du code PL/pgSQL, vérifiez le avant de migrer en 9.0. Le moteur génère des erreurs à l'exécution, comme illustré ci-dessous.&lt;/p&gt;
&lt;h3&gt;PL/pgSQL&amp;nbsp;: meilleur contrôle du nom des variables&lt;/h3&gt;
&lt;pre&gt;marc=# DO LANGUAGE plpgsql&lt;br /&gt;$$&lt;br /&gt;DECLARE&lt;br /&gt;a int;&lt;br /&gt;BEGIN&lt;br /&gt;SELECT a FROM test;&lt;br /&gt;END&lt;br /&gt;$$&lt;br /&gt;ERROR:  column reference &quot;a&quot; is ambiguous&lt;br /&gt;LINE 1: select a from test&lt;br /&gt;DETAIL:  It could refer to either a PL/pgSQL variable or a table column.&lt;br /&gt;QUERY:  select a from test&lt;br /&gt;CONTEXT:  PL/pgSQL function &quot;inline_code_block&quot; line 4 at SQL statement&lt;/pre&gt;
&lt;p&gt;Si vous voulez modifier ce comportement, vous pouvez le faire globalement mais il est préférable de le faire par fonction, en exécutant une de ces commandes au début de votre fonction:&lt;/p&gt;
&lt;pre&gt;variable_conflict error        # mode par défaut&lt;br /&gt;variable_conflict use_variable # choisir le nom de variable&lt;br /&gt;variable_conflict use_column   # choisir le nom de colonne&lt;/pre&gt;
&lt;h3&gt;Protection des mots réservés en PL/pgSQL&lt;/h3&gt;
&lt;pre&gt;marc=# DO LANGUAGE plpgsql&lt;br /&gt;$$&lt;br /&gt;DECLARE&lt;br /&gt;table int;&lt;br /&gt;BEGIN&lt;br /&gt;table :=table+1;&lt;br /&gt;END&lt;br /&gt;$$&lt;br /&gt;;&lt;br /&gt;ERROR:  syntax error at or near &quot;table&quot;&lt;br /&gt;LINE 6: table :=table+1;&lt;br /&gt;^&lt;br /&gt;marc=# DO LANGUAGE plpgsql&lt;br /&gt;$$&lt;br /&gt;DECLARE&lt;br /&gt;&quot;table&quot; int;&lt;br /&gt;BEGIN&lt;br /&gt;&quot;table&quot; :=&quot;table&quot;+1;&lt;br /&gt;END&lt;br /&gt;$$&lt;br /&gt;;&lt;br /&gt;DO&lt;/pre&gt;
&lt;h2&gt;Les améliorations&lt;/h2&gt;
&lt;p&gt;Le planificateur de requête a reçu un grand nombre d'améliorations dans cette version. Nous allons donc commencer par lui:&lt;/p&gt;
&lt;h3&gt;Join Removal&lt;/h3&gt;
&lt;pre&gt;marc=# CREATE TABLE t1 (a int);&lt;br /&gt;CREATE TABLE&lt;br /&gt;marc=# CREATE TABLE t2 (b int);&lt;br /&gt;CREATE TABLE&lt;br /&gt;marc=# CREATE TABLE t3 (c int);&lt;br /&gt;CREATE TABLE&lt;/pre&gt;
On insère quelques données avec le generate_series…&lt;br /&gt;&lt;pre&gt;marc=# EXPLAIN SELECT t1.a,t2.b from t1 join t2 on (t1.a=t2.b) left join t3 on (t1.a=t3.c);&lt;br /&gt;                                  QUERY PLAN                                  &lt;br /&gt;------------------------------------------------------------------------------&lt;br /&gt; Merge Right Join  (cost=506.24..6146.24 rows=345600 width=8)&lt;br /&gt;   Merge Cond: (t3.c = t1.a)&lt;br /&gt;   -&amp;gt;  Sort  (cost=168.75..174.75 rows=2400 width=4)&lt;br /&gt;         Sort Key: t3.c&lt;br /&gt;         -&amp;gt;  Seq Scan on t3  (cost=0.00..34.00 rows=2400 width=4)&lt;br /&gt;   -&amp;gt;  Materialize  (cost=337.49..853.49 rows=28800 width=8)&lt;br /&gt;         -&amp;gt;  Merge Join  (cost=337.49..781.49 rows=28800 width=8)&lt;br /&gt;               Merge Cond: (t1.a = t2.b)&lt;br /&gt;               -&amp;gt;  Sort  (cost=168.75..174.75 rows=2400 width=4)&lt;br /&gt;                     Sort Key: t1.a&lt;br /&gt;                     -&amp;gt;  Seq Scan on t1  (cost=0.00..34.00 rows=2400 width=4)&lt;br /&gt;               -&amp;gt;  Sort  (cost=168.75..174.75 rows=2400 width=4)&lt;br /&gt;                     Sort Key: t2.b&lt;br /&gt;                     -&amp;gt;  Seq Scan on t2  (cost=0.00..34.00 rows=2400 width=4)&lt;/pre&gt;Pour l'instant, c'est normal, et on a le même comportement qu'en 8.4. Mais imaginons que sur la table t3, on ait une contrainte UNIQUE sur la colonne c. Dans ce cas, théoriquement, la jointure sur la table t3 ne sert à rien&amp;nbsp;: le nombre d'enregistrements du résultat ne sera pas modifié, pas plus, bien sûr, que leur contenu. C'est lié au fait que la colonne est UNIQUE, que la jointure est un LEFT JOIN, et qu'aucune colonne de t3 n'est récupérée. Si la colonne n'était pas UNIQUE, la jointure pourrait augmenter le nombre d'enregistrements du résultat. Si ce n'était pas un LEFT JOIN, la jointure pourrait diminuer le nombre d'enregistrements du résultat.&lt;p&gt;En 9.0&amp;nbsp;:&lt;/p&gt;
&lt;pre&gt;marc=# ALTER TABLE t3 ADD UNIQUE (c);&lt;br /&gt;NOTICE:  ALTER TABLE / ADD UNIQUE will create implicit index &quot;t3_c_key&quot; for table &quot;t3&quot;&lt;br /&gt;ALTER TABLE&lt;br /&gt;marc=# EXPLAIN SELECT t1.a,t2.b from t1 join t2 on (t1.a=t2.b) left join t3 on (t1.a=t3.c);&lt;br /&gt;                            QUERY PLAN                            &lt;br /&gt;------------------------------------------------------------------&lt;br /&gt; Merge Join  (cost=337.49..781.49 rows=28800 width=8)&lt;br /&gt;   Merge Cond: (t1.a = t2.b)&lt;br /&gt;   -&amp;gt;  Sort  (cost=168.75..174.75 rows=2400 width=4)&lt;br /&gt;         Sort Key: t1.a&lt;br /&gt;         -&amp;gt;  Seq Scan on t1  (cost=0.00..34.00 rows=2400 width=4)&lt;br /&gt;   -&amp;gt;  Sort  (cost=168.75..174.75 rows=2400 width=4)&lt;br /&gt;         Sort Key: t2.b&lt;br /&gt;         -&amp;gt;  Seq Scan on t2  (cost=0.00..34.00 rows=2400 width=4)&lt;br /&gt;(8 rows)&lt;/pre&gt;Cette optimisation devrait pouvoir être très rentable, entre autre quand les requêtes sont générées par un ORM (mapping objet-relationnel). Ces outils ont la fâcheuse tendance à exécuter des jointures inutiles. Ici on a réussi à diviser le coût estimé de la requête par 10.
&lt;p&gt;C'est aussi une optimisation qui pourra être très utile pour les applications utilisant beaucoup de jointures et de vues imbriquées.&lt;/p&gt;
&lt;p&gt;Cela constitue encore une raison supplémentaire de déclarer les contraintes dans la base&amp;nbsp;: sans ces contraintes, impossible pour le moteur d'être sûr que ces réécritures sont possibles.&lt;/p&gt;
&lt;h3&gt;IS NOT NULL peut utiliser les index&lt;/h3&gt;
&lt;p&gt;Pour cette démonstration, nous allons comparer la version 8.4 et la 9.0 (la table que j'ai créée contient majoritairement des valeurs NULL)&amp;nbsp;:&lt;/p&gt;
&lt;p&gt;En 8.4&amp;nbsp;:&lt;/p&gt;
&lt;pre&gt;marc=# EXPLAIN ANALYZE SELECT max(a) from test;&lt;br /&gt;QUERY PLAN                                                                   &lt;br /&gt;------------------------------------------------------------------------------------------------------------------------------------------------&lt;br /&gt;Result  (cost=0.03..0.04 rows=1 width=0) (actual time=281.320..281.321 rows=1 loops=1)&lt;br /&gt;InitPlan 1 (returns $0)&lt;br /&gt;  -&amp;gt;  Limit  (cost=0.00..0.03 rows=1 width=4) (actual time=281.311..281.313 rows=1 loops=1)&lt;br /&gt;  -&amp;gt;  Index Scan Backward using idxa on test  (cost=0.00..29447.36 rows=1001000 width=4) (actual time=281.307..281.307 rows=1 loops=1)&lt;br /&gt;Filter: (a IS NOT NULL)&lt;br /&gt;Total runtime: 281.360 ms&lt;br /&gt;(6 rows)&lt;/pre&gt;&lt;p&gt;En 9.0&amp;nbsp;:&lt;/p&gt;
&lt;pre&gt;marc=# EXPLAIN ANALYZE SELECT max(a) from test;&lt;br /&gt;QUERY PLAN                                                                 &lt;br /&gt;--------------------------------------------------------------------------------------------------------------------------------------------&lt;br /&gt;Result  (cost=0.08..0.09 rows=1 width=0) (actual time=0.100..0.102 rows=1 loops=1)&lt;br /&gt;InitPlan 1 (returns $0)&lt;br /&gt;  -&amp;gt;  Limit  (cost=0.00..0.08 rows=1 width=4) (actual time=0.092..0.093 rows=1 loops=1)&lt;br /&gt;  -&amp;gt;  Index Scan Backward using idxa on test  (cost=0.00..84148.06 rows=1001164 width=4) (actual time=0.089..0.089 rows=1 loops=1)&lt;br /&gt;Index Cond: (a IS NOT NULL)&lt;br /&gt;Total runtime: 0.139 ms&lt;br /&gt;(6 rows)&lt;/pre&gt;&lt;p&gt;On constate que la 9.0 parcourt uniquement les clés non nulles de l'index (Index cond, au lieu d'un filtre à posteriori). Dans ce cas précis, le gain est très net.
&lt;/p&gt;
&lt;h3&gt;Utilisation d'index pour générer des statistiques à la volée&lt;/h3&gt;
&lt;p&gt;Avant de commencer à expliquer la nouveauté, un petit rappel sur les histogrammes: PostgreSQL, comme d'autres moteurs de bases de données, utilise un optimiseur statistique. Cela signifie qu'au moment de la planification d'une requête il a (ou devrait) avoir une idée correcte de ce que chaque étape de la requête va lui ramener, en termes de nombres d'enregistrements. Pour cela, il utilise des statistiques, comme le nombre d'enregistrements de la table approximatif, sa taille, la corrélation physique entre valeurs voisines dans la table, les valeurs les plus fréquentes, et les histogrammes, qui permettent d'évaluer assez précisément le nombre d'enregistrements ramenés par une clause WHERE sur une colonne, suivant la valeur ou la plage demandée sur la clause WHERE.&lt;/p&gt;
&lt;p&gt;Il arrive que les statistiques soient rapidement périmées, et donc
posent problème, pour certains ordres SQL. Par exemple, une table de
trace dans laquelle on insèrerait des enregistrements horodatés, et sur
laquelle on voudrait presque toujours sélectionner les enregistrements
des 5 dernières minutes.&lt;/p&gt;
&lt;p&gt;Dans ce cas, il était impossible avant la 9.0 d'avoir des statistiques à jour. Maintenant, quand PostgreSQL détecte qu'une requête demande un «range scan» sur une valeur supérieure à la dernière valeur de l'histogramme (ou inférieure à la première valeur), c'est à dire la plus grande valeur connue au dernier calcul de statistiques, et que la colonne est indexée, il récupère le max (ou le min si c'est la première valeur) de cette colonne en interrogeant l'index AVANT d'exécuter la requête, afin d'obtenir des statistiques plus réalistes. Comme il utilise un index pour cela, il faut qu'un index existe, bien sûr.&lt;/p&gt;
&lt;p&gt;Voici un exemple. La colonne &quot;a&quot; de la table test a déjà été remplie avec de nombreuses dates, antérieures. Elle a donc des statistiques à jour, avec des histogrammes lui donnant la répartition des valeurs de a.&lt;/p&gt;
&lt;p&gt;Il est 13:37, et je n'ai encore rien inséré dans la table de date supérieure à 13:37.&lt;/p&gt;
&lt;pre&gt;marc=# EXPLAIN ANALYZE select * from test where a &amp;gt; '2010-06-03 13:37:00';&lt;br /&gt;QUERY PLAN                                                  &lt;br /&gt;--------------------------------------------------------------------------------------------------------------&lt;br /&gt;Index Scan using idxtsta on test  (cost=0.00..8.30 rows=1 width=8) (actual time=0.007..0.007 rows=0 loops=1)&lt;br /&gt;Index Cond: (a &amp;gt; '2010-06-03 13:37:00'::timestamp without time zone)&lt;br /&gt;Total runtime: 0.027 ms&lt;br /&gt;(3 rows)&lt;/pre&gt;Tout est donc normal. La borne supérieure de mon histogramme est 2010-06-03 13:36:16.830007 (l'information se trouve dans pg_stats). Il n'a aucun moyen d'évaluer le nombre d'enregistrements supérieurs à 13:37, et en 8.4, il aurait continué à estimer '1' tant qu'un analyze n'aura pas été passé.
&lt;pre&gt;marc=# DO LANGUAGE plpgsql&lt;br /&gt;$$&lt;br /&gt;DECLARE&lt;br /&gt;i int;&lt;br /&gt;BEGIN&lt;br /&gt;FOR i IN 1..10000 LOOP&lt;/pre&gt;
&lt;pre&gt;   INSERT INTO test VALUES (clock_timestamp());&lt;/pre&gt;
&lt;pre&gt;END LOOP;&lt;br /&gt;END&lt;br /&gt;$$&lt;br /&gt;;&lt;br /&gt;DO&lt;/pre&gt;
&lt;p&gt;(Décidément, j'aime bien les DO).&lt;/p&gt;
&lt;p&gt;Nous venons d'insérer 10000 dates supérieures à 13:37.&lt;/p&gt;
&lt;pre&gt;marc=# EXPLAIN ANALYZE SELECT * FROM test WHERE a &amp;gt; '2010-06-03 13:37:00';&lt;br /&gt;QUERY PLAN                                                       &lt;br /&gt;-----------------------------------------------------------------------------------------------------------------------&lt;br /&gt;Index Scan using idxtsta on test  (cost=0.00..43.98 rows=1125 width=8) (actual time=0.012..13.590 rows=10000 loops=1)&lt;br /&gt;Index Cond: (a &amp;gt; '2010-06-03 13:37:00'::timestamp without time zone)&lt;br /&gt;Total runtime: 23.567 ms&lt;br /&gt;(3 rows)&lt;/pre&gt;&lt;p&gt;Le nombre d'enregistrements estimé n'est pas à 0 ou 1. Et pourtant les statistiques ne sont pas à jour&amp;nbsp;:&lt;/p&gt;
&lt;pre&gt;marc=# SELECT last_autoanalyze FROM pg_stat_user_tables WHERE relname = 'test';&lt;br /&gt;last_autoanalyze        &lt;br /&gt;-------------------------------&lt;br /&gt;2010-06-03 13:36:21.553477+02&lt;br /&gt;(1 row)&lt;/pre&gt;&lt;p&gt;Dans cet exemple, nous avons tout de même une erreur d'un facteur 10. Ce n'est pas si mal: sans cette optimisation, l'erreur aurait été d'un facteur 10&amp;nbsp;000. En tout cas, une erreur d'un facteur 10 nous donne de plus fortes chances de choisir un plan intelligent.&lt;/p&gt;
&lt;h3&gt;seq_page_cost/random_page_cost par tablespace&lt;/h3&gt;
&lt;pre&gt;marc=# ALTER TABLESPACE pg_default SET ( random_page_cost = 10, seq_page_cost=5);&lt;br /&gt;ALTER TABLESPACE&lt;/pre&gt;
&lt;p&gt;Nous venons de modifier random_page_cost et seq_page_cost pour tous les objets du tablespace pg_default. Quel peut être le cas d'utilisation&amp;nbsp;?&lt;/p&gt;
&lt;p&gt;C'est pour le cas où vous avez des tablespaces de performances différentes&amp;nbsp;: par exemple, vous avez quelques données essentielles sur un disque SSD, ou bien des données d'historique sur une vieille baie moins performante que la baie flambant neuf que vous avez décidé d'utiliser pour les données actives. Cela vous permet de signaler à PostgreSQL que tous vos tablespaces ne sont pas forcément équivalents en termes de performance. Cela ne s'applique, bien sûr, que sur de très grosses bases.&lt;/p&gt;
&lt;h3&gt;Permettre de forcer le nombre de valeurs distinctes d'une colonne&lt;/h3&gt;
&lt;p&gt;Ceci permet de forcer le nombre de valeurs différentes d'une colonne. Ce n'est pas à utiliser à la légère, mais uniquement quand l'ANALYZE sur la table n'arrive pas à obtenir une valeur raisonnable.&lt;/p&gt;
&lt;p&gt;Voici comment procéder&amp;nbsp;:&lt;/p&gt;
&lt;pre&gt;marc=# ALTER TABLE test ALTER COLUMN a SET (n_distinct = 2);&lt;br /&gt;ALTER TABLE&lt;/pre&gt;
&lt;p&gt;Il faut repasser un ANALYZE pour que la modification soit prise en compte&amp;nbsp;:&lt;/p&gt;
&lt;pre&gt;marc=# ANALYZE test;&lt;br /&gt;ANALYZE&lt;/pre&gt;
&lt;p&gt;Essayons maintenant&amp;nbsp;:&lt;/p&gt;
&lt;pre&gt;marc=# EXPLAIN SELECT distinct * from test;&lt;br /&gt;QUERY PLAN                            &lt;br /&gt;------------------------------------------------------------------&lt;br /&gt;HashAggregate  (cost=6263.00..6263.02 rows=2 width=8)&lt;br /&gt;-&amp;gt;  Seq Scan on test  (cost=0.00..5338.00 rows=370000 width=8)&lt;br /&gt;(2 rows)&lt;/pre&gt;&lt;p&gt;C'est l'exemple même de ce qu'il ne faut pas faire&amp;nbsp;: j'ai bien 370 000 valeurs distinctes dans ma table. Maintenant mes plans d'exécution seront très mauvais.
&lt;/p&gt;
&lt;p&gt;Si la valeur n_distinct est positive, il s'agit du nombre de valeurs distinctes. Si la valeure est négative (entre 0 et -1), il s'agit du coefficient multiplicateur par rapport au nombre d'enregistrements estimés de la table&amp;nbsp;: par exemple -0.2 signifie qu'il y a 1 enregistrement distinct pour 5 enregistrements dans la table. 0 ramène le comportement à celui par défaut (c'est ANALYZE qui effectue la mesure).&lt;/p&gt;
&lt;p&gt;Ne touchez à ceci que si vous êtes absolument sûr d'avoir correctement diagnostiqué votre problème. Sinon, vous pouvez être sûr d'empirer les performances.&lt;/p&gt;
&lt;br /&gt;
&lt;p&gt;De nombreuses autres fonctionnalités de la base ont été améliorées. En voici quelques exemples parmi les plus significatifs&amp;nbsp;:&lt;/p&gt;
&lt;h3&gt;VACUUM FULL amélioré&lt;/h3&gt;
&lt;p&gt;La commande VACUUM FULL était jusque ici très lente. Cette commande permet de récupérer l'espace perdu dans une table, principalement quand la commande VACUUM&amp;nbsp;n'a pas été passée très régulièrement. Ceci était du à son mode de fonctionnement&amp;nbsp;: les enregistrements étaient lus et déplacés un par un d'un bloc de la table vers un bloc plus proche du début de la table. Une fois que la fin de la table était vide, l'enveloppe était réduite à sa taille minimale.&lt;/p&gt;
&lt;p&gt;Le problème était donc que ce mécanisme était très inefficace&amp;nbsp;: le déplacement des enregistrements un à un entraine beaucoup d'entrées/sorties aléatoires (non contigues). Par ailleurs, durant cette réorganisation, les index doivent être maintenus, ce qui rend l'opération encore plus couteuse, et fait qu'à la fin d'un vacuum full, les index sont fortement désorganisés. Il est d'ailleurs conseillé de réindexer une table juste après y avoir appliqué un VACUUM FULL.&lt;/p&gt;
&lt;p&gt;La commande VACUUM FULL, dans cette nouvelle version, crée une nouvelle table à partir de la table actuelle, en y recopiant tous les enregistrements de façon séquentielle. Une fois tous les enregistrements recopiés, les index sont recréés, et l'ancienne table détruite.&lt;/p&gt;
&lt;p&gt;Cette méthode présente l'avantage d'être très largement plus rapide. Toutefois, VACUUM&amp;nbsp;FULL&amp;nbsp;demande toujours un verrou complet sur la table durant le temps de son exécution. Le seul défaut de cette méthode par rapport à l'ancienne, c'est que pendant le temps de son exécution, le nouveau VACUUM FULL peut consommer jusqu'à 2&amp;nbsp;fois l'espace disque de la table, puisqu'il en crée une nouvelle version.&lt;/p&gt;
&lt;p&gt;Mesurons maintenant le temps d'exécution suivant les deux méthodes. Dans les deux cas, on prépare le jeu de test comme suit (en 8.4 et en 9.0:)&lt;/p&gt;
&lt;pre&gt;marc=# CREATE TABLE test (a int);&lt;br /&gt;CREATE TABLE&lt;br /&gt;marc=# CREATE INDEX idxtsta on test (a);&lt;br /&gt;CREATE INDEX&lt;br /&gt;marc=# INSERT INTO test SELECT generate_series(1,1000000);&lt;br /&gt;INSERT 0 1000000&lt;br /&gt;marc=# DELETE FROM test where a%3=0;&lt;br /&gt;DELETE 333333&lt;br /&gt;marc=# VACUUM test;&lt;br /&gt;VACUUM&lt;/pre&gt;
&lt;pre&gt;En 8.4&amp;nbsp;:&lt;br /&gt;marc=# \timing&lt;br /&gt;Timing is on.&lt;br /&gt;marc=# VACUUM FULL test;&lt;br /&gt;VACUUM&lt;br /&gt;Time: 6306,603 ms&lt;br /&gt;marc=# REINDEX TABLE test&amp;nbsp;;&lt;br /&gt;REINDEX&lt;br /&gt;Time: 1799,998 ms&lt;/pre&gt;
&lt;p&gt;Soit environ 8 secondes.&lt;/p&gt;
&lt;pre&gt;En 9.0&amp;nbsp;:&lt;br /&gt;marc=# \timing&lt;br /&gt;Timing is on.&lt;br /&gt;marc=# VACUUM FULL test;&lt;br /&gt;VACUUM&lt;br /&gt;Time: 2563,467 ms&lt;/pre&gt;
&lt;p&gt;Ça ne veut toujours pas dire que VACUUM FULL est une bonne idée en production. Si vous en avez besoin, c'est probablement que votre politique de VACUUM n'est pas appropriée.&lt;/p&gt;
&lt;h3&gt;64 bits sous windows.&lt;/h3&gt;
&lt;p&gt;Il y a maintenant une version 64 bits native pour Windows. Pour l'instant aucune mesure de performance n'a été effectuée (à ma connaissance) pour en connaître les gains&amp;nbsp;: peut on maintenant dépasser la limite de shared_buffers aux alentours de 500Mo sous Windows sans dégradations de performances&amp;nbsp;?&lt;/p&gt;
&lt;h3&gt;PL/pgSQL par défaut&lt;/h3&gt;
&lt;p&gt;Vous n'aurez plus à ajouter le langage plpgsql dans chaque base où vous en avez besoin car il est installé par défaut.&lt;/p&gt;
&lt;h3&gt;Beaucoup d'améliorations sur les langages PL.&lt;/h3&gt;
&lt;p&gt;Beaucoup de langages ont vu leur support grandement amélioré, PLPerl par exemple. Consultez les release notes si vous voulez davantage de détails, les modifications étant nombreuses.&lt;/p&gt;
&lt;h3&gt;Mot clé ALIAS&lt;/h3&gt;
&lt;p&gt;Nous pouvons maintenant utiliser le mot clé ALIAS. Comme son nom l'indique, il permet de créer des alias de variables.&lt;/p&gt;
&lt;p&gt;La syntaxe est «&amp;nbsp;nouveau_nom ALIAS FOR ancien_nom ». Cela se place dans la section DECLARE d'un code PL/pgSQL.&lt;/p&gt;
&lt;p&gt;C'est utilisable dans deux cas principalement&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;
pour donner des noms aux variables d'une fonction PL:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;   monparam ALIAS FOR $0&lt;/pre&gt;&lt;ul&gt;&lt;li&gt;pour renommer des variables qui pourraient être en conflit. Dans un trigger par exemple:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;   nouvelle_valeur ALIAS FOR new&lt;/pre&gt;   (on aurait risqué le conflit avec la variable new dans la fonction trigger).
&lt;h3&gt;Passage de message dans NOTIFY/pg_notify&lt;/h3&gt;
&lt;p&gt;On peut donc passer des messages dans NOTIFY. Voici la méthode:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;On s'abonne dans la session 1 à la file d'attente «&amp;nbsp;messagerie_instantanee&amp;nbsp;»
&lt;br /&gt;Session 1&amp;nbsp;:
&lt;br /&gt;&lt;pre&gt;marc=# LISTEN messagerie_instantanee;&lt;br /&gt;LISTEN&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;&lt;li&gt;On envoie une notification dans la file d'attente «&amp;nbsp;messagerie_instantanee&amp;nbsp;» d'une autre session
&lt;br /&gt;Session 2&amp;nbsp;:
&lt;br /&gt;&lt;pre&gt;marc=# NOTIFY messagerie_instantanee, 'Vous avez reçu un popup';&lt;br /&gt;NOTIFY&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;&lt;li&gt;On vérifie le contenu de la file d'attente
&lt;br /&gt;Session 1&amp;nbsp;:&lt;br /&gt;&lt;pre&gt;LISTEN&lt;br /&gt;Asynchronous notification &quot;messagerie_instantanee&quot; with payload &quot;Vous avez reçu un popup&quot; received from server process with PID 5943.&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;&lt;li&gt;On peut donc maintenant associer des messages (payloads) aux notifications, ce qui rend le mécanisme beaucoup plus puissant.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Signalons aussi la présence d'une nouvelle fonction pg_notify. &lt;/p&gt;
&lt;p&gt;Le code de la session 2 peut donc être: &lt;/p&gt;
&lt;pre&gt;SELECT pg_notify('messagerie_instantanee','Vous avez reçu un popup');&lt;/pre&gt;
&lt;p&gt;Cela peut simplifier l'écriture, dans le cas d'un programme devant piloter de nombreuses files de messages.&lt;/p&gt;
&lt;h3&gt;get_bit et set_bit pour les bit strings&lt;/h3&gt;
&lt;p&gt;En voici un exemple très synthétique. Cet outil permet de manipuler les bits indépendamment dans un bit().&lt;/p&gt;
&lt;pre&gt;&lt;br /&gt;marc=# SELECT set_bit('1111'::bit(4),2,0);&lt;br /&gt; set_bit &lt;br /&gt;---------&lt;br /&gt; 1101&lt;br /&gt;(1 row)&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;marc=# SELECT get_bit('1101'::bit(4),2);&lt;br /&gt; get_bit &lt;br /&gt;---------&lt;br /&gt;       0&lt;br /&gt;(1 row)&lt;/pre&gt;&lt;h3&gt;application_name pour pg_stat_activity&lt;/h3&gt;
&lt;p&gt;Dans la session de supervision&amp;nbsp;:&lt;/p&gt;
&lt;p&gt;marc=# SELECT * from pg_stat_activity where procpid= 5991;&lt;/p&gt;
&lt;pre&gt;datid | datname | procpid | usesysid | usename | application_name | client_addr | client_port |         backend_start         | xact_start | query_start | waiting | current_query&lt;br /&gt;------+---------+---------+----------+---------+------------------+-------------+-------------+-------------------------------+------------+-------------+---------+----------------&lt;br /&gt;16384 | marc    |    5991 |       10 | marc    | psql             |             |          -1 | 2010-05-16 13:48:10.154113+02 |            |             | f       | &amp;lt;IDLE&amp;gt;&lt;/pre&gt;
&lt;p&gt;(1 row)&lt;/p&gt;
&lt;p&gt;Dans la session '5991'&amp;nbsp;:&lt;/p&gt;
&lt;p&gt;marc=# SET application_name TO 'mon_appli';
SET&lt;/p&gt;
&lt;p&gt;Dans la session de supervision&amp;nbsp;:&lt;/p&gt;
&lt;p&gt;marc=# SELECT * from pg_stat_activity where procpid= 5991;&lt;/p&gt;
&lt;pre&gt;datid | datname | procpid | usesysid | usename | application_name | client_addr | client_port |         backend_start         | xact_start |          query_start          | waiting | current_query&lt;br /&gt;------+---------+---------+----------+---------+------------------+-------------+-------------+-------------------------------+------------+-------------+---------+----------------&lt;br /&gt;16384 | marc    |    5991 |       10 | marc    | mon_appli        |             |          -1 | 2010-05-16 13:48:10.154113+02 |            | 2010-05-16 13:49:13.107413+02 | f       | &amp;lt;IDLE&amp;gt;&lt;/pre&gt;
&lt;p&gt;(1 row)&lt;/p&gt;
&lt;p&gt;À vous de le positionner correctement dans votre application, ou vos sessions. Votre DBA vous dira merci, sachant enfin qui lance quoi sur son serveur facilement.&lt;/p&gt;
&lt;h3&gt;Configuration par base de données+rôle&lt;/h3&gt;
&lt;pre&gt;marc=# ALTER ROLE marc IN database marc set log_statement to 'all';&lt;br /&gt;ALTER ROLE&lt;/pre&gt;
&lt;p&gt;Pour savoir qui a quelles modifications de variables dans quels rôles de quelles bases de données, il y a une nouvelle commande psql&amp;nbsp;: &lt;/p&gt;
&lt;pre&gt;marc=# \drds&lt;/pre&gt;
&lt;pre&gt;         List of settings&lt;br /&gt;role | database |     settings&lt;br /&gt;-----+----------+-----------------&lt;br /&gt;marc | marc     | log_statement=all&lt;/pre&gt;&lt;pre&gt;(1 row)&lt;/pre&gt;
&lt;p&gt;Il y a donc eu une modification du catalogue pour gérer cette nouvelle fonctionnalité&amp;nbsp;:&lt;/p&gt;
&lt;p&gt;Table &quot;pg_catalog.pg_db_role_setting&quot;&lt;/p&gt;
&lt;pre&gt;  Column    |  Type  | Modifier&lt;br /&gt;------------+--------+----------&lt;br /&gt;setdatabase | oid    | not null&lt;br /&gt;setrole     | oid    | not null&lt;br /&gt;setconfig   | text   |&lt;/pre&gt;
&lt;h3&gt;Tracer les parametres modifiés lors d'un rechargement du postgresql.conf&lt;/h3&gt;
Voici un exemple, lors de la modification du paramètre log_line_prefix :&lt;br /&gt;&lt;pre&gt;LOG:&amp;nbsp; received SIGHUP, reloading configuration files&lt;br /&gt;&amp;lt;%&amp;gt; LOG:&amp;nbsp; parameter &quot;log_line_prefix&quot; changed to &quot;&amp;lt;%u%%%d&amp;gt; &quot;&lt;/pre&gt;
&lt;h3&gt;Nouvelles options de frame dans les fonctions de fenêtrage&lt;/h3&gt;
&lt;p&gt;Si vous ne vous connaissez pas les fonctions de fenêtrage, lisez la présentation de la 8.4 ici : &lt;a href=&quot;http://blog.postgresql.fr/index.php?post/2010/06/16/post.php?id=475&quot; title=&quot;http://blog.postgresql.fr/index.php?post/2009/04/28/Nouveaut%C3%A9s-PostgreSQL-8.4&quot;&gt;Nouveautés PostgreSQL 8.4&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Il y a donc des nouveautés dans le paramétrage du 'frame' des fonctions de fenêtrage. Soit la table suivante (faute de mieux…)&lt;/p&gt;
&lt;pre&gt;marc=# SELECT * FROM salaire ;&lt;br /&gt;entite | personne&amp;nbsp; | salaire | date_embauche &lt;br /&gt;-------+-----------+---------+---------------&lt;br /&gt;R&amp;amp;D&amp;nbsp;&amp;nbsp;&amp;nbsp; | marc&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp; 700.00 | 2010-02-15&lt;br /&gt;Compta | etienne&amp;nbsp;&amp;nbsp; |&amp;nbsp; 800.00 | 2010-05-01&lt;br /&gt;R&amp;amp;D&amp;nbsp;&amp;nbsp;&amp;nbsp; | maria&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp; 700.00 | 2009-01-01&lt;br /&gt;R&amp;amp;D&amp;nbsp;&amp;nbsp;&amp;nbsp; | kevin&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp; 500.00 | 2009-05-01&lt;br /&gt;R&amp;amp;D&amp;nbsp;&amp;nbsp;&amp;nbsp; | jean&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | 1000.00 | 2008-07-01&lt;br /&gt;R&amp;amp;D&amp;nbsp;&amp;nbsp;&amp;nbsp; | tom&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | 1100.00 | 2005-01-01&lt;br /&gt;Compta | stephanie |&amp;nbsp; 850.00 | 2006-01-01&lt;/pre&gt;
&lt;p&gt;Voici un exemple de fonctions de fenêtrage, sans préciser le frame.&lt;/p&gt;
&lt;pre&gt;marc=# SELECT entite, personne, salaire, date_embauche, avg(salaire) OVER (PARTITION BY entite ORDER BY date_embauche) FROM salaire;&lt;br /&gt;entite | personne&amp;nbsp; | salaire | date_embauche |&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; avg&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;br /&gt;-------+-----------+---------+---------------+-----------------------&lt;br /&gt;Compta | stephanie |&amp;nbsp; 850.00 | 2006-01-01&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp; 850.0000000000000000&lt;br /&gt;Compta | etienne&amp;nbsp;&amp;nbsp; |&amp;nbsp; 800.00 | 2010-05-01&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp; 825.0000000000000000&lt;br /&gt;R&amp;amp;D&amp;nbsp;&amp;nbsp;&amp;nbsp; | tom&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | 1100.00 | 2005-01-01&amp;nbsp;&amp;nbsp;&amp;nbsp; | 1100.0000000000000000&lt;br /&gt;R&amp;amp;D&amp;nbsp;&amp;nbsp;&amp;nbsp; | jean&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; | 1000.00 | 2008-07-01&amp;nbsp;&amp;nbsp;&amp;nbsp; | 1050.0000000000000000&lt;br /&gt;R&amp;amp;D&amp;nbsp;&amp;nbsp;&amp;nbsp; | maria&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp; 700.00 | 2009-01-01&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp; 933.3333333333333333&lt;br /&gt;R&amp;amp;D&amp;nbsp;&amp;nbsp;&amp;nbsp; | kevin&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp; 500.00 | 2009-05-01&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp; 825.0000000000000000&lt;br /&gt;R&amp;amp;D&amp;nbsp;&amp;nbsp;&amp;nbsp; | marc&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp; 700.00 | 2010-02-15&amp;nbsp;&amp;nbsp;&amp;nbsp; |&amp;nbsp; 800.0000000000000000&lt;/pre&gt;&lt;br /&gt;
&lt;p&gt;Le frame est le groupe d'enregistrements sur lequel la fonctions de fenêtrage est appliquée. Évidemment, si on ne précise pas la frame, il met une valeur par défaut. Voici la même requête, écrite avec une frame explicite.&lt;/p&gt;
&lt;pre&gt;marc=# SELECT entite, personne, salaire, date_embauche, avg(salaire) OVER (PARTITION BY entite ORDER BY date_embauche RANGE BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW) FROM salaire;&lt;br /&gt;entite | personne  | salaire | date_embauche |          avg          &lt;br /&gt;-------+-----------+---------+---------------+-----------------------&lt;br /&gt;Compta | stephanie |  850.00 | 2006-01-01    |  850.0000000000000000&lt;br /&gt;Compta | etienne   |  800.00 | 2010-05-01    |  825.0000000000000000&lt;br /&gt;R&amp;amp;D    | tom       | 1100.00 | 2005-01-01    | 1100.0000000000000000&lt;br /&gt;R&amp;amp;D    | jean      | 1000.00 | 2008-07-01    | 1050.0000000000000000&lt;br /&gt;R&amp;amp;D    | maria     |  700.00 | 2009-01-01    |  933.3333333333333333&lt;br /&gt;R&amp;amp;D    | kevin     |  500.00 | 2009-05-01    |  825.0000000000000000&lt;br /&gt;R&amp;amp;D    | marc      |  700.00 | 2010-02-15    |  800.0000000000000000&lt;/pre&gt;
&lt;p&gt;La frame est donc par 'range', entre le début du range et l'enregistrement courant (pas vraiment l'enregistrement courant en fait, mais laissons de côté les subtilités, allez lire la doc si vous voulez en savoir plus). On constate que la fonction de moyenne (avg) est appliquée entre le premier des enregistrements du frame (les enregistrements de la même entité) et l'enregistrement courant.&lt;/p&gt;
&lt;p&gt;Première nouveauté&amp;nbsp;: en 9.0, la frame peut se calculer entre l'enregistrement courant et la fin du groupe (au lieu d'entre le début du groupe et l'enregistrement courant):&lt;/p&gt;
&lt;pre&gt;marc=# SELECT entite, personne, salaire, date_embauche, avg(salaire)  OVER (PARTITION BY entite ORDER BY date_embauche RANGE BETWEEN CURRENT ROW AND UNBOUNDED FOLLOWING) FROM salaire;&lt;br /&gt;entite | personne  | salaire | date_embauche |         avg          &lt;br /&gt;-------+-----------+---------+---------------+----------------------&lt;br /&gt;Compta | stephanie |  850.00 | 2006-01-01    | 825.0000000000000000&lt;br /&gt;Compta | etienne   |  800.00 | 2010-05-01    | 800.0000000000000000&lt;br /&gt;R&amp;amp;D    | tom       | 1100.00 | 2005-01-01    | 800.0000000000000000&lt;br /&gt;R&amp;amp;D    | jean      | 1000.00 | 2008-07-01    | 725.0000000000000000&lt;br /&gt;R&amp;amp;D    | maria     |  700.00 | 2009-01-01    | 633.3333333333333333&lt;br /&gt;R&amp;amp;D    | kevin     |  500.00 | 2009-05-01    | 600.0000000000000000&lt;br /&gt;R&amp;amp;D    | marc      |  700.00 | 2010-02-15    | 700.0000000000000000&lt;/pre&gt;
&lt;p&gt;Deuxième nouveauté, on peut calculer des frames sur les n enregistrements précédents et n enregistrements suivants. Aucun intérêt avec ce jeu de données, mais il faut bien que je vous donne un exemple&amp;nbsp;:&lt;/p&gt;
&lt;pre&gt;marc=# SELECT entite, personne, salaire, date_embauche, avg(salaire)  OVER (PARTITION BY entite ORDER BY date_embauche RANGE ROWS BETWEEN 1 PRECEDING AND 1 FOLLOWING) FROM salaire;&lt;br /&gt;entite | personne  | salaire | date_embauche |          avg          &lt;br /&gt;-------+-----------+---------+---------------+-----------------------&lt;br /&gt;Compta | stephanie |  850.00 | 2006-01-01    |  825.0000000000000000&lt;br /&gt;Compta | etienne   |  800.00 | 2010-05-01    |  825.0000000000000000&lt;br /&gt;R&amp;amp;D    | tom       | 1100.00 | 2005-01-01    | 1050.0000000000000000&lt;br /&gt;R&amp;amp;D    | jean      | 1000.00 | 2008-07-01    |  933.3333333333333333&lt;br /&gt;R&amp;amp;D    | maria     |  700.00 | 2009-01-01    |  733.3333333333333333&lt;br /&gt;R&amp;amp;D    | kevin     |  500.00 | 2009-05-01    |  633.3333333333333333&lt;br /&gt;R&amp;amp;D    | marc      |  700.00 | 2010-02-15    |  600.0000000000000000&lt;/pre&gt;
&lt;p&gt;On reste bien sûr sur le groupe (voir l'enregistrement de tom par exemple, l'enregistrement d'etienne ne rentre pas dans le calcul de sa moyenne).&lt;/p&gt;
&lt;p&gt;Si on voulait la même requête que précédemment, mais avec des moyennes sur 3 enregistrements glissants, sans réinitialiser à chaque entité (toujours aucun intérêt pratique dans l'exemple).&lt;/p&gt;
&lt;pre&gt;marc=# SELECT entite, personne, salaire, date_embauche, avg(salaire) OVER (ORDER BY entite, date_embauche ROWS BETWEEN 1 PRECEDING AND 1 FOLLOWING) FROM salaire;&lt;br /&gt;entite | personne  | salaire | date_embauche |         avg          &lt;br /&gt;--------+-----------+---------+---------------+----------------------&lt;br /&gt;Compta | stephanie |  850.00 | 2006-01-01    | 825.0000000000000000&lt;br /&gt;Compta | etienne   |  800.00 | 2010-05-01    | 916.6666666666666667&lt;br /&gt;R&amp;amp;D    | tom       | 1100.00 | 2005-01-01    | 966.6666666666666667&lt;br /&gt;R&amp;amp;D    | jean      | 1000.00 | 2008-07-01    | 933.3333333333333333&lt;br /&gt;R&amp;amp;D    | maria     |  700.00 | 2009-01-01    | 733.3333333333333333&lt;br /&gt;R&amp;amp;D    | kevin     |  500.00 | 2009-05-01    | 633.3333333333333333&lt;br /&gt;R&amp;amp;D    | marc      |  700.00 | 2010-02-15    | 600.0000000000000000&lt;/pre&gt;
&lt;p&gt;Bref, un outil à maîtriser d'urgence, si ce n'est pas déjà le cas (même si je n'ai pas été capable de vous donner un exemple décent).&lt;/p&gt;
&lt;h3&gt;Tris dans les aggrégations&lt;/h3&gt;
&lt;p&gt;Celle-ci est un peu subtile&amp;nbsp;: le résultat de certaines fonctions d'aggrégation dépend de l'ordre dans lequel on leur fournit les données.&lt;/p&gt;
&lt;p&gt;Il ne s'agit évidemment pas de count, avg, mais plutôt de array_agg, xml_agg, string_agg…&lt;/p&gt;
&lt;p&gt;Ce qui va me permettre de vous présenter deux nouvelles fonctionnalités d'un coup, string_agg étant une nouveauté de la 9.0.&lt;/p&gt;
&lt;p&gt;Reprenons la table salaire. Je voudrais la liste des employés, concaténés dans un seul champ, par entité. C'est pour stocker dans mon tableur.&lt;/p&gt;
&lt;pre&gt;marc=# SELECT entite,string_agg(personne,', ') FROM salaire GROUP BY entite;&lt;br /&gt;entite |          string_agg           &lt;br /&gt;-------+-------------------------------&lt;br /&gt;Compta | etienne, stephanie&lt;br /&gt;R&amp;amp;D    | marc, maria, kevin, jean, tom&lt;/pre&gt;&lt;p&gt;C'est déjà bien. Mais j'aimerais bien les avoir par ordre alphabétique, parce que je ne sais pas écrire de macro dans mon tableur pour retrier les données.&lt;/p&gt;
&lt;pre&gt;marc=# SELECT entite,string_agg(personne,', ' ORDER BY personne) FROM salaire GROUP BY entite;&lt;br /&gt;entite |          string_agg           &lt;br /&gt;--------+-------------------------------&lt;br /&gt;Compta | etienne, stephanie&lt;br /&gt;R&amp;amp;D    | jean, kevin, marc, maria, tom&lt;/pre&gt;
&lt;p&gt;Il suffit donc de rajouter une clause de tri à l'intérieur de la fonction d'agrégat, sans virgule à la fin.&lt;/p&gt;
&lt;h3&gt;Amélioration des erreurs sur contrainte&amp;nbsp;: message plus clair&lt;/h3&gt;
&lt;p&gt;En 8.4: &lt;/p&gt;
&lt;pre&gt;marc=# INSERT INTO test VALUES (1);&lt;br /&gt;ERROR:  duplicate key value violates unique constraint &quot;test_a_key&quot;&lt;/pre&gt;
&lt;p&gt;En 9.0:&lt;/p&gt;
&lt;pre&gt;marc=# INSERT INTO test VALUES (1);&lt;br /&gt;ERROR:  duplicate key value violates unique constraint &quot;test_a_key&quot;&lt;br /&gt;DETAIL:  Key (a)=(1) already exists.&lt;/pre&gt;
&lt;p&gt;Cela devrait aider à trouver les causes des violations de contrainte.&lt;/p&gt;
&lt;h3&gt;Explain buffers/statistiques sur les hash, xml, json, yaml, nouvelle syntaxe optionnelle explain&lt;/h3&gt;
&lt;p&gt;Voici un EXPLAIN ANALYZE classique&amp;nbsp;:&lt;/p&gt;
&lt;pre&gt;marc=# EXPLAIN ANALYZE SELECT a, sum(c) FROM pere JOIN fils ON (pere.a = fils.b) WHERE b BETWEEN 1000 AND 300000 GROUP BY a;                                                           QUERY PLAN                                                            &lt;br /&gt;---------------------------------------------------------------------------------------------------------------------------------&lt;br /&gt; HashAggregate  (cost=905.48..905.86 rows=31 width=8) (actual time=0.444..0.453 rows=6 loops=1)&lt;br /&gt;   -&amp;gt;  Nested Loop  (cost=10.70..905.32 rows=31 width=8) (actual time=0.104..0.423 rows=6 loops=1)&lt;br /&gt;         -&amp;gt;  Bitmap Heap Scan on fils  (cost=10.70..295.78 rows=31 width=8) (actual time=0.040..0.154 rows=30 loops=1)&lt;br /&gt;               Recheck Cond: ((b &amp;gt;= 1000) AND (b &amp;lt;= 300000))&lt;br /&gt;               -&amp;gt;  Bitmap Index Scan on fils_pkey  (cost=0.00..10.69 rows=31 width=0) (actual time=0.023..0.023 rows=30 loops=1)&lt;br /&gt;                     Index Cond: ((b &amp;gt;= 1000) AND (b &amp;lt;= 300000))&lt;br /&gt;         -&amp;gt;  Index Scan using pere_pkey on pere  (cost=0.00..19.65 rows=1 width=4) (actual time=0.005..0.005 rows=0 loops=30)&lt;br /&gt;               Index Cond: (pere.a = fils.b)&lt;br /&gt; Total runtime: 0.560 ms&lt;br /&gt;(9 rows)&lt;/pre&gt;&lt;p&gt;Si vous voulez avoir accès aux nouvelles informations, il faut opter pour la nouvelle syntaxe&amp;nbsp;:
&lt;/p&gt;
&lt;pre&gt;EXPLAIN [ ( { ANALYZE boolean | VERBOSE boolean | COSTS boolean | BUFFERS boolean | FORMAT { TEXT | XML | JSON | YAML } } [, ...] ) ] instruction&lt;/pre&gt;&lt;p&gt;Par exemple&amp;nbsp;:&lt;/p&gt;
&lt;pre&gt;marc=# EXPLAIN (ANALYZE true, VERBOSE true, BUFFERS true) SELECT a, sum(c) FROM pere JOIN fils ON (pere.a = fils.b) WHERE b BETWEEN 1000 AND 300000 GROUP BY a;&lt;br /&gt;                                                             QUERY PLAN &lt;br /&gt;-------------------------------------------------------------------------------------------------------------------------------------&lt;br /&gt; HashAggregate  (cost=905.48..905.86 rows=31 width=8) (actual time=1.326..1.336 rows=6 loops=1)&lt;br /&gt;   Output: pere.a, sum(fils.c)&lt;br /&gt;   Buffers: shared hit=58 read=40&lt;br /&gt;   -&amp;gt;  Nested Loop  (cost=10.70..905.32 rows=31 width=8) (actual time=0.278..1.288 rows=6 loops=1)&lt;br /&gt;         Output: pere.a, fils.c&lt;br /&gt;         Buffers: shared hit=58 read=40&lt;br /&gt;         -&amp;gt;  Bitmap Heap Scan on public.fils  (cost=10.70..295.78 rows=31 width=8) (actual time=0.073..0.737 rows=30 loops=1)&lt;br /&gt;               Output: fils.b, fils.c&lt;br /&gt;               Recheck Cond: ((fils.b &amp;gt;= 1000) AND (fils.b &amp;lt;= 300000))&lt;br /&gt;               Buffers: shared hit=4 read=28&lt;br /&gt;               -&amp;gt;  Bitmap Index Scan on fils_pkey  (cost=0.00..10.69 rows=31 width=0) (actual time=0.030..0.030 rows=30 loops=1)&lt;br /&gt;                     Index Cond: ((fils.b &amp;gt;= 1000) AND (fils.b &amp;lt;= 300000))&lt;br /&gt;                     Buffers: shared hit=3&lt;br /&gt;         -&amp;gt;  Index Scan using pere_pkey on public.pere  (cost=0.00..19.65 rows=1 width=4) (actual time=0.013..0.014 rows=0 loops=30)&lt;br /&gt;               Output: pere.a&lt;br /&gt;               Index Cond: (pere.a = fils.b)&lt;br /&gt;               Buffers: shared hit=54 read=12&lt;br /&gt; Total runtime: 1.526 ms&lt;br /&gt;(18 rows)&lt;/pre&gt;VERBOSE apporte les lignes 'Output' (l'option existait déjà en 8.4).
&lt;p&gt;BUFFERS indique les opérations sur les buffers (les entrées sorties de la requête): hit correspond aux données lues en cache, read aux données demandées au système d'exploitation. Ici, peu de données étaient en cache.&lt;/p&gt;
&lt;p&gt;Vous pouvez aussi demander une sortie dans un autre format que texte. Pour un utilisateur, cela n'a aucune importance. Pour les développeurs d'interfaces graphiques présentant le résultat d'explain, cela permettra de faire l'économie d'un analyseur sur le texte du EXPLAIN, et des bugs qui vont avec.&lt;/p&gt;
&lt;p&gt;On peut aussi désactiver l'affichage des coûts avec COSTS false.&lt;/p&gt;
&lt;h3&gt;Dictionnaire de filtrage (unaccent)&lt;/h3&gt;
&lt;p&gt;Il est possible maintenant de paramétrer des dictionnaires de filtrage. On parle bien sûr des dictionnaires du Full Text Search.&lt;/p&gt;
&lt;p&gt;Le but de ces dictionnaires de filtrage est d'appliquer un premier filtrage sur les mots avant de les indexer. Le module présenté ci-dessous (unaccent) est l'illustration de ce mécanisme. Le filtrage peut consister en la suppression de mots ou en leur modification.&lt;/p&gt;
&lt;p&gt;Unaccent ne supprime pas les mots, il supprime les accents (tous les signes diacritiques en fait), en remplaçant les caractères accentués par leur version sans accent. Unaccent est un module contrib.&lt;/p&gt;
&lt;p&gt;Pour l'installer, comme pour toutes les contribs, psql mabase &amp;lt; chemin_contribs/unaccent.sql.&lt;/p&gt;
&lt;p&gt;Nous allons à peu près suivre la documentation d'unaccent, les auteurs ayant eu la gentillesse de donner leurs exemples en français.&lt;/p&gt;
&lt;p&gt;Nous créons un nouveau dictionnaire fr (pour ne pas polluer le dictionnaire french 'standard')&amp;nbsp;: &lt;/p&gt;
&lt;pre&gt;marc=# CREATE TEXT SEARCH CONFIGURATION fr ( COPY = french );&lt;br /&gt;CREATE TEXT SEARCH CONFIGURATION&lt;/pre&gt;
&lt;p&gt;Nous modifions le paramétrage de 'fr' pour les lexemes de type mot, en lui demandant de les faire passer par unaccent et french_stem (au lieu de seulement french_stem) &lt;/p&gt;
&lt;pre&gt;marc=# ALTER TEXT SEARCH CONFIGURATION fr&lt;br /&gt;ALTER MAPPING FOR hword, hword_part, word&lt;br /&gt;WITH unaccent, french_stem;&lt;br /&gt;ALTER TEXT SEARCH CONFIGURATION&lt;/pre&gt;&lt;pre&gt;SELECT to_tsvector('fr','Hôtels de la Mer');&lt;br /&gt;to_tsvector    &lt;br /&gt;-------------------&lt;br /&gt;'hotel':1 'mer':4&lt;br /&gt;(1 row)&lt;br /&gt;&lt;br /&gt;marc=# SELECT to_tsvector('fr','Hôtel de la Mer') @@ to_tsquery('fr','Hotels');&lt;br /&gt;?column? &lt;br /&gt;----------&lt;br /&gt;t&lt;br /&gt;(1 row)&lt;/pre&gt;Cela vous permet donc, sans changer une ligne de code, et en gardant les caractères accentués, de rechercher maintenant sans accent.
&lt;h3&gt;vacuumdb --analyze-only&lt;/h3&gt;
&lt;p&gt;Comme son nom l'indique, on peut maintenant utiliser vacuumdb pour passer des analyses uniquement. Cela peut être pratique dans une crontab.&lt;/p&gt;
&lt;h3&gt;Amélioration du module contrib hstore&lt;/h3&gt;
&lt;p&gt;Ce contrib, déjà très pratique, devient encore plus puissant&amp;nbsp;: &lt;/p&gt;
&lt;ul&gt;&lt;li&gt;La limite de taille sur les clés et valeurs a été supprimée.&lt;/li&gt;
&lt;li&gt;Il est maintenant possible d'utiliser GROUP BY et DISTINCT &lt;/li&gt;
&lt;li&gt;De nombreux opérateurs et fonctions ont été ajoutés&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Un exemple serait trop long, tellement ce module est riche. Lisez la documentation sans perdre de temps&amp;nbsp;!&lt;/p&gt;
&lt;h3&gt;Texte requête dans auto_explain&lt;/h3&gt;
&lt;p&gt;Le module contrib auto_explain affichera maintenant le code de la requête en même temps que son plan, ce qui devrait en augmenter la lisibilité.&lt;/p&gt;
&lt;h3&gt;Compteurs sur buffers dans pg_stat_statements&lt;/h3&gt;
&lt;p&gt;Ce module contrib, déjà très utile, vient de rajouter des compteurs. Pour rappel, son intérêt est de stocker des statistiques sur les requêtes exécutées par le moteur. Jusque là, il donnait la requête, le nombre d'exécutions, son temps cumulé et le nombre d'enregistrements cumulés. Maintenant, il collecte aussi des informations sur les entrées sorties (en cache, et réelles).&lt;/p&gt;
&lt;pre&gt;marc=# SELECT * from pg_stat_statements order by total_time desc limit 2;&lt;br /&gt;-[ RECORD 1 ]-------+---------------------&lt;br /&gt;userid              | 10&lt;br /&gt;dbid                | 16485&lt;br /&gt;query               | SELECT * from fils ;&lt;br /&gt;calls               | 2&lt;br /&gt;total_time          | 0.491229&lt;br /&gt;rows                | 420000&lt;br /&gt;shared_blks_hit     | 61&lt;br /&gt;shared_blks_read    | 2251&lt;br /&gt;shared_blks_written | 0&lt;br /&gt;local_blks_hit      | 0&lt;br /&gt;local_blks_read     | 0&lt;br /&gt;local_blks_written  | 0&lt;br /&gt;temp_blks_read      | 0&lt;br /&gt;temp_blks_written   | 0&lt;br /&gt;-[ RECORD 2 ]-------+---------------------&lt;br /&gt;userid              | 10&lt;br /&gt;dbid                | 16485&lt;br /&gt;query               | SELECT * from pere;&lt;br /&gt;calls               | 2&lt;br /&gt;total_time          | 0.141445&lt;br /&gt;rows                | 200000&lt;br /&gt;shared_blks_hit     | 443&lt;br /&gt;shared_blks_read    | 443&lt;br /&gt;shared_blks_written | 0&lt;br /&gt;local_blks_hit      | 0&lt;br /&gt;local_blks_read     | 0&lt;br /&gt;local_blks_written  | 0&lt;br /&gt;temp_blks_read      | 0&lt;br /&gt;temp_blks_written   | 0&lt;/pre&gt;
&lt;p&gt;On peut donc, une fois ce contrib installé, répondre aux questions suivantes&amp;nbsp;: &lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Quelle est la requête la plus gourmande en temps d'exécution cumulé&amp;nbsp;?&lt;/li&gt;
&lt;li&gt;Quelle est la requête qui génère le plus d'entrées sorties&amp;nbsp;? (attention, les données peuvent être tout de même dans le cache système)&lt;/li&gt;
&lt;li&gt;Quelles requêtes utilisent principalement le cache (et ne gagneront donc pas à le voir augmenté)&lt;/li&gt;
&lt;li&gt;Qui effectue beaucoup de mises à jour de bloc&amp;nbsp;?&lt;/li&gt;
&lt;li&gt;Qui génère des tris&amp;nbsp;?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;'local' et 'temp' correspondent aux buffers et entrées des tables temporaires et autres opérations locales (tris, hachages) à un backend.&lt;/p&gt;
&lt;h3&gt;passwordcheck&lt;/h3&gt;
&lt;p&gt;Ce module contrib permet de vérifier les mots de passe, et d'empêcher les plus mauvais de rentrer. Après l'avoir installé comme décrit dans la documentation, voici le résultat&amp;nbsp;:&lt;/p&gt;
&lt;pre&gt;marc=# ALTER USER marc password 'marc12';&lt;br /&gt;&amp;lt;marc%marc&amp;gt; ERROR:  password is too short&lt;br /&gt;&amp;lt;marc%marc&amp;gt; STATEMENT:  ALTER USER marc password 'marc12';&lt;br /&gt;ERROR:  password is too short&lt;br /&gt;marc=# ALTER USER marc password 'marc123456';&lt;br /&gt;&amp;lt;marc%marc&amp;gt; ERROR:  password must not contain user name&lt;br /&gt;&amp;lt;marc%marc&amp;gt; STATEMENT:  ALTER USER marc password 'marc123456';&lt;br /&gt;ERROR:  password must not contain user name&lt;/pre&gt;
&lt;p&gt;Ce module souffre de limitations, principalement dues au fait que PostgreSQL permet l'envoi d'un mot de passe déjà encrypté à la base au moment de la déclaration, ce qui l'empêche de le vérifier correctement. Néanmoins, c'est une avancée dans la bonne direction.&lt;/p&gt;
&lt;p&gt;Par ailleurs, le code du module contrib est bien documenté, ce qui permet de l'adapter à vos besoins (entre autres, il est très facile d'y activer la cracklib, afin d'effectuer des contrôles plus complexes).&lt;/p&gt;
&lt;p&gt;marc.cousin@dalibo.com&lt;/p&gt;</description>
	<pubDate>lun, 21 jun 2010 12:08:07 +0000</pubDate>
</item>
<item>
	<title>Stephane Bortzmeyer: Créer ses propres types de données avec PostgreSQL</title>
	<guid>tag:bortzmeyer.org,2006-02:Blog/postgresql-creer-ses-types</guid>
	<link>http://www.bortzmeyer.org/postgresql-creer-ses-types.html</link>
	<description>Une des grands forces du SGBD
PostgreSQL est la possibilité de créer ses
propres types de données. Voici deux exemples complets et expliqués,
un pour les nombres rationnels, l'autre pour les noms de
domaine.</description>
	<pubDate>lun, 21 jun 2010 00:00:00 +0000</pubDate>
</item>
<item>
	<title>Guillaume Lelarge: Fin de la traduction du manuel de la 9.0 (beta 2)</title>
	<guid>urn:md5:35b2139323dadedc807a46358e3725fe</guid>
	<link>http://blog.guillaume.lelarge.info/index.php/post/2010/06/17/Fin-de-la-traduction-du-manuel-de-la-9.0-%28beta-2%29</link>
	<description>&lt;p&gt;Enfin, pour moi en tout cas. Il ne reste plus aucun fichier à réserver pour la traduction. Seuls quatre fichiers sont toujours à traduire mais déjà réservés. En attendant leur traduction, il est possible de lire le reste au &lt;a href=&quot;http://docs.postgresql.fr/9.0/&quot; hreflang=&quot;fr&quot;&gt;format HTML&lt;/a&gt; ou au &lt;a href=&quot;http://docs.postgresql.fr/9.0/pg90.pdf&quot; hreflang=&quot;fr&quot;&gt;format PDF&lt;/a&gt;.&lt;/p&gt;


&lt;p&gt;Bonne lecture.&lt;/p&gt;


&lt;p&gt;Et n'hésitez pas à me faire parvenir tout problème de traduction.&lt;/p&gt;</description>
	<pubDate>jeu, 17 jun 2010 18:06:00 +0000</pubDate>
</item>
<item>
	<title>Actualités PostgreSQL.fr: Nouvelles hebdomadaires de PostgreSQL - 13 juin 2010</title>
	<guid>urn:md5:089fe8c4e7fccdf2519984e0c3c3adc8</guid>
	<link>http://blog.postgresql.fr/index.php?post/2010/06/15/Nouvelles-hebdomadaires-de-PostgreSQL-13-juin-2010</link>
	<description>&lt;p&gt;PostgreSQL 9.0 beta 2 publi&amp;eacute;e. Testez&amp;nbsp;! 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/developer/beta&quot;&gt;http://www.postgresql.org/developer/beta&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Nouveau sondage&amp;nbsp;: laquelle des fonctionnalit&amp;eacute;s de la 9.0 Beta (hors r&amp;eacute;plication) est votre pr&amp;eacute;f&amp;eacute;r&amp;eacute;e&amp;nbsp;? 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/community/&quot;&gt;http://www.postgresql.org/community/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Les archives vid&amp;eacute;o du rassemblement du SFPUG du 8 d&amp;eacute;cembre 2009&amp;nbsp;: &quot;Contraintes d'Exclusion via Op&amp;eacute;rateur&quot;, sont maintenant disponibles&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://thebuild.com/blog/2009/12/23/sfpug-operator-exclusion-constraints/&quot;&gt;http://thebuild.com/blog/2009/12/23/sfpug-operator-exclusion-constraints/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Les nouveaut&amp;eacute;s des produits d&amp;eacute;riv&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;pgnotifyd v0.1, un gestionnaire de notification asynchrone pour PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.pogo.org.uk/~mark/pgnotifyd/&quot;&gt;http://www.pogo.org.uk/~mark/pgnotifyd/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Offres d'emplois autour de PostgreSQL en juin&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Internationales&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://archives.postgresql.org/pgsql-jobs/2010-06/threads.php&quot;&gt;http://archives.postgresql.org/pgsql-jobs/2010-06/threads.php&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;Francophones&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://forums.postgresql.fr/viewforum.php?id=4&quot;&gt;http://forums.postgresql.fr/viewforum.php?id=4&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL Local&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Conf&amp;eacute;rence de Michael Renner au Netways OSDC &amp;agrave; Nuremberg (All.) les 23 &amp;amp; 24 juin 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.netways.de/osdc/y2010/programm/&quot;&gt;http://www.netways.de/osdc/y2010/programm/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;CHAR(10), la conf&amp;eacute;rence PostgreSQL d&amp;eacute;di&amp;eacute;e au clustering, &amp;agrave; la haute-disponibilit&amp;eacute; et &amp;agrave; la r&amp;eacute;plication vient d'ouvrir les inscriptions en ligne et les r&amp;eacute;servations. 2 &amp;amp; 3 juillet 2010, Oriel College, Universit&amp;eacute; d'Oxford (Royaume-Uni)&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.char10.org/&quot;&gt;http://www.char10.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Le PDXPUG Day est programm&amp;eacute; pour le 18 juillet 2010 &amp;agrave; &quot;l'Oregon Convention Center&quot; &amp;agrave; Portland. D'avantage d'informations&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://wiki.postgresql.org/wiki/PDXPUGDay2010&quot;&gt;http://wiki.postgresql.org/wiki/PDXPUGDay2010&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;L'OSCON aura lieu &amp;agrave; Portland (Oregon) du 19 au 23 juillet 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.oscon.com/oscon2010&quot;&gt;http://www.oscon.com/oscon2010&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL dans les m&amp;eacute;dia&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Planet PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planet.postgresql.org/&quot;&gt;http://planet.postgresql.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Planet PostgreSQLFr&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planete.postgresql.fr/&quot;&gt;http://planete.postgresql.fr/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;i&gt;PostgreSQL Weekly News / les nouvelles hebdomadaires vous sont offertes cette semaine par David Fetter et Josh Berkus. Traduction par l'&amp;eacute;quipe PostgreSQLFr sous licence CC BY-NC-SA.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;&lt;i&gt;Proposez vos articles ou annonces avant dimanche 15:00 (heure du Pacifique). Merci de les envoyer en anglais &amp;agrave; david (a) fetter.org, en allemand &amp;agrave; pwn (a) pgug.de, en italien &amp;agrave; pwn (a) itpug.org et en espagnol &amp;agrave; pwn (a) arpug.com.ar.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;(&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/community/weeklynews/pwn20100613&quot;&gt;lien vers l'article original&lt;/a&gt;)&lt;/p&gt;    &lt;p&gt;&lt;strong&gt;Correctifs appliqu&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Teodor Sigaev a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/contrib/dblink/uninstall_dblink.sql, add missed function dblink_connect_u(text[,text]) to uninstall script&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tom Lane a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/replication/walreceiver.c, avoid useless snprintf() call when update_process_title is turned off. Fujii Masao.&lt;/li&gt;
&lt;li&gt;In pgsql/src/pl/plpython/plpython.c, fix quite-bogus handling of arrays in plpython datum-to-PyObject conversion. Per bug #5497 from David Gardner.&lt;/li&gt;
&lt;li&gt;In pgsql/src/bin/scripts/vacuumdb.c, add missing 'Z' letter to getopt_long call --- the newly added --analyze-only switch did not work in its short form -Z. Josh Berkus&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/Makefile, Postgres.txt should get cleaned by 'make clean'.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Robert Haas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/plhandler.sgml, make procedural language handler reference C-language function docs. Based on suggestions from Jonathan Leto and Joshua Tolley.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/commands/explain.c, attempt to fix EXPLAIN (FORMAT YAML) quoting to behave sanely. The previous code failed to quote in many cases where quoting was necessary - YAML has loads of special characters, including -:[]{},&quot;'|*&amp;amp; - so quote much more aggressively, and only refrain from quoting things where it seems fairly clear that it isn't necessary. Per report from Dean Rasheed.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/catalog/pg_largeobject.c, remove stray word from comment.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/commands/explain.c, quote all string values in EXPLAIN (FORMAT YAML) output. While my previous attempt seems to always produce valid YAML, it doesn't always produce YAML that means what it appears to mean, because of tokens like &quot;0xa&quot; and &quot;true&quot;, which without quotes will be interpreted as integer or Boolean literals. So, instead, just quote everything that's not known to be a number, as we do for JSON. Dean Rasheed, with some changes to the comments by me.&lt;/li&gt;
&lt;li&gt;Fix ALTER LARGE OBJECT and GRANT ... ON LARGE OBJECT for large OIDs. The previous coding failed for OIDs too large to be represented by a signed integer.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, fix typo.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, fix misplaced modifier. As suggested by Ian Barwick.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tatsuo Ishii a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/replication/walreceiver.c, fix typo in the header comment. Per request from Masao Fujii.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ITAGAKI Takahiro a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/contrib/dblink/dblink.c, fix connection leak in dblink when dblink_connect() or dblink_connect_u() end with &quot;duplicate connection name&quot; errors. Backported to release 7.4.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/dblink/dblink.c, avoid &quot;identifier will be truncated&quot; warning in dblink when connection string is longer than NAMEDATALEN. The previous fix for long connection name broke the behavior.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/dblink/dblink.c, fix incorrect change in dblink introduced by the previous commit &quot;Fix connection leak in dblink&quot;.&lt;/li&gt;
&lt;li&gt;Rename restartpoint_command to archive_cleanup_command.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/storage/ipc/standby.c, remove max_standby_delay message from ps display of recovery process in waiting status. The parameter is not so interesting in ps display because it is referable in postgresql.conf.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Magnus Hagander a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlog.c, make the walwriter close its handle to an old xlog segment if it's no longer the current one. Not doing this would leave the walwriter with a handle to a deleted file if there was nothing for it to do for a long period of time, preventing the file from being completely removed. Reported by Tollef Fog Heen, and thanks to Heikki for some hand-holding with the patch.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Heikki Linnakangas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In standby mode, respect checkpoint_segments in addition to checkpoint_timeout to trigger restartpoints. We used to deliberately only do time-based restartpoints, because if checkpoint_segments is small we would spend time doing restartpoints more often than really necessary. But now that restartpoints are done in bgwriter, they're not as disruptive as they used to be. Secondly, because streaming replication stores the streamed WAL files in pg_xlog, we want to clean it up more often to avoid running out of disk space when checkpoint_timeout is large and checkpoint_segments small. Patch by Fujii Masao, with some minor changes by me.&lt;/li&gt;
&lt;li&gt;Return NULL instead of 0/0 in pg_last_xlog_receive_location() and pg_last_xlog_replay_location(). Per Robert Haas's suggestion, after Itagaki Takahiro pointed out an issue in the docs. Also, some wording changes in the docs by me.&lt;/li&gt;
&lt;li&gt;Make TriggerFile variable static. It's not used outside xlog.c. Fujii Masao.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Alvaro Herrera a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/syntax.sgml, add index entry for ::, per complaint from John Gage.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ref/alter_table.sgml, update ALTER TABLE docs to account for exclusion and deferrable uniqueness constraints. Dean Rasheed.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Bruce Momjian a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, update text of 9.0 release notes. Josh Berkus.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/Makefile, add space between after &quot;&amp;gt;&quot; in &quot;&amp;gt;$@&quot; in SGML Makefile, for clarity.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/Makefile, add SGML Makefile rule for single-page text, postgres.txt.&lt;/li&gt;
&lt;li&gt;Have pg_upgrade create its output files in the current directory, rather than in a subdirectory of the $HOME directory, or $TMP in Windows.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/Makefile, remove lynx -stdin flag for postgres.text.&lt;/li&gt;
&lt;li&gt;In pgsql/src/test/regress/pg_regress.c, add missing --use-existing --help mention from regression binary. Jan Urbanski&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/pg_upgrade.h, update pg_upgrade C comment about cwd.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Peter Eisentraut a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Add a regression test case for bug #5497.&lt;/li&gt;
&lt;li&gt;In pgsql/src/pl/plpython/expected/README, update Python version information.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlog.c, fix typo/bug, found by Clang compiler.&lt;/li&gt;
&lt;li&gt;Add target to build HTML documentation as single page.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs rejet&amp;eacute;s (&amp;agrave; ce jour)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pas de d&amp;eacute;ception cette semaine&amp;nbsp;:-)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs en attente&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fujii Masao sent in a patch per Andrew Dunstan to clarify that to use a pgpass file to connect to Streaming Replica standbys, it is necessary to use a * for the database field.&lt;/li&gt;
&lt;li&gt;Peter Eisentraut sent in a WIP patch to allow GROUP BY to infer functional dependencies and not require that the target list include all non-aggregated columns when it finds them, per the SQL standard.&lt;/li&gt;
&lt;li&gt;Alexander Korotkov sent in another revision of the patch to allow multi-byte character sets in Levenshtein functions in the supplied module for fuzzy string matching.&lt;/li&gt;
&lt;li&gt;Joel Jacobson sent in another revision of the patch to add a pg_stat_transaction system view.&lt;/li&gt;
&lt;li&gt;Robert Haas sent in a patch to deprecate =&amp;gt; and add ==&amp;gt; to the hstore module, per discussion.&lt;/li&gt;
&lt;/ul&gt;</description>
	<pubDate>mar, 15 jun 2010 21:39:47 +0000</pubDate>
</item>
<item>
	<title>Actualités PostgreSQL.fr: Nouvelles hebdomadaires de PostgreSQL - 6 juin 2010</title>
	<guid>urn:md5:f5009136b3c347f172f0a06ed5a81e9a</guid>
	<link>http://blog.postgresql.fr/index.php?post/2010/06/12/Nouvelles-hebdomadaires-de-PostgreSQL-6-juin-2010</link>
	<description>&lt;p&gt;Le 11 juin 2010, Gabriele Bartolini (de 2&lt;sup&gt;nd&lt;/sup&gt;Quadrant Italia) interviendra lors de la conf&amp;eacute;rence italienne sur les Logiciels Libres &amp;agrave; Cagliari, Sardaigne&amp;nbsp;; intervention titr&amp;eacute;e &quot;High Availability of business databases with PostgreSQL&quot; [ndt: Haute Disponibilit&amp;eacute; de bases de donn&amp;eacute;es d'entreprises avec PostgreSQL]&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.confsl.org/&quot;&gt;http://www.confsl.org/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Le 12 juin 2010, le PUG italien fera la promotion de PostgreSQL lors de la conf&amp;eacute;rence italienne sur les Logiciels Libres &amp;agrave; Cagliari, Sardaigne avec une journ&amp;eacute;e enti&amp;egrave;re d'ateliers autour de PostgreSQL allant d'une &quot;Introduction&quot; &amp;agrave; la &quot;Haute Disponibilit&amp;eacute;&quot;&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.confsl.org/&quot;&gt;http://www.confsl.org/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Les nouveaut&amp;eacute;s des produits d&amp;eacute;riv&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ChronicDB v2.2.2, un outil de d&amp;eacute;ploiement de sch&amp;eacute;ma&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://chronicdb.com&quot;&gt;http://chronicdb.com&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Offres d'emplois autour de PostgreSQL en juin&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Internationales&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://archives.postgresql.org/pgsql-jobs/2010-05/threads.php&quot;&gt;http://archives.postgresql.org/pgsql-jobs/2010-05/threads.php&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;Francophones&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://forums.postgresql.fr/viewforum.php?id=4&quot;&gt;http://forums.postgresql.fr/viewforum.php?id=4&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL Local&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;La &quot;Southeast Linuxfest 2010&quot; aura lieu &amp;agrave; Spartanburg (Caroline du Sud, &amp;Eacute;tats-Unis) du 11 au 13 juin. Nos PG-gourous Joshua Drake et Andrew Dunstan donneront des pr&amp;eacute;sentations &amp;agrave; ne pas manquer&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://southeastlinuxfest.org/&quot;&gt;http://southeastlinuxfest.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Conf&amp;eacute;rence de Michael Renner au Netways OSDC &amp;agrave; Nuremberg (All.) les 23 &amp;amp; 24 juin 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.netways.de/osdc/y2010/programm/&quot;&gt;http://www.netways.de/osdc/y2010/programm/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;CHAR(10), la conf&amp;eacute;rence PostgreSQL d&amp;eacute;di&amp;eacute;e au clustering, &amp;agrave; la haute-disponibilit&amp;eacute; et &amp;agrave; la r&amp;eacute;plication vient d'ouvrir les inscriptions en ligne et les r&amp;eacute;servations. 2 &amp;amp; 3 juillet 2010, Oriel College, Universit&amp;eacute; d'Oxford (Royaume-Uni)&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.char10.org/&quot;&gt;http://www.char10.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Le PDXPUG Day est programm&amp;eacute; pour le 18 juillet 2010 &amp;agrave; &quot;l'Oregon Convention Center&quot; &amp;agrave; Portland. D'avantage d'informations&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://wiki.postgresql.org/wiki/PDXPUGDay2010&quot;&gt;http://wiki.postgresql.org/wiki/PDXPUGDay2010&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;L'OSCON aura lieu &amp;agrave; Portland (Oregon) du 19 au 23 juillet 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.oscon.com/oscon2010&quot;&gt;http://www.oscon.com/oscon2010&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL dans les m&amp;eacute;dia&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Planet PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planet.postgresql.org/&quot;&gt;http://planet.postgresql.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Planet PostgreSQLFr&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planete.postgresql.fr/&quot;&gt;http://planete.postgresql.fr/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;i&gt;PostgreSQL Weekly News / les nouvelles hebdomadaires vous sont offertes cette semaine par David Fetter. Traduction par l'&amp;eacute;quipe PostgreSQLFr sous licence CC BY-NC-SA.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;&lt;i&gt;Proposez vos articles ou annonces avant dimanche 15:00 (heure du Pacifique). Merci de les envoyer en anglais &amp;agrave; david (a) fetter.org, en allemand &amp;agrave; pwn (a) pgug.de, en italien &amp;agrave; pwn (a) itpug.org et en espagnol &amp;agrave; pwn (a) arpug.com.ar.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;(&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/community/weeklynews/pwn20100606&quot;&gt;lien vers l'article original&lt;/a&gt;)&lt;/p&gt;    &lt;p&gt;&lt;strong&gt;Correctifs appliqu&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Heikki Linnakangas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/replication/walsender.c, send all outstanding WAL before exiting when smart shutdown is requested. This was broken by my previous patch to send WAL in smaller batches. Patch by Fujii Masao.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlog.c, fix obsolete comments that I neglected to update in a previous patch. Fujii Masao.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Bruce Momjian a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/config.sgml, reword fsync and full_page_writes docs to be clearer about when to turn them off. Josh Berkus, with slight wording changes by me.&lt;/li&gt;
&lt;li&gt;In pgsql/src/pl/plpgsql/src/pl_exec.c, add error hint that PL/pgSQL &quot;EXECUTE of SELECT ... INTO&quot; can be performed by &quot;EXECUTE ... INTO&quot;. Jaime Casanova.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/docguide.sgml, document how to find TeX overflow boxes in our documentation build, per details from Alvaro Herrera.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/docguide.sgml, update TeX overflow documentation page pattern mask, in docs.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/docguide.sgml, overflow box is on page after listed page number, per Alvaro.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/commands/indexcmds.c, show schema name for REINDEX. Greg Sabino Mullane.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/extend.sgml, add documentation section &quot;Using C++ for Extensibility&quot;. Craig Ringer&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/extend.sgml, fix SGML markup for tag title.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/extend.sgml, mention palloc/pfree for C++ memory allocation in docs.&lt;/li&gt;
&lt;li&gt;Comment out C++ docs for later user. Tone down C++ compatibility in 9.0 release notes.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, update C++ release note item wording.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/func.sgml, document that &amp;amp;&amp;amp; geometric operator is true even if only a point overlaps. David Fetter.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/func.sgml, clarify array generate_subscripts() documentation example. Tim Landscheidt.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/citext.sgml, document that citext operators must be in the current search path.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/extend.sgml, document use of C++ for extension use.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/func.sgml, document regexp_matches() better and show example of single-row usage.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/extend.sgml, markup fix.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, update 9.0 release notes to current.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, fix CREATE TRIGGER release mention, WHERE -&amp;gt; WHEN.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Alvaro Herrera a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ref/reassign_owned.sgml, add note about database ownership to REASSIGN OWNED command documentation, per Josh Berkus. Add ALTER DATABASE to the &quot;see also&quot; section, too.&lt;/li&gt;
&lt;li&gt;In pgsql/src/include/catalog/pg_control.h, add comments about definitions that may affect PG_CONTROL_VERSION, per recent unintended-initdb-forcing fiasco&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Andrew Dunstan a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/tools/msvc/vcregress.pl, run recently backported plperlu_plperl regression tests when building with MSVC on releases 8.4 and 8.3. Regression tests weren't supported before that.&lt;/li&gt;
&lt;li&gt;In pgsql/src/tools/msvc/vcregress.pl, fix regression test name for plperlu_plperl in msvc.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Robert Haas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;On clean shutdown during recovery, don't warn about possible corruption. Fujii Masao. Review by Heikki Linnakangas and myself.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ITAGAKI Takahiro a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/contrib/dblink/dblink.c, fix dblink to treat connection names longer than NAMEDATALEN-2 (62 bytes). Now long names are adjusted with truncate_identifier() and NOTICE messages are raised if names are actually truncated. Backported to release 8.0.&lt;/li&gt;
&lt;li&gt;Replace &quot;slave&quot; to &quot;standby&quot; in documentation for consistent terminology. Almost all of the terms in docs and messages were replaced, but still remains in a few comments and README files in codes.&lt;/li&gt;
&lt;li&gt;Ensure default-only storage parameters for TOAST relations to be initialized with proper values. Affected parameters are fillfactor, analyze_threshold, and analyze_scale_factor. Especially uninitialized fillfactor caused inefficient page usage because we built a StdRdOptions struct in which fillfactor is zero if any reloption is set for the toast table. In addition, we disallow toast.autovacuum_analyze_threshold and toast.autovacuum_analyze_scale_factor because we didn't actually support them; they are always ignored. Report by Rumko on pgsql-bugs on 12 May 2010. Analysis by Tom Lane and Alvaro Herrera. Patch by me. Backpatch to 8.4.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tom Lane a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/include/catalog/pg_control.h, bump PG_CONTROL_VERSION to account for the incompatible change committed earlier.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, remove link that breaks HISTORY file generation.&lt;/li&gt;
&lt;li&gt;Add current WAL end (as seen by walsender, ie, GetWriteRecPtr() result) and current server clock time to Streaming Replication data messages. These are not currently used on the slave side but seem likely to be useful in future, and it'd be better not to change the Streaming Replication protocol after release. Per discussion. Also do some minor code review and cleanup on walsender.c, and improve the protocol documentation.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/replication/walsender.c, adjust misleading comment in walsender.c. We try to send all WAL data that's been written out from shared memory, but the previous phrasing might be read to say that we send only what's been fsync'd.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/func.sgml, improve our explanation of the OVERLAPS operator. Per gripe from Frank van Vugt.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Peter Eisentraut a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fix some inconsistent quoting of wal_level values in messages.&lt;/li&gt;
&lt;li&gt;Translation updates for 9.0beta2.&lt;/li&gt;
&lt;li&gt;When referring to postgresql.conf syntax, then it's without quotes (wal_level=archive); in narrative it's with double quotes. But never single quotes.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/libpq/hba.c, fix reference to nonexistent configure option --enable-ssl -&amp;gt; --with-openssl&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Marc Fournier a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tag 9.0beta2.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Michael Meskes a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Added variable handling for RETURNING clause to ecpg. While the values were correctly returned they were not moved into C variables as they should be. Closes: Bug #5489.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs rejet&amp;eacute;s (&amp;agrave; ce jour)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bruce Momjian's patches to allow setting wal_keep_segments to -1, which would mean, &quot;never get rid of any.&quot; This was agreed not to be a good idea.&lt;/li&gt;
&lt;li&gt;Pavel Stehule's patch to add new custom GUCs for date and time formats. Too many GUCs.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs en attente&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fujii Masao sent in three patches to fix streaming replication.&lt;/li&gt;
&lt;li&gt;Jan Urbanski and Tom Lane traded patches to fix tsvector stats.&lt;/li&gt;
&lt;li&gt;Peter Eisentraut sent in a patch to allow a client to authenticate a server over unix-domain sockets.&lt;/li&gt;
&lt;li&gt;Tom Lane sent in a WIP patch to fix some some misbehavior on INSERT-only tables.&lt;/li&gt;
&lt;li&gt;Andy Balholm sent in a WIP patch to allow dividing money by money.&lt;/li&gt;
&lt;li&gt;Daniele Varrazzo sent in a patch to implement a regexp_match() function which returns an array rather than a SETOF matches as regexp_matches() does.&lt;/li&gt;
&lt;li&gt;KaiGai Kohei sent two different patches intended to close some information leaks in VIEWs.&lt;/li&gt;
&lt;li&gt;Dean Rasheed sent in a patch to fix the docs for ALTER TABLE ... DISABLE/ENABLE TRIGGER. They are out of date.&lt;/li&gt;
&lt;/ul&gt;</description>
	<pubDate>sam, 12 jun 2010 22:44:20 +0000</pubDate>
</item>
<item>
	<title>Guillaume Lelarge: Traduction du manuel de la 9.0 beta 2</title>
	<guid>urn:md5:d88eac4b5ffae14cc4848ae37cb787d4</guid>
	<link>http://blog.guillaume.lelarge.info/index.php/post/2010/06/07/Traduction-du-manuel-de-la-9.0-beta-2</link>
	<description>&lt;p&gt;La &lt;a href=&quot;http://developer.postgresql.org/pgdocs/postgres/index.html&quot; hreflang=&quot;en&quot;&gt;beta 2 de la 9.0&lt;/a&gt; sort aujourd'hui (oui, on est déjà lundi, même si c'est de peu), tout comme la version 1.12 beta 2 de &lt;a href=&quot;http://www.pgadmin.org/?lang=fr_FR&quot; hreflang=&quot;fr&quot;&gt;pgAdmin&lt;/a&gt;.&lt;/p&gt;


&lt;p&gt;J'en profite pour dire que j'ai fait le merge de la traduction vers la beta 2 et que j'ai commencé sérieusement la traduction. On est passé de 247 fichiers à traduire à 32. C'est évidemment les plus gros qui restent... &lt;img src=&quot;http://blog.guillaume.lelarge.info/themes/default/smilies/confused.png&quot; alt=&quot;:-/&quot; class=&quot;smiley&quot; /&gt;&lt;/p&gt;


&lt;p&gt;Bref, pour les impatients, le &lt;a href=&quot;http://docs.postgresql.fr/9.0/&quot; hreflang=&quot;fr&quot;&gt;manuel français de la 9.0&lt;/a&gt; est disponible. Mais attention, il y a toujours des (plus ou moins gros) morceaux en anglais.&lt;/p&gt;</description>
	<pubDate>dim, 06 jun 2010 22:09:00 +0000</pubDate>
</item>
<item>
	<title>Actualités PostgreSQL.fr: Nouvelles hebdomadaires de PostgreSQL - 31 mai 2010</title>
	<guid>urn:md5:642bc813b351eefbb8cb0a906e988651</guid>
	<link>http://blog.postgresql.fr/index.php?post/2010/06/05/Nouvelles-hebdomadaires-de-PostgreSQL-31-mai-2010</link>
	<description>&lt;p&gt;Les résultats de l'élection du bureau de PostgreSQL EU Board ont été publiés&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://blog.hagander.net/archives/169-PostgreSQL-Europe-election-results.html&quot;&gt;http://blog.hagander.net/archives/169-PostgreSQL-Europe-election-results.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[ndt: diff&amp;eacute;rentes migrations vers Git: &lt;a href=&quot;http://wiki.postgresql.org/wiki/PgCon_2010_Developer_Meeting#CVS_to_GIT&quot;&gt;en projet pour le c&amp;oelig;ur de PostgreSQL&lt;/a&gt; et &lt;a href=&quot;http://blog.guillaume.lelarge.info/index.php/post/2010/06/02/Et-hop%2C-un-d%C3%A9p%C3%B4t-git-pour-la-traduction-des-manuels-de-PostgreSQL-et-de-Slony&quot;&gt;d&amp;eacute;j&amp;agrave; en place pour la documentation Fr&lt;/a&gt;]&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Offres d'emplois autour de PostgreSQL en mai&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Internationales&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://archives.postgresql.org/pgsql-jobs/2010-05/threads.php&quot;&gt;http://archives.postgresql.org/pgsql-jobs/2010-05/threads.php&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;Francophones&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://forums.postgresql.fr/viewforum.php?id=4&quot;&gt;http://forums.postgresql.fr/viewforum.php?id=4&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL Local&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Les inscriptions sont ouvertes pour l'Open Source Bridge et les conférences sont annoncées&amp;nbsp;! L'événement aura lieu du 1er au 4 juin 2010 à Portland (Oregon)&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://opensourcebridge.org/events/2010/proposals/&quot;&gt;http://opensourcebridge.org/events/2010/proposals/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Michael Renner tiendra une conférence au AMOOCON qui aura lieu du 4 au 6 juin 2010&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://www.amoocon.de/speakers/214&quot;&gt;http://www.amoocon.de/speakers/214&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;La &quot;Southeast Linuxfest 2010&quot; aura lieu à Spartanburg (Caroline du Sud, États-Unis) du 11 au 13 juin. Nos PG-gourous Joshua Drake et Andrew Dunstan donneront des présentations à ne pas manquer&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://southeastlinuxfest.org/&quot;&gt;http://southeastlinuxfest.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Conférence de Michael Renner au Netways OSDC à Nuremberg (All.) les 23 &amp;amp; 24 juin 2010&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://www.netways.de/osdc/y2010/programm/&quot;&gt;http://www.netways.de/osdc/y2010/programm/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;CHAR(10), la conférence PostgreSQL dédiée au clustering, à la haute-disponibilité et à la réplication vient d'ouvrir les inscriptions en ligne et les réservations. 2 &amp;amp; 3 juillet 2010, Oriel College, Université d'Oxford (Royaume-Uni)&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://www.char10.org/&quot;&gt;http://www.char10.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Le PDXPUG Day est programmé pour le 18 juillet 2010 à &quot;l'Oregon Convention Center&quot; à Portland. D'avantage d'informations&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://wiki.postgresql.org/wiki/PDXPUGDay2010&quot;&gt;http://wiki.postgresql.org/wiki/PDXPUGDay2010&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;L'OSCON aura lieu à Portland (Oregon) du 19 au 23 juillet 2010&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://www.oscon.com/oscon2010&quot;&gt;http://www.oscon.com/oscon2010&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL dans les média&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Planet PostgreSQL&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://planet.postgresql.org/&quot;&gt;http://planet.postgresql.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Planet PostgreSQLFr&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://planete.postgresql.fr/&quot;&gt;http://planete.postgresql.fr/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;PostgreSQL Weekly News / les nouvelles hebdomadaires vous sont offertes cette semaine par David Fetter. Traduction par l'équipe PostgreSQLFr sous licence CC BY-NC-SA.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Proposez vos articles ou annonces avant dimanche 15:00 (heure du Pacifique). Merci de les envoyer en anglais à david (a) fetter.org, en allemand à pwn (a) pgug.de, en italien à pwn (a) itpug.org et en espagnol à pwn (a) arpug.com.ar.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;(&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/community/weeklynews/pwn20100531&quot;&gt;lien vers l'article original&lt;/a&gt;)&lt;/p&gt;    &lt;p&gt;&lt;strong&gt;Correctifs appliqués&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Bruce Momjian a commité&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/option.c, split apart pg_upgrade user lookup and root check so '--help' shows proper default username.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/pgupgrade.sgml, update pg_upgrade docs to show options in alphabetical order, and improve 8.3 doc limitations paragraph.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/info.c, in pg_upgrade, test for datallowconn instead of hardcoding template0.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/option.c, re-order pg_upgrade 'help' options to be alphabetical.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/IMPLEMENTATION.jp, add Japanese Implementation file to CVS.&lt;/li&gt;
&lt;li&gt;In /doc/src/sgml/pgupgrade.sgml, add pg_upgrade docs about binary compatibility, per Robert Haas.&lt;/li&gt;
&lt;li&gt;Modify pg_standby, pgbench, and pg_upgrade manual pages to be consistent in their display of command-line options with other client applications.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/IMPLEMENTATION, update pg_upgrade IMPLEMENTATION doc file to match current 9.0 behavior.&lt;/li&gt;
&lt;li&gt;Remove IMPLEMENTATION.jp file from pg_upgrade docs; still in pgFoundry for pg_migrator, per suggestion from Magnus Hagander.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/maintenance.sgml, document pgFouine and check_postgres as log analysis options.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/maintenance.sgml, fix SGML markup.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/installation.sgml, document use of VPATH builds. David Fetter.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/executor/execUtils.c, add C comment that we will have to remove an exclusion constraint check if we ever implement '&amp;lt;&amp;gt;' index opclasses. Jeff Davis.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ref/create_domain.sgml, document that NOT NULL domain constraints are not always honored.&lt;/li&gt;
&lt;li&gt;Clarify the meaning of &quot;trusted language&quot; in the documentation.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Michael Meskes a commité&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Added a configure test for &quot;long long&quot; datatypes. So far this is only used in ecpg and replaces the old test that was kind of hackish.&lt;/li&gt;
&lt;li&gt;Replace self written 'long long int' configure test by standard 'AC_TYPE_LONG_LONG_INT' macro call.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tom Lane a commité&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/optimizer/plan/createplan.c, fix oversight in construction of sort/unique plans for UniquePaths. If the original IN operator is cross-type, for example int8 = int4, we need to use int4 &amp;lt; int4 to sort the inner data and int4 = int4 to unique-ify it. We got the first part of that right, but tried to use the original IN operator for the equality checks. Per bug #5472 from Vlad Romascanu. Backpatch to 8.4, where the bug was introduced by the patch that unified SortClause and GroupClause. I was able to take out a whole lot of on-the-fly calls of get_equality_op_for_ordering_op(), but failed to realize that I needed to put one back in right here :-(&lt;/li&gt;
&lt;li&gt;In pgsql/src/interfaces/libpq/fe-secure.c, add missing newlines to some SSL-related error messages. Noted while testing.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/libpq/be-secure.c, tell openssl to include the names of the root certs the server trusts in requests for client certs. This lets a client with a keystore select the appropriate client certificate to send. In particular, this is necessary to get Java clients to work in all but the most trivial configurations. Per discussion of bug #5468. Craig Ringer&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/libpq/be-secure.c, minor editorialization for be-secure.c: fix comments and some formatting infelicities.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/libpq/hba.c, the message style police pay a visit to hba.c.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/libpq/auth.c, fix bogus error message for SSL-cert authentication, due to lack of a uaCert entry in auth_failed(). Put the switch entries into a sane order, namely the one the enum is declared in.&lt;/li&gt;
&lt;li&gt;Rearrange libpq's SSL initialization to simplify it and make it handle some additional cases correctly. The original coding failed to load additional (chain) certificates from the client cert file, meaning that indirectly signed client certificates didn't work unless one hacked the server's root.crt file to include intermediate CAs (not the desired approach). Another problem was that everything got loaded into the shared SSL_context object, which meant that concurrent connections trying to use different sslcert settings could well fail due to conflicting over the single available slot for a keyed certificate. To fix, get rid of the use of SSL_CTX_set_client_cert_cb(), which is deprecated anyway in the OpenSSL documentation, and instead just unconditionally load the client cert and private key during connection initialization. This lets us use SSL_CTX_use_certificate_chain_file(), which does the right thing with additional certs, and is lots simpler than the previous hacking about with BIO-level access. A small disadvantage is that we have to load the primary client cert a second time with SSL_use_certificate_file, so that that one ends up in the correct slot within the connection's SSL object where it can get paired with the key. Given the other overhead of making an SSL connection, that doesn't seem worth worrying about. Per discussion ensuing from bug #5468.&lt;/li&gt;
&lt;li&gt;Improve SSL-related documentation. Explain how to deal with certificate chains, do assorted wordsmithing.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/commands/indexcmds.c, make CREATE INDEX run expression preprocessing on a proposed index expression before it checks whether the expression is immutable. This covers two cases that were previously handled poorly: 1. SQL function inlining could reduce the apparent volatility of the expression, allowing an expression to be accepted where it previously would not have been. As an example, polymorphic functions must be marked with the worst-case volatility they have for any argument type, but for specific argument types they might not be so volatile, so indexing could be allowed. (Since the planner will refuse to inline functions in cases where the apparent volatility of the expression would increase, this won't break any cases that were accepted before.) 2. A nominally immutable function could have default arguments that are volatile expressions. In such a case insertion of the defaults will increase both the apparent and actual volatility of the expression, so it is *necessary* to check this before allowing the expression to be indexed. Back-patch to 8.4, where default arguments were introduced.&lt;/li&gt;
&lt;li&gt;In pgsql/src/include/catalog/pg_proc.h, fix the volatility marking of textanycat() and anytextcat(): they were marked immutable, but that is wrong in general because the cast from the polymorphic argument to text could be stable or even volatile. Mark them volatile for safety. In the typical case where the cast isn't volatile, the planner will deduce the correct expression volatility after inlining the function, so performance is not lost. The just-committed fix in CREATE INDEX also ensures this won't break any indexing cases that ought to be allowed. Per discussion, I'm not bumping catversion for this change, as it doesn't seem critical enough to force an initdb on beta testers.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/utils/misc/ps_status.c, change ps_status.c to explicitly track the current logical length of ps_buffer. This saves cycles in get_ps_display() on many popular platforms, and more importantly ensures that get_ps_display() will correctly return an empty string if init_ps_display() hasn't been called yet. Per trouble report from Ray Stell, in which log_line_prefix %i produced junk early in backend startup. Back-patch to 8.0. 7.4 doesn't have %i and its version of get_ps_display() makes no pretense of avoiding pad junk anyhow.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/executor/nodeMergejoin.c, rejigger mergejoin logic so that a tuple with a null in the first merge column is treated like end-of-input, if nulls sort last in that column and we are not doing outer-join filling for that input. In such a case, the tuple cannot join to anything from the other input (because we assume mergejoinable operators are strict), and neither can any tuple following it in the sort order. If we're not interested in doing outer-join filling we can just pretend the tuple and its successors aren't there at all. This can save a great deal of time in situations where there are many nulls in the join column, as in a recent example from Scott Marlowe. Also, since the planner tends to not count nulls in its mergejoin scan selectivity estimates, this is an important fix to make the runtime behavior more like the estimate. I regard this as an omission in the patch I wrote years ago to teach mergejoin that tuples containing nulls aren't joinable, so I'm back-patching it. But only to 8.3 --- in older versions, we didn't have a solid notion of whether nulls sort high or low, so attempting to apply this optimization could break things.&lt;/li&gt;
&lt;li&gt;Rewrite LIKE's %-followed-by-_ optimization so it really works (this time for sure ;-)). It now also optimizes more cases, such as %_%_. Improve comments too. Per bug #5478. In passing, also rename the TCHAR macro to GETCHAR, because pgindent is messing with the formatting of the former (apparently it now thinks TCHAR is a typedef name). Back-patch to 8.3, where the bug was introduced.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/utils/adt/like_match.c, fix oversight in the previous patch that made LIKE throw error for \ at the end of the pattern: the code path that handles \ just after % should throw error too. As in the previous patch, not back-patching for fear of breaking apps that worked before.&lt;/li&gt;
&lt;li&gt;In pgsql/src/bin/psql/common.c, abort a FETCH_COUNT-controlled query if we observe any I/O error on the output stream. This typically indicates that the user quit out of $PAGER, or that we are writing to a file and ran out of disk space. In either case we shouldn't bother to continue fetching data. Stephen Frost.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/perform.sgml, add text to &quot;Populating a Database&quot; pointing out that bulk data load into a table with foreign key constraints eats memory. Per off-line discussion of bug #5480 with its reporter. Also do some minor wordsmithing elsewhere in the same section.&lt;/li&gt;
&lt;li&gt;Change the notation for calling functions with named parameters from &quot;val AS name&quot; to &quot;name := val&quot;, as per recent discussion. This patch catches everything in the original named-parameters patch, but I'm not certain that no other dependencies snuck in later (grepping the source tree for all uses of AS soon proved unworkable). In passing I note that we've dropped the ball at least once on keeping ecpg's lexer (as opposed to parser) in sync with the backend. It would be a good idea to go through all of pgc.l and see if it's in sync now. I didn't attempt that at the moment.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/tsearch/ts_typanalyze.c, fix misuse of Lossy Counting (LC) algorithm in compute_tsvector_stats(). We must filter out hashtable entries with frequencies less than those specified by the algorithm, else we risk emitting junk entries whose actual frequency is much less than other lexemes that did not get tabulated. This is bad enough by itself, but even worse is that tsquerysel() believes that the minimum frequency seen in pg_statistic is a hard upper bound for lexemes not included, and was thus underestimating the frequency of non-MCEs. Also, set the threshold frequency to something with a little bit of theory behind it, to wit assume that the input distribution is approximately Zipfian. This might need adjustment in future, but some preliminary experiments suggest that it's not too unreasonable. Back-patch to 8.4, where this code was introduced. Jan Urbanski, with some editorialization by Tom Lane.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Robert Haas a commité&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/postmaster/postmaster.c, more fixes for shutdown during recovery. 1. If we receive a fast shutdown request while in the PM_STARTUP state, process it just as we would in PM_RECOVERY, PM_HOT_STANDBY, or PM_RUN. Without this change, an early fast shutdown followed by Hot Standby causes the database to get stuck in a state where a shutdown is pending (so no new connections are allowed) but the shutdown request is never processed unless we end Hot Standby and enter normal running. 2. Avoid removing the backup label file when a smart or fast shutdown occurs during recovery. It makes sense to do this once we've reached normal running, since we must be taking a backup which now won't be valid. But during recovery we must be recovering from a previously taken backup, and any backup label file is needed to restart recovery from the right place. Fujii Masao and Robert Haas&lt;/li&gt;
&lt;li&gt;In pgsql/src/bin/psql/help.c, fix psql help: \da+ is same as \da, but \daS is not. Noted by Stephen Frost.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/postmaster/postmaster.c, avoid starting walreceiver in states where it shouldn't be running. In particular, it's bad to start walreceiver when in state PM_WAIT_BACKENDS, because we have no provision to kill walreceiver when in that state. Fujii Masao.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Simon Riggs a commité&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Hot Standby Defer buffer pin deadlock check until deadlock_timeout has expired. During Hot Standby we need to check for buffer pin deadlocks when the Startup process begins to wait, in case it never wakes up again. We previously made the deadlock check immediately on the basis it was cheap, though clearer thinking and prima facie evidence shows that was too simple. Refactor existing code to make it easy to add in deferral of deadlock check until deadlock_timeout allowing a good reduction in deadlock checks since far few buffer pins are held for that duration. It's worth doing anyway, though major goal is to prevent further reports of context switching with high numbers of users on occasional tests.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Heikki Linnakangas a commité&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/replication/walsender.c, in walsender, don't sleep if there's outstanding WAL waiting to be sent, otherwise we effectively rate-limit the streaming as pointed out by Simon Riggs. Also, send the WAL in smaller chunks, to respond to signals more promptly.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/replication/walsender.c, thinko in previous commit: ensure that MAX_SEND_SIZE is always greater than XLOG_BLCKSZ, by defining it as 16 * XLOG_BLCKSZ rather than directly as 128k bytes.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlog.c, adjust comment to reflect that we now have Hot Standby. Pointed out by Robert Haas.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ref/savepoint.sgml, make it more clear that you need to release savepoint with RELEASE SAVEPOINT to make an older savepoint with the same name accessible. It's also possible to implicitly release the savepoint by rolling back to an earlier savepoint, but mentioning that too would make the note just more verbose and confusing. Florian Pflug.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/high-availability.sgml, update High Availability docs. Clarify terms master/primary standby/slave, move two paragraphs that apply to log shipping in general from the &quot;Alternative method for log shipping&quot; section to the earlier sections. Add varname tags where missing. Some small wording changes.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/high-availability.sgml, fix typos in recent doc patch. Fujii Masao.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ITAGAKI Takahiro a commité&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mark PG_MODULE_MAGIC and PG_FUNCTION_INFO_V1 with PGDLLEXPORT independently from BUILDING_DLL. It is always __declspec(dllexport).&lt;/li&gt;
&lt;li&gt;In pgsql/src/include/port/cygwin.h and pgsql/src/include/port/win32.h PGDLLEXPORT is __declspec (dllexport) only on MSVC, but is __declspec (dllimport) on other compilers because cygwin and mingw don't like dllexport.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Peter Eisentraut a commité&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/syntax.sgml, small correction/clarification in discussion of Unicode literals.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs rejetés (à ce jour)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Stephen Frost's in a patch to move a &quot;long long&quot; check to c.h. The actual problem, if it needs fixing, needs to be fixed in autoconf.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs en attente&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;KaiGai Kohei sent in six revisions of a patch to rework Robert Haas's patch to add an ExecutorCheckPerms() hook.&lt;/li&gt;
&lt;li&gt;Fujii Masao sent in two more revisions of the patch to fix smart shutdown during recovery.&lt;/li&gt;
&lt;li&gt;Craig Ringer sent in two revisions of a patch to fix an issue with SSL certificates.&lt;/li&gt;
&lt;li&gt;Simon Riggs sent in a patch to fix the sporadically reduced speed and context switch storm issues in Hot Standby.&lt;/li&gt;
&lt;li&gt;Mike Fowler sent in three revisions of a patch to add XMLEXISTS from the SQL/XML section of the SQL standard.&lt;/li&gt;
&lt;li&gt;Jonathan Leto and Josh Tolley traded patches to document the PL template handler better.&lt;/li&gt;
&lt;li&gt;Stephen Frost sent in a patch to do regression tests on psql's backslash commands.&lt;/li&gt;
&lt;li&gt;ITAGAKI Takahiro sent in a patch to fix an issue where fillfactor in TOAST tables is set to 0, which is not always right.&lt;/li&gt;
&lt;li&gt;Robert Haas sent in a patch to add a get_whatever_oid() function. This factors out much code duplication.&lt;/li&gt;
&lt;li&gt;Simon Riggs sent in another revision of the patch to fix keepalive issues in max_standby_delay.&lt;/li&gt;
&lt;li&gt;Peter Eisentraut sent in a patch for 9.1 that adds functions pg_stat_get_backend_client_addr and pg_stat_get_backend_client_port.&lt;/li&gt;
&lt;/ul&gt;</description>
	<pubDate>sam, 05 jun 2010 00:31:16 +0000</pubDate>
</item>
<item>
	<title>Guillaume Lelarge: Et hop, un dépôt git pour la traduction des manuels de PostgreSQL et de Slony</title>
	<guid>urn:md5:8c6f4fe15ba0bc3a4264db22ed4d3fdc</guid>
	<link>http://blog.guillaume.lelarge.info/index.php/post/2010/06/02/Et-hop%2C-un-d%C3%A9p%C3%B4t-git-pour-la-traduction-des-manuels-de-PostgreSQL-et-de-Slony</link>
	<description>&lt;p&gt;Marc Cousin a beaucoup bossé là-dessus, et il a surtout bien bossé. Le résultat est disponible sur &lt;a href=&quot;http://github.com/gleu/pgdocs_fr&quot; hreflang=&quot;en&quot;&gt;github.com&lt;/a&gt;. Le dépôt SVN devient donc inutile et sera archivé rapidement. Pour récupérer le dépôt, c'est très simple. Il vous suffit d'utiliser cette commande :&lt;/p&gt;


&lt;pre&gt; git clone git://github.com/gleu/pgdocs_fr.git&lt;/pre&gt;


&lt;p&gt;et quelques secondes après, vous disposez de toutes les branches, de tous les tags... bref, du dépôt complet des fichiers XML. Cool, non ?&lt;/p&gt;


&lt;p&gt;Merci Marc, j'attendais ça depuis un bon moment. Maintenant, tout se fait sur le dépôt git. Si vous voulez les droits d'écriture dessus, il me semble qu'il faut absolument un compte sur github (ouverture gratuite et rapide) et me donner le nom du compte. Allez, je retourne au boulot.&lt;/p&gt;</description>
	<pubDate>mer, 02 jun 2010 17:04:00 +0000</pubDate>
</item>
<item>
	<title>Guillaume Lelarge: La traduction de la 9.0 peut commencer</title>
	<guid>urn:md5:cd26ba432825b7775b62ede5ff7162c5</guid>
	<link>http://blog.guillaume.lelarge.info/index.php/post/2010/05/30/La-traduction-de-la-9.0-peut-commencer</link>
	<description>&lt;p&gt;Le merge est terminé depuis un bon moment. J'attendais de pouvoir proposer une interface simpliste pour la réservation des fichiers et surtout la récupération du diff entre ancienne version et nouvelle version de chaque fichier.&lt;/p&gt;


&lt;p&gt;Cet après-midi, j'ai donc écrit cette interface, ainsi qu'un outil pour intégrer toutes ces informations dans une base de données. Le résultat est disponible à cette URL : &lt;a href=&quot;http://www.postgresql.fr/~guillaume/traduction/liste.php&quot; hreflang=&quot;fr&quot;&gt;http://www.postgresql.fr/~guillaume/traduction/liste.php&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Alors, oui, c'est en grosse partie moche, sauf la partie visualisation du patch. Ça n'a pas beaucoup de fonctionnalités. Remarquez que c'est clairement pas le but. Je me fous de la présentation en dehors du patch. Mon but est de fournir une interface simple permettant de travailler pour se mettre au travail le plus vite possible. C'est chose faite. Je suis content &lt;img src=&quot;http://blog.guillaume.lelarge.info/themes/default/smilies/smile.png&quot; alt=&quot;:)&quot; class=&quot;smiley&quot; /&gt;&lt;/p&gt;


&lt;p&gt;Pour réserver un fichier, il suffit de cliquer sur le nom du fichier, puis d'indiquer son nom dans le champ texte « Traducteur ». Le patch se trouve en dessous. Si vous ne disposez pas d'un accès au SVN, je peux vous fournir le fichier. Il suffit de m'envoyer un mail à guillaume at lelarge point info. Une fois le fichier traduit, il suffit là-aussi de me l'envoyer. Je l'intègrerais dans le SVN en vous mettant comme traducteur.&lt;/p&gt;


&lt;p&gt;Merci.&lt;/p&gt;</description>
	<pubDate>dim, 30 mai 2010 17:59:00 +0000</pubDate>
</item>
<item>
	<title>Actualités PostgreSQL.fr: Nouvelles hebdomadaires de PostgreSQL - 16 mai 2010</title>
	<guid>urn:md5:9ac058d07116d1186ce8f1524b50297c</guid>
	<link>http://blog.postgresql.fr/index.php?post/2010/05/20/Nouvelles-hebdomadaires-de-PostgreSQL-16-mai-2010</link>
	<description>&lt;p&gt;Les mises à jour correctrices [ndt: et de sécurité] 8.4.4, 8.3.11, 8.2.17, 8.1.21, 8.0.25 et 7.4.29 seront disponibles sous peu. Préparez-vous&amp;nbsp;!&lt;/p&gt;
&lt;p&gt;Les élections du bureau de PostgreSQL EU courent jusqu'au 23 mai 2010&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;https://www.postgresql.eu/elections/&quot;&gt;https://www.postgresql.eu/elections/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Conférence de Michael Renner au Netways OSDC à Nuremberg (All.) les 23 &amp;amp; 24 juin 2010&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://www.netways.de/osdc/y2010/programm/&quot;&gt;http://www.netways.de/osdc/y2010/programm/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Le PDXPUG Day est programmé pour le 18 juillet 2010 à &quot;l'Oregon Convention Center&quot; à Portland. D'avantage d'informations&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://wiki.postgresql.org/wiki/PDXPUGDay2010&quot;&gt;http://wiki.postgresql.org/wiki/PDXPUGDay2010&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Les nouveautés des produits dérivés&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;tail_n_mail 1.10.3, un programme Perl pour scanner les fichiers de logs et envoyer les résultats par mail&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://bucardo.org/wiki/Tail_n_mail&quot;&gt;http://bucardo.org/wiki/Tail_n_mail&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;neo_my2pg 0.8, un utilitaire de conversion depuis MySQL&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://pgfoundry.org/projects/my2postgres/&quot;&gt;http://pgfoundry.org/projects/my2postgres/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;pgAdmin 1.10.3, une interface graphique de gestion pour PostgreSQL&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://www.pgadmin.org/download/&quot;&gt;http://www.pgadmin.org/download/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;pgbouncer 1.3.3, un gestionnaire léger de connexions pour PostgreSQL&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://pgfoundry.org/projects/pgbouncer/&quot;&gt;http://pgfoundry.org/projects/pgbouncer/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;pglesslog 1.4.1, un ensemble d'outils visant à réduire la taille des WALs&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://pglesslog.projects.postgresql.org/&quot;&gt;http://pglesslog.projects.postgresql.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;psycopg2 2.2.0, un connecteur Python pour PostgreSQL&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://initd.org/psycopg/&quot;&gt;http://initd.org/psycopg/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;La fonctionnalité 9.0 de la semaine&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;pg_ctl a maintenant une option &quot;initdb&quot;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Offres d'emplois autour de PostgreSQL en mai&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Internationales&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://archives.postgresql.org/pgsql-jobs/2010-05/threads.php&quot;&gt;http://archives.postgresql.org/pgsql-jobs/2010-05/threads.php&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;Francophones&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://forums.postgresql.fr/viewforum.php?id=4&quot;&gt;http://forums.postgresql.fr/viewforum.php?id=4&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL Local&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;La PgCon 2010 aura lieu les 20 &amp;amp; 21 mai 2010 à Ottawa avec des tutoriels les 18 et 19&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://www.pgcon.org/2010/registration.php&quot;&gt;http://www.pgcon.org/2010/registration.php&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Le &quot;Prague PostgreSQL Test Day&quot; aura lieu le 21 mai 2010 à Prague, République Tchèque&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://www.nic.cz/page/747/test-the-new-beta-version-of-postgresql-in-the-cz.nic-laboratories/&quot;&gt;http://www.nic.cz/page/747/test-the-new-beta-version-of-postgresql-in-the-cz.nic-laboratories/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Les inscriptions sont ouvertes pour l'Open Source Bridge et les conférences sont annoncées&amp;nbsp;! L'événement aura lieu du 1er au 4 juin 2010 à Portland (Oregon)&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://opensourcebridge.org/events/2010/proposals/&quot;&gt;http://opensourcebridge.org/events/2010/proposals/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Michael Renner tiendra une conférence au AMOOCON qui aura lieu du 4 au 6 juin 2010&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://www.amoocon.de/speakers/214&quot;&gt;http://www.amoocon.de/speakers/214&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;La &quot;Southeast Linuxfest 2010&quot; aura lieu à Spartanburg (Caroline du Sud, États-Unis) du 11 au 13 juin. Nos PG-gourous Joshua Drake et Andrew Dunstan donneront des présentations à ne pas manquer&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://southeastlinuxfest.org/&quot;&gt;http://southeastlinuxfest.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;L'OSCON aura lieu à Portland (Oregon) du 19 au 23 juillet 2010&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://www.oscon.com/oscon2010&quot;&gt;http://www.oscon.com/oscon2010&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL dans les média&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Planet PostgreSQL&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://planet.postgresql.org/&quot;&gt;http://planet.postgresql.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Planet PostgreSQLFr&amp;nbsp;:
&lt;a target=&quot;_blank&quot; href=&quot;http://planete.postgresql.fr/&quot;&gt;http://planete.postgresql.fr/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;PostgreSQL Weekly News / les nouvelles hebdomadaires vous sont offertes cette semaine par David Fetter et Devrim Gunduz. Traduction par l'équipe PostgreSQLFr sous licence CC BY-NC-SA.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Proposez vos articles ou annonces avant dimanche 15:00 (heure du Pacifique). Merci de les envoyer en anglais à david (a) fetter.org, en allemand à pwn (a) pgug.de, en italien à pwn (a) itpug.org et en espagnol à pwn (a) arpug.com.ar.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;(&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/community/weeklynews/pwn20100516&quot;&gt;lien vers l'article original&lt;/a&gt;)&lt;/p&gt;    &lt;p&gt;&lt;strong&gt;Correctifs appliqués&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Tom Lane a commité&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/optimizer/plan/planagg.c, when adding a &quot;target IS NOT NULL&quot; indexqual to the plan for an index-optimized MIN or MAX, we must take care to insert the added qual in a legal place among the existing indexquals, if any. The btree index AM requires the quals to appear in index-column order. We didn't have to worry about this before because &quot;target IS NOT NULL&quot; was just treated as a plain scan filter condition; but as of 9.0 it can be an index qual and then it has to follow the rule. Per report from Ian Barwick.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/optimizer/prep/prepunion.c, fix incorrect patch that removed permission checks on inheritance child tables --- the parent table no longer got checked, either. Per bug #5458 from Takahiro Itagaki.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/postmaster/pgarch.c, cause the archiver process to adopt new postgresql.conf settings (particularly archive_command) as soon as possible, namely just before issuing a new call of archive_command, even when there is a backlog of files to be archived. The original coding would only absorb new settings after clearing the backlog and returning to the outer loop. Per discussion. Back-patch to 8.3. The logic in prior versions is a bit different and it doesn't seem worth taking any risks of breaking it.&lt;/li&gt;
&lt;li&gt;Add PKST to the default set of timezone abbreviations. Per discussion, if we have PKT in there then PKST should be too. Also, fix mistaken claim that these abbrevs are not known to zic.&lt;/li&gt;
&lt;li&gt;Update time zone data files to tzdata release 2010j: DST law changes in Argentina, Australian Antarctic, Bangladesh, Mexico, Morocco, Pakistan, Palestine, Russia, Syria, Tunisia. Historical corrections for Taiwan.&lt;/li&gt;
&lt;li&gt;Clean up unnecessary unportability and compiler warnings by removing the cmp parameter for pg_scandir(). The code failed to support this anyway for Sun/Windows, so pretending we could accept a parameter other than NULL was just asking for trouble.&lt;/li&gt;
&lt;li&gt;Hook pg_upgrade into the contrib makefile structure so it gets built on the buildfarm.&lt;/li&gt;
&lt;li&gt;Preliminary release notes for releases 8.4.4, 8.3.11, 8.2.17, 8.1.21, 8.0.25, 7.4.29.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade_support/Makefile, fix wrong subdir. Per buildfarm.&lt;/li&gt;
&lt;li&gt;Use &quot;TOAST table&quot; in place of the vague, not-used-elsewhere phrase &quot;supplementary storage table&quot;.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/rules.sgml, use an entity instead of non-ASCII letter. Thom Brown.&lt;/li&gt;
&lt;li&gt;Fix up lame idea of not using autoconf to determine if platform has scandir(). Should fix buildfarm failures.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/file.c, spell __darwin__ correctly, to suppress compiler warning on OSX.&lt;/li&gt;
&lt;li&gt;In pg_upgrade, get rid of unsafe sprintf and snprintf usages. Per compiler warnings.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/controldata.c, remove another unsafe use of random data as a format string.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/info.c, fix another obvious bug pointed out by a compiler warning.&lt;/li&gt;
&lt;li&gt;In pgsql/src/include/port.h, spell __NetBSD__ the same way everywhere. Per Giles Lean.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ref/pg_restore.sgml, improve documentation of pg_restore's -l and -L switches to point out their interactions with filtering switches, such as -n and -t. Per a complaint from Russell Smith.&lt;/li&gt;
&lt;li&gt;Ensure that pg_restore -l will output DATABASE entries whether or not -C is specified. Per bug report from Russell Smith and ensuing discussion. Since this is a corner case behavioral change, I'm going to be conservative and not back-patch it. In passing, also rename the RestoreOptions field for the -C switch to something less generic than &quot;create&quot;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ITAGAKI Takahiro a commité&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/catalog/pg_proc.c, set per-function GUC settings during validating the function. Now validators work properly even when the settings contain parameters that affect behavior of the function, like search_path. Reported by Erwin Brandstetter.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/po/ja.po, remove CRs.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Robert Haas a commité&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ref/cluster.sgml, mention related ALTER TABLE variants in documentation for CLUSTER. As suggested by Andy Lester.&lt;/li&gt;
&lt;li&gt;In pgsql/src/include/utils/rbtree.h, change typedef for rb_appendator to avoid conflict with C++ reserved words. Fixes a complaint from src/tools/pginclude/cpluspluscheck reported by Peter Eisentraut.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/postmaster/postmaster.c, we now accept read-only connections in state PM_RECOVERY_CONSISTENT.&lt;/li&gt;
&lt;li&gt;Rename PM_RECOVERY_CONSISTENT and PMSIGNAL_RECOVERY_CONSISTENT. The new names PM_HOT_STANDBY and PMSIGNAL_BEGIN_HOT_STANDBY more accurately reflect their actual function.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/xfunc.sgml, fix longstanding typo in V1 calling conventions documentation. Erik Rijkers&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/xfunc.sgml, insert line breaks in two places in SQL functions documentation. This avoids a formatting problem in the PDF output. In the HTML output this isn't necessary, but we've done similar things elsewhere in the documentation so I think it's OK to do it here, too. I've refrained from breaking a longish error message which also causes problems for the PDF output, because that would make the HTML output look wrong. Erik Rijkers.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Bruce Momjian a commité&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Add pg_upgrade to /contrib; will be in 9.0 beta2. Add documentation. Supports migration from PG 8.3 and 8.4.&lt;/li&gt;
&lt;li&gt;Add pgsql/contrib/pg_upgrade/TODO file to CVS.&lt;/li&gt;
&lt;li&gt;Add pgsql/contrib/pg_upgrade/IMPLEMENTATION file to CVS.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/info.c, small formatting adjustment.&lt;/li&gt;
&lt;li&gt;Add PGFILEDESC description to Makefiles for all /contrib executables. Add PGAPPICON to all executable makefiles.&lt;/li&gt;
&lt;li&gt;Move pg_upgrade TODO to TODO wiki.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/Makefile, remove Makefile PGFILEDESC tag that the postmaster is an executable.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/Makefile, update comment about why postmaster doesn't get an icon.&lt;/li&gt;
&lt;li&gt;Move pg_upgrade shared library out into its own /contrib directory (pg_upgrade_support).&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, update release notes to current.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, fix HISTORY.html build using , not &amp;lt;/&amp;gt;.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/pgupgrade.sgml, comment out EnterpriseDB Advanced Server mention in SGML docs.&lt;/li&gt;
&lt;li&gt;Remove all mentions of EnterpriseDB Advanced Server from pg_upgrade; EDB must maintain their own patch set for this.&lt;/li&gt;
&lt;li&gt;Use NAMEDATALEN instead of local define. Modify path separators for Win32. Per ideas from Takahiro Itagaki.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/file.c, change bsdi define to __bsdi__.&lt;/li&gt;
&lt;li&gt;Use __bsdi__ consistently.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/file.c, adjust pg_upgrade BSD defines for scandir(), per report from Giles Lean.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Peter Eisentraut a commité&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Update config.guess and config.sub.&lt;/li&gt;
&lt;li&gt;Translation update&lt;/li&gt;
&lt;li&gt;Fix vpath installation from distribution tarball (bug #5447)&lt;/li&gt;
&lt;li&gt;In pgsql/src/nls-global.mk, avoid error from mkdir if no languages are to be installed mkinstalldirs used to handle no arguments, but mkdir doesn't. Also remove the .SILENT setting, that was previously removed from Makefile.global as well.&lt;/li&gt;
&lt;li&gt;Translation update&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Simon Riggs a commité&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/tcop/postgres.c, give most recovery conflict errors a retryable error code. From recent requests and discussions with Yeb Havinga and Kevin Grittner.&lt;/li&gt;
&lt;li&gt;Cleanup initialization of Hot Standby. Clarify working with reanalysis of requirements and documentation on LogStandbySnapshot(). Fixes two minor bugs reported by Tom Lane that would lead to an incorrect snapshot after transaction wraparound. Also fix two other problems discovered that would give incorrect snapshots in certain cases. ProcArrayApplyRecoveryInfo() substantially rewritten. Some minor refactoring of xact_redo_apply() and ExpireTreeKnownAssignedTransactionIds().&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xact.c, ensure that top level aborts call XLogSetAsyncCommit(). Not doing so simply leads to data waiting in wal_buffers which then causes later commits to potentially do emergency writes and for all forms of replication to be potentially delayed without need or benefit. Issue pointed out exactly by Fujii Masao, following bug report by Robert Haas on a separate though related topic.&lt;/li&gt;
&lt;li&gt;Add many new Asserts in code and fix simple bug that slipped through without them, related to previous commit. Report by Bruce Momjian.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlog.c, fix bug in processing of checkpoint time for max_standby_delay. Latest log time was incorrectly set, typically leading to dates in the past, which would cause more cancellations in Hot Standby on a quiet server.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Andrew Dunstan a commité&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/tools/msvc/Mkvcbuild.pm, add missing library and include support for pg_upgrade to MSVC build system.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Magnus Hagander a commité&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fix some spelling errors. Thom Brown.&lt;/li&gt;
&lt;li&gt;In pgsql/src/tools/msvc/Mkvcbuild.pm, properly support multi-line entires (such as OBJS=) when building PROGRAM, not just MODULE, in contrib.&lt;/li&gt;
&lt;li&gt;Assorted fixes to make pg_upgrade build on MSVC. 1. There is no chmod() on Windows. 2. Must always use the 3-parameter version of open(). 3. There is no dynloader.h - but it also appears unnecessary on all platforms. 4. Don't include shlobj.h because it causes compile errors, and from what I can see it's not actually used. This may need to be added back for mingw and/or cygwin in the worst case.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Marc Fournier a commité&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tag 8.4.4, 8.3.11, 8.2.17, 8.1.21, 8.0.25, 7.4.29.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Heikki Linnakangas a commité&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/contrib/pg_standby/pg_standby.c, fix typos in comments, spotted by Josh Kupershmidt.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs rejetés (à ce jour)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Greg Sabino Mullane's patch to change pg_dump not to use CREATE OR REPLACE LANGUAGE when talking to pre-9.0 databases. There never was a guarantee that the output of pg_dump would be backward-compatible.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs en attente&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ITAGAKI Takahiro sent in a patch to change the search_path check for function bodies to the current search_path, where they had been using the one at create time.&lt;/li&gt;
&lt;li&gt;Mike Fowler sent in a patch to add a function xpath_exists() for 9.1.&lt;/li&gt;
&lt;li&gt;Alexander Korotkov sent in two revisions of a patch to make the levenshtein distance function in contrib/fuzzystrmatch work with multibyte character sets in 9.1.&lt;/li&gt;
&lt;li&gt;Simon Riggs sent in a patch to change the startup code for Hot Standby.&lt;/li&gt;
&lt;li&gt;Stephen Frost sent in a patch to add a handler for SIGCHLD to psql. This is for 9.1.&lt;/li&gt;
&lt;li&gt;Simon Riggs sent in a patch to add a keepalive message to ensure max_standby_delay is useful. Heikki Linnakangas responded with one which rearranges the walsender loops slightly so that XLogSend() now only sends up to MAX_SEND_SIZE bytes (== XLOG_SEG_SIZE / 2) in one round and returns to the main loop after that even if there's unsent WAL, and the main loop no longer sleeps if there's unsent WAL. Simon Riggs sent in another with wait processing cleanup.&lt;/li&gt;
&lt;li&gt;Joachim Wieland sent in a patch to fix some locking behavior for 9.1 in the case of SERIALIZABLE transactions.&lt;/li&gt;
&lt;li&gt;Robert Haas sent in a patch to implement a fix for smart shutdown in recovery.&lt;/li&gt;
&lt;/ul&gt;</description>
	<pubDate>sam, 29 mai 2010 15:04:51 +0000</pubDate>
</item>
<item>
	<title>Actualités PostgreSQL.fr: Nouvelles hebdomadaires de PostgreSQL - 23 mai 2010</title>
	<guid>urn:md5:b390d1cdbc318844c05a6665a026ffe9</guid>
	<link>http://blog.postgresql.fr/index.php?post/2010/05/29/Nouvelles-hebdomadaires-de-PostgreSQL-23-mai-2010</link>
	<description>&lt;p&gt;&lt;strong&gt;Nouvelles hebdomadaires de PostgreSQL - 23 mai 2010&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;CHAR(10), la conf&amp;eacute;rence PostgreSQL d&amp;eacute;di&amp;eacute;e au clustering, &amp;agrave; la haute-disponibilit&amp;eacute; et &amp;agrave; la r&amp;eacute;plication vient d'ouvrir les inscriptions en ligne et les r&amp;eacute;servations. 2 &amp;amp; 3 juillet 2010, Oriel College, Universit&amp;eacute; d'Oxford (Royaume-Uni)&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.char10.org/&quot;&gt;http://www.char10.org/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Les nouveaut&amp;eacute;s des produits d&amp;eacute;riv&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cybercluster 2.0&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.cybertec.at/en/cybercluster-2-0-synchronous-postgresql-replication&quot;&gt;http://www.cybertec.at/en/cybercluster-2-0-synchronous-postgresql-replication&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Muldi-D 0.129.1, une sp&amp;eacute;cification de langage objet-relationnel destin&amp;eacute;, entre autres syst&amp;egrave;mes, &amp;agrave; PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://archives.postgresql.org/pgsql-announce/2010-05/msg00020.php&quot;&gt;http://archives.postgresql.org/pgsql-announce/2010-05/msg00020.php&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;MyJSQLView 3.17, un utilitaire graphique utilisable avec PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://dandymadeproductions.com/projects/MyJSQLView/index.html&quot;&gt;http://dandymadeproductions.com/projects/MyJSQLView/index.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;PostgreDAC 2.5.5, un &quot;builder&quot; Delphi/C++ pour PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://microolap.com/products/connectivity/postgresdac/download/&quot;&gt;http://microolap.com/products/connectivity/postgresdac/download/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;psycopg2 2.2.1, un connecteur Python pour PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://initd.org/psycopg/&quot;&gt;http://initd.org/psycopg/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Devrim GUNDUZ a publi&amp;eacute; les RPMs pour les mises &amp;agrave; jour de s&amp;eacute;curit&amp;eacute; 8.4.4, 8.3.11, 8.2.17, 8.1.21, 8.0.25 et 7.4.29&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://yum.pgrpms.org&quot;&gt;http://yum.pgrpms.org&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;2ndQuadrant vient d'ouvrir une succursale fran&amp;ccedil;aise&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.2ndQuadrant.fr/&quot;&gt;http://www.2ndQuadrant.fr/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Les mises &amp;agrave; jour de s&amp;eacute;curit&amp;eacute; 8.4.4, 8.3.11, 8.2.17, 8.1.21, 8.0.25 et 7.4.29 sont disponibles. Mettez &amp;agrave; jour d&amp;egrave;s que possible&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/docs/current/static/release.html&quot;&gt;http://www.postgresql.org/docs/current/static/release.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Les sommes de contr&amp;ocirc;le des fichiers Tar sont disponibles &amp;agrave; cette adresse&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.gtsm.com/postgres_sigs.html&quot;&gt;http://www.gtsm.com/postgres_sigs.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Postgres-XC 0.9.1&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://postgres-xc.sourceforge.net/&quot;&gt;http://postgres-xc.sourceforge.net/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;La fonctionnalit&amp;eacute; 9.0 de la semaine&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Les Large Objects (LO ou BLOB) b&amp;eacute;n&amp;eacute;ficient maintenant de contr&amp;ocirc;les d'acc&amp;egrave;s comme les autres objets en base de donn&amp;eacute;e.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Offres d'emplois autour de PostgreSQL en mai&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Internationales&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://archives.postgresql.org/pgsql-jobs/2010-05/threads.php&quot;&gt;http://archives.postgresql.org/pgsql-jobs/2010-05/threads.php&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;Francophones&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://forums.postgresql.fr/viewforum.php?id=4&quot;&gt;http://forums.postgresql.fr/viewforum.php?id=4&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL Local&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Les inscriptions sont ouvertes pour l'Open Source Bridge et les conf&amp;eacute;rences sont annonc&amp;eacute;es&amp;nbsp;! L'&amp;eacute;v&amp;eacute;nement aura lieu du 1er au 4 juin 2010 &amp;agrave; Portland (Oregon)&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://opensourcebridge.org/events/2010/proposals/&quot;&gt;http://opensourcebridge.org/events/2010/proposals/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Michael Renner tiendra une conf&amp;eacute;rence au AMOOCON qui aura lieu du 4 au 6 juin 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.amoocon.de/speakers/214&quot;&gt;http://www.amoocon.de/speakers/214&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;La &quot;Southeast Linuxfest 2010&quot; aura lieu &amp;agrave; Spartanburg (Caroline du Sud, &amp;Eacute;tats-Unis) du 11 au 13 juin. Nos PG-gourous Joshua Drake et Andrew Dunstan donneront des pr&amp;eacute;sentations &amp;agrave; ne pas manquer&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://southeastlinuxfest.org/&quot;&gt;http://southeastlinuxfest.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Conf&amp;eacute;rence de Michael Renner au Netways OSDC &amp;agrave; Nuremberg (All.) les 23 &amp;amp; 24 juin 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.netways.de/osdc/y2010/programm/&quot;&gt;http://www.netways.de/osdc/y2010/programm/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Le PDXPUG Day est programm&amp;eacute; pour le 18 juillet 2010 &amp;agrave; &quot;l'Oregon Convention Center&quot; &amp;agrave; Portland. D'avantage d'informations&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://wiki.postgresql.org/wiki/PDXPUGDay2010&quot;&gt;http://wiki.postgresql.org/wiki/PDXPUGDay2010&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;L'OSCON aura lieu &amp;agrave; Portland (Oregon) du 19 au 23 juillet 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.oscon.com/oscon2010&quot;&gt;http://www.oscon.com/oscon2010&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL dans les m&amp;eacute;dia&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Planet PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planet.postgresql.org/&quot;&gt;http://planet.postgresql.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Planet PostgreSQLFr&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planete.postgresql.fr/&quot;&gt;http://planete.postgresql.fr/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;i&gt;PostgreSQL Weekly News / les nouvelles hebdomadaires vous sont offertes cette semaine par David Fetter et Devrim Gunduz. Traduction par l'&amp;eacute;quipe PostgreSQLFr sous licence CC BY-NC-SA.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;&lt;i&gt;Proposez vos articles ou annonces avant dimanche 15:00 (heure du Pacifique). Merci de les envoyer en anglais &amp;agrave; david (a) fetter.org, en allemand &amp;agrave; pwn (a) pgug.de, en italien &amp;agrave; pwn (a) itpug.org et en espagnol &amp;agrave; pwn (a) arpug.com.ar.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;(&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/community/weeklynews/pwn20100523&quot;&gt;lien vers l'article original&lt;/a&gt;)&lt;/p&gt;    &lt;p&gt;&lt;strong&gt;Correctifs appliqu&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Andrew Dunstan a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Abandon the use of Perl's Safe.pm to enforce restrictions in plperl, as it is fundamentally insecure. Instead apply an opmask to the whole interpreter that imposes restrictions on unsafe operations. These restrictions are much harder to subvert than is Safe.pm, since there is no container to be broken out of. Backported to release 7.4. In releases 7.4, 8.0 and 8.1 this also includes the necessary backporting of the two interpreters model for plperl and plperlu adopted in release 8.2. In versions 8.0 and up, the use of Perl's POSIX module to undo its locale mangling on Windows has become insecure with these changes, so it is replaced by our own routine, which is also faster. Nice side effects of the changes include that it is now possible to use perl's &quot;strict&quot; pragma in a natural way in plperl, and that perl's $a and $b variables now work as expected in sort routines, and that function compilation is significantly faster. Tim Bunce and Andrew Dunstan, with reviews from Alex Hunsaker and Alexey Klyukin. Security: CVE-2010-1169&lt;/li&gt;
&lt;li&gt;In pgsql/src/tools/msvc/Mkvcbuild.pm, fix MSVC builds for recent plperl changes. Go back to version 8.2, which is where we started supporting MSVC builds. Security: CVE-2010-1169.&lt;/li&gt;
&lt;li&gt;In pgsql/src/pl/plperl/plperl.c, follow up a visit from the style police.&lt;/li&gt;
&lt;li&gt;In pgsql/src/pl/plperl/expected/plperl_init.out, fix regression tests to match error message change.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tom Lane a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Prevent PL/Tcl from loading the &quot;unknown&quot; module from pltcl_modules unless that is a regular table or view owned by a superuser. This prevents a trojan horse attack whereby any unprivileged SQL user could create such a table and insert code into it that would then get executed in other users' sessions whenever they call pltcl functions. Worse yet, because the code was automatically loaded into both the &quot;normal&quot; and &quot;safe&quot; interpreters at first use, the attacker could execute unrestricted Tcl code in the &quot;normal&quot; interpreter without there being any pltclu functions anywhere, or indeed anyone else using pltcl at all: installing pltcl is sufficient to open the hole. Change the initialization logic so that the &quot;unknown&quot; code is only loaded into an interpreter when the interpreter is first really used. (That doesn't add any additional security in this particular context, but it seems a prudent change, and anyway the former behavior violated the principle of least astonishment.) Security: CVE-2010-1170&lt;/li&gt;
&lt;li&gt;Update release notes with security issues. Security: CVE-2010-1169, CVE-2010-1170&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/config.sgml, fix index entry for lo_compat_privileges, per bug #5467 from KOIZUMI Satoru.&lt;/li&gt;
&lt;li&gt;Fix oversight in join removal patch: we have to delete the removed relation from SpecialJoinInfo relid sets as well. Per example from Vaclav Novotny.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/check.c, issue_warnings() has no business freeing its parameter, especially not when its sole caller does that too. Jan Matousek, via Pavel Stehule&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Alvaro Herrera a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ref/show.sgml, make table in example less wide.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Robert Haas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ref/notify.sgml, move pg_notify() details to a subsection within the NOTIFY reference page. This allows the index to reference the pg_notify() subsection specifically, rather than Notes section of the NOTIFY reference page more generally. Fujii Masao&lt;/li&gt;
&lt;li&gt;In pgsql/src/bin/psql/command.c, unbreak \h; can't do strlen(NULL). This was broken by the following commmit. Although the original commit was backpatched all the way to 7.4, this particular bug exists only in the version applied to HEAD. 
&lt;a target=&quot;_blank&quot; href=&quot;http://archives.postgresql.org/pgsql-committers/2010-05/msg00058.php&quot;&gt;http://archives.postgresql.org/pgsql-committers/2010-05/msg00058.php&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Bruce Momjian a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/TESTING, add pg_upgrade TESTING files explaining a testing method.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/pg_upgrade.c, use a 'datallowconn' check for avoiding 'template0', rather than hardcoding a 'template0' check, per suggestion from Alvaro. This might fix a problem where someone has allowed 'template0' connections, but it is a cleaner approach even if doesn't fix the bug.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/pg_upgrade.c, for pg_upgrade, update template0's datfrozenxid and its relfrozenxids to match the behavior of autovacuum, which does this as the xid advances even if autovacuum is turned off.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pg_upgrade/info.c, simplify pg_upgrade queries by using IN instead of multiple OR clauses comparing the same column to multiple values.&lt;/li&gt;
&lt;li&gt;Add command-line documentation for pg_upgrade.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/oid2name.sgml, restore oid2name doc change.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/pgupgrade.sgml, pg_upgrade doc cleanup. Stefan Kaltenbrunner&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/pgupgrade.sgml, doc change: Rename of directory no longer required for pg_migrator 9.0. Alvaro Herrera&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/pgupgrade.sgml, SGML markup cleanup for pg_upgrade.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/oid2name.sgml, show oid2name command-line arguments in documentation like we do for non-contrib command-line tools (no longer in a single table display).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Magnus Hagander a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/pgupgrade.sgml, make pg_upgrade documentation refer to 9.0 instead of 8.4. Fujii Masao.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/config.sgml, refer to pg_ident.conf as config file for username mapping, as it's now used for other things than just ident authentication. Noted by Stephen Frost&lt;/li&gt;
&lt;li&gt;In pgsql/src/timezone/pgtz.c, change the &quot;N. Central Asia Standard Time&quot; timezone to map to Asia/Novosibirsk on Windows. Microsoft changed the behaviour of this zone in the timezone update from KB976098. The zones differ in handling of DST, and the old zone was just removed. Noted by Dmitry Funk.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Michael Meskes a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ecpg now accepts &quot;long long&quot; datatypes even if &quot;long&quot; is 64bit wide. This used to cover the equally long &quot;long long&quot; type. This patch closes bug #5464.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs rejet&amp;eacute;s (&amp;agrave; ce jour)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pas de d&amp;eacute;ception cette semaine&amp;nbsp;:-)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs en attente&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Stephen Frost sent in two more revisions of a patch to fix psql's ability to clean up when quitting the pager, which resulted in queries continuing to run after the pager exited.&lt;/li&gt;
&lt;li&gt;Fujii Masao sent in two revisions of a patch to fix smart shutdown for Hot Standby.&lt;/li&gt;
&lt;li&gt;Fujii Masao sent in a patch to distinguish normal shutdown from unexpected exit, while the server is in recovery.&lt;/li&gt;
&lt;li&gt;Tom Lane sent in a patch to fix a performance issue with textanycat/anytextcat.&lt;/li&gt;
&lt;li&gt;Alvaro Herrera sent in a patch to fix an issue with fillfactor on TOAST tables.&lt;/li&gt;
&lt;li&gt;Florian Pflug sent in two revisions of a patch to fix SERIALIZABLE transactions.&lt;/li&gt;
&lt;li&gt;Kevin Grittner sent in a WIP patch for 9.1 to do true SERIALIZABLE using predicate locking.&lt;/li&gt;
&lt;li&gt;Joel Jacobson sent in another revision of the patch to implement pg_stat_transaction.&lt;/li&gt;
&lt;li&gt;Robert Haas sent in a patch to add a hook called ExecutorCheckPerms(), per discussion.&lt;/li&gt;
&lt;li&gt;Andres Freund sent in a patch which replaces the current CRC32 with a more efficient version from zlib.&lt;/li&gt;
&lt;li&gt;Jeff Davis sent in a patch to change a sanity check in exclusion constraints.&lt;/li&gt;
&lt;li&gt;Jeff Davis sent in a patch for 9.1 to add btree_gist support for the &quot;&amp;gt;&amp;lt;&quot; operator.&lt;/li&gt;
&lt;/ul&gt;</description>
	<pubDate>sam, 29 mai 2010 15:04:26 +0000</pubDate>
</item>
<item>
	<title>Guillaume Lelarge: Peu de temps, donc quelques news rapides</title>
	<guid>urn:md5:9ecfea07dd6ab4b7423d2a0f12f80b10</guid>
	<link>http://blog.guillaume.lelarge.info/index.php/post/2010/05/25/Peu-de-temps%2C-donc-quelques-news-rapides</link>
	<description>&lt;p&gt;Les nouveautés se succèdent rapidement ces temps-ci et le temps manque encore plus que d'habitude pour parler de tout de façon détaillé.&lt;/p&gt;


&lt;p&gt;Vous avez tous dû entendre parler du &lt;a href=&quot;http://www.pgcon.org&quot; hreflang=&quot;en&quot;&gt;pgcon&lt;/a&gt; qui a eu la semaine dernière à Ottawa. Il y a eu beaucoup de &lt;a href=&quot;http://planet.postgresql.org/&quot; hreflang=&quot;en&quot;&gt;billets de blogs&lt;/a&gt; sur le déroulement des festivités. L'un des points les plus intéressants actuellement est ce qui est sorti du Developer Meeting. Le &lt;a href=&quot;http://wiki.postgresql.org/wiki/PgCon_2010_Developer_Meeting&quot; hreflang=&quot;en&quot;&gt;rapport&lt;/a&gt; donne beaucoup d'informations sur les prochains développements, que ce soit pour la 9.0 (qui, on l'a appris, devrait bien sortir cet été) et pour la 9.1. Si tout est développé pour cette version, elle promet d'être aussi intéressante que la version 9.1. Je ne peux guère parler des conférences, n'y étant pas. Les quelques échos que j'ai eu étaient très positifs. J'espère pouvoir regarder quelques vidéos sous peu.&lt;/p&gt;


&lt;p&gt;Le fait que la 9.0 devrait bientôt sortir est une excellente nouvelle. J'avais un peu peur qu'elle soit repoussée à la rentrée. Le problème que cela pose, c'est pour la traduction de la documentation. En apprenant cela vendredi dernier, j'ai créé la branche 8.4 pour pouvoir commencer le travail. Le merge est pratiquement terminé sur mon portable, après une quinzaine d'heures de travail (oui, c'est long et chiant). Reste encore quatre fichiers, évidemment les plus gros. Je pense nénamoins que ce sera terminé en fin de semaine. Restera la traduction, mais c'est moins effrayant que la période de merge. À noter que Marc travaille sur le passage du dépôt à git, ce serait un très gros plus.&lt;/p&gt;


&lt;p&gt;Que dire de plus. J'ai appris ce matin que j'étais élu au &lt;a href=&quot;http://www.postgresql.eu/about/board/&quot; hreflang=&quot;en&quot;&gt;comité directeur de PostgreSQL Europe&lt;/a&gt;, ce qui est très plaisant. Mon poste sera celui de vice-trésorier, bien que cela ne semble pas très fixé.&lt;/p&gt;


&lt;p&gt;Enfin, j'ai un nouveau portable. Le passage de l'ancien au nouveau prend pas mal de temps mais devrait être bien plus agréable (ne serait-ce que la définition de l'écran, 1440x900, c'est autre chose que l'ancien 1280x800). Bref, j'en parlerais plus une autre fois mais je vais retourner au merge.&lt;/p&gt;</description>
	<pubDate>mar, 25 mai 2010 17:07:00 +0000</pubDate>
</item>
<item>
	<title>Stephane Bortzmeyer: Indexation sur une sous-chaîne de caractères dans PostgreSQL</title>
	<guid>tag:bortzmeyer.org,2006-02:Blog/indexation-sous-chaine</guid>
	<link>http://www.bortzmeyer.org/indexation-sous-chaine.html</link>
	<description>Tous les SGBD disposent de mécanismes
d'indexation pour accélerer l'accès aux données
(commande SQL &quot;CREATE INDEX (http://www.postgresql.org/docs/current/interactive/indexes-intro.html)&quot;
pour créer un tel index). Si on connait la chaîne de
caractères exacte, on la trouve dans
l'index et on a tout de suite ses données. Mais si on ne connait qu'une partie de la
chaîne ?</description>
	<pubDate>jeu, 20 mai 2010 00:00:00 +0000</pubDate>
</item>
<item>
	<title>Guillaume Lelarge: Traduction d'un peu de tout</title>
	<guid>urn:md5:f1b8d71da1c473c64500361d8cb77beb</guid>
	<link>http://blog.guillaume.lelarge.info/index.php/post/2010/05/17/Traduction-d-un-peu-de-tout</link>
	<description>&lt;p&gt;Le week-end dernier, j'ai travaillé sur les traductions des prochaines mises à jour. Du coup, le &lt;a href=&quot;http://docs.postgresql.fr&quot; hreflang=&quot;fr&quot;&gt;site français de la documentation sur PostgreSQL&lt;/a&gt; dispose déjà des manuels des version &lt;a href=&quot;http://docs.postgresql.fr/8.4&quot; hreflang=&quot;fr&quot;&gt;8.4.4&lt;/a&gt;, &lt;a href=&quot;http://docs.postgresql.fr/8.3&quot; hreflang=&quot;fr&quot;&gt;8.3.11&lt;/a&gt;, etc. J'en ai profité aussi pour mettre à jour les &lt;a href=&quot;http://www.slony.fr/&quot; hreflang=&quot;fr&quot;&gt;manuels de Slony&lt;/a&gt;, branche 1.2 et 2.0. Par contre, je ne sais pas quand Damien aura le temps de les mettre sur le site, surtout que ce dernier commence à dater un peu.&lt;/p&gt;


&lt;p&gt;Dernière nouveauté de traduction, l'installeur d'&lt;a href=&quot;http://www.enterprisedb.com/&quot; hreflang=&quot;en&quot;&gt;EnterpriseDB&lt;/a&gt; est disponible en français. J'avais fait la traduction il y a un bon moment, mais les petits gars de &lt;a href=&quot;http://pgsnake.blogspot.com/&quot; hreflang=&quot;en&quot;&gt;Dave Page&lt;/a&gt; ont mis beaucoup de temps pour l'intégrer... jusqu'à ce que je m'aperçoive en version 9.0 beta 1 que je m'étais trompé dans l'encodage. C'est enfin corrigé et l'installeur de la 8.4.4 dispose donc de la traduction. Allez, hop, deux copies d'écran pour la peine :&lt;/p&gt;


&lt;p&gt;&lt;em&gt;Lancement de l'installeur&lt;/em&gt;&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;http://blog.guillaume.lelarge.info/public/installeurpg/2010-05-17--22-55-30.jpg&quot; title=&quot;2010-05-17--22-55-30.jpg&quot;&gt;&lt;img src=&quot;http://blog.guillaume.lelarge.info/public/installeurpg/.2010-05-17--22-55-30_m.jpg&quot; alt=&quot;2010-05-17--22-55-30.jpg&quot; title=&quot;2010-05-17--22-55-30.jpg, mai 2010&quot; /&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;&lt;em&gt;Installation en cours&lt;/em&gt;&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;http://blog.guillaume.lelarge.info/public/installeurpg/2010-05-17--23-24-05.jpg&quot; title=&quot;2010-05-17--23-24-05.jpg&quot;&gt;&lt;img src=&quot;http://blog.guillaume.lelarge.info/public/installeurpg/.2010-05-17--23-24-05_m.jpg&quot; alt=&quot;2010-05-17--23-24-05.jpg&quot; title=&quot;2010-05-17--23-24-05.jpg, mai 2010&quot; /&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Sympa, non ? moi, j'aime bien.&lt;/p&gt;


&lt;p&gt;Que dire de plus... la beta 2 n'est toujours pas sortie, et ne risque pas de sortir avant au moins une semaine pour cause de PGCon, ce qui m'agace bien (qu'elle ne soit pas déjà sortie et que je ne sois pas au PGCon... sigh...). Ça sent un bon retard pour la traduction du manuel de la version 9.&lt;/p&gt;


&lt;p&gt;Le bon côté, c'est que ça me permet de travailler sur des outils comme &lt;a href=&quot;http://pgpool.projects.postgresql.org/&quot; hreflang=&quot;en&quot;&gt;pgpool&lt;/a&gt;, &lt;a href=&quot;https://developer.skype.com/SkypeGarage/DbProjects/PgBouncer&quot; hreflang=&quot;en&quot;&gt;pgbouncer&lt;/a&gt;, &lt;a href=&quot;http://slony.info/&quot; hreflang=&quot;en&quot;&gt;slony&lt;/a&gt;. Pour les deux premiers, j'ai proposé un patch pour ajouter les options longues. &lt;a href=&quot;http://lists.pgfoundry.org/pipermail/pgpool-hackers/2010-May/000306.html&quot; hreflang=&quot;en&quot;&gt;Patch accepté&lt;/a&gt; pour pgpool, patch que j'ai donc commité dimanche après-midi. Pas de nouvelles des développeurs de pgbouncer, peut-être en voyage pour &lt;a href=&quot;http://www.pgcon.org/2010/&quot; hreflang=&quot;en&quot;&gt;PGCon&lt;/a&gt; (chanceux...). Au départ, je voulais ajouter la gestion du paramètre application_name, disponible à partir de la 9.0. Je me suis un peu cassé les dents avec les poolers de connexion. Par contre, pour Slony, ça semble bien plus simple. Je pense que je vais proposer un patch assez rapidement pour ce dernier. Il serait aussi intéressant que les pilotes le prennent en compte (je pense notamment au pilote Perl et au pilote PHP). Bref, du boulot sur la planche, ce qui est cool &lt;img src=&quot;http://blog.guillaume.lelarge.info/themes/default/smilies/smile.png&quot; alt=&quot;:)&quot; class=&quot;smiley&quot; /&gt;&lt;/p&gt;</description>
	<pubDate>lun, 17 mai 2010 21:35:00 +0000</pubDate>
</item>
<item>
	<title>Guillaume Lelarge: pgsnap, version 0.6</title>
	<guid>urn:md5:cb253faf9307357aa3e9af97c6cbacf8</guid>
	<link>http://blog.guillaume.lelarge.info/index.php/post/2010/05/13/pgsnap%2C-version-0.6</link>
	<description>&lt;p&gt;Ne voulant pas réitérer la bévue pour la version 8.4 de &lt;a href=&quot;http://www.postgresql.org&quot; hreflang=&quot;en&quot;&gt;PostgreSQL&lt;/a&gt;, je me suis attelé assez rapidement à mettre à jour &lt;a href=&quot;http://pgsnap.projects.postgresql.org/&quot; hreflang=&quot;en&quot;&gt;pgsnap&lt;/a&gt; pour PostgreSQL 9.0.&lt;/p&gt;


&lt;p&gt;Ce n'est évidemment pas la seule nouveauté de cette version :&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Support complet de la 9.0
&lt;ul&gt;
&lt;li&gt;connexion utilisant le paramètre application_name&lt;/li&gt;
&lt;li&gt;nouveau rapport sur les ACL par défaut&lt;/li&gt;
&lt;li&gt;nouveau rapport sur la configuration par paire base/utilisateur;&lt;/li&gt;
&lt;li&gt;support des tables typées, des contraintes d'exclusion, de la configuration des tablespaces, des informations sur le Hot Standby et le Streaming Replication&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Meilleur support de la 8.4
&lt;ul&gt;
&lt;li&gt;gestion de la colonne relistemp de pg_class&lt;/li&gt;
&lt;li&gt;gestion des nouvelles colonnes de pg_settings&lt;/li&gt;
&lt;li&gt;ajout de l'heure de lancement de PostgreSQL et du dernier chargement de la configuration&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Meilleur support des autres versions
&lt;ul&gt;
&lt;li&gt;nouveau rapport sur les séquences&lt;/li&gt;
&lt;li&gt;nouveau rapport sur les Large Objects&lt;/li&gt;
&lt;li&gt;détection des modules contrib&lt;/li&gt;
&lt;li&gt;ajout des commentaires sur les objets.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Pour télécharger, c'est &lt;a href=&quot;http://pgfoundry.org/frs/download.php/2686/pgsnap-0.6.0.tar.gz&quot; hreflang=&quot;en&quot;&gt;ici&lt;/a&gt;. Vous pouvez consulter aussi cet &lt;a href=&quot;http://pgsnap.projects.postgresql.org/fluxbb_snap_20100513&quot; hreflang=&quot;en&quot;&gt;exemple de rapport&lt;/a&gt;.&lt;/p&gt;


&lt;p&gt;J'aurais pu attendre un peu avant de sortir cette version. Cependant, je vais être maintenant bien occupé par la mise à jour de la traduction française du manuel de PostgreSQL (enfin, dès que la beta 2 sort, donc à priori rapidement). Je n'aurais plus trop de temps pour m'occuper de pgsnap en dehors de quelques corrections de bugs. Donc voilà pourquoi cette version sort dès maintenant.&lt;/p&gt;


&lt;p&gt;Et puis, j'ai en tête un changement important pour pgsnap. Peut-être pour la prochaine version.&lt;/p&gt;</description>
	<pubDate>jeu, 13 mai 2010 17:18:00 +0000</pubDate>
</item>
<item>
	<title>Actualités PostgreSQL.fr: Nouvelles hebdomadaires de PostgreSQL - 9 mai 2010</title>
	<guid>urn:md5:32b1c6c8835f21352c25ced4c4ae88d5</guid>
	<link>http://blog.postgresql.fr/index.php?post/2010/05/12/Nouvelles-hebdomadaires-de-PostgreSQL-9-mai-2010</link>
	<description>&lt;p&gt;PostgreSQL 9.0 beta 1 a &amp;eacute;t&amp;eacute; publi&amp;eacute;e. &amp;Agrave; vos tests&amp;nbsp;! 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/developer/beta&quot;&gt;http://www.postgresql.org/developer/beta&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Le &quot;Prague PostgreSQL Test Day&quot; aura lieu le 21 mai 2010 &amp;agrave; Prague, R&amp;eacute;publique Tch&amp;egrave;que&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.nic.cz/page/747/test-the-new-beta-version-of-postgresql-in-the-cz.nic-laboratories/&quot;&gt;http://www.nic.cz/page/747/test-the-new-beta-version-of-postgresql-in-the-cz.nic-laboratories/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Le nouveau bureau de l'association PostgreSQLFr a &amp;eacute;t&amp;eacute; &amp;eacute;lu avec, &amp;agrave; sa t&amp;ecirc;te, le pr&amp;eacute;sident Jean-Christophe Arnu, le vice-pr&amp;eacute;sident C&amp;eacute;dric Villeman, le tr&amp;eacute;sorier St&amp;eacute;phane Schildknecht et le secr&amp;eacute;taire Patrick Francelle. D'avantage de d&amp;eacute;tails sur&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.fr/asso:elections&quot;&gt;http://www.postgresql.fr/asso:elections&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Les nouveaut&amp;eacute;s des produits d&amp;eacute;riv&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;pgfincore, 0.41, un ensemble de fonctions de gestion bas-niveau des relations, utilisant mincore pour explorer la m&amp;eacute;moire cache&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://pgfoundry.org/projects/pgfincore/&quot;&gt;http://pgfoundry.org/projects/pgfincore/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;James W. Pye a publi&amp;eacute; une nouvelle version de PL/Python3&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://python.projects.postgresql.org/backend/&quot;&gt;http://python.projects.postgresql.org/backend/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;RHQ 3.0.0.B05, un gestionnaire syst&amp;egrave;me et outil de surveillance utilisant PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://rhq-project.org/&quot;&gt;http://rhq-project.org/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;La fonctionnalit&amp;eacute; 9.0 de la semaine&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Vous pouvez cr&amp;eacute;er des d&amp;eacute;clencheurs propres &amp;agrave; une colonne, c'est-&amp;agrave;-dire des d&amp;eacute;clencheurs qui ne se mettent en branle qu'&amp;agrave; la modification de certaines colonnes. La syntaxe, comme d&amp;eacute;crite dans SQL:2008, est CREATE TRIGGER nom_du_trigger (BEFORE|AFTER) UPDATE OF col1 [,col2...coln] ON nom_de_la_table FOR EACH ROW EXECUTE PROCEDURE fonction_declenchee();&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Offres d'emplois autour de PostgreSQL en Mai&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Internationales&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://archives.postgresql.org/pgsql-jobs/2010-05/threads.php&quot;&gt;http://archives.postgresql.org/pgsql-jobs/2010-05/threads.php&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;Francophones&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://forums.postgresql.fr/viewforum.php?id=4&quot;&gt;http://forums.postgresql.fr/viewforum.php?id=4&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL Local&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;La PgCon 2010 aura lieu les 20 &amp;amp; 21 mai 2010 &amp;agrave; Ottawa avec des tutoriels les 18 et 19&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.pgcon.org/2010/registration.php&quot;&gt;http://www.pgcon.org/2010/registration.php&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Les inscriptions sont ouvertes pour l'Open Source Bridge et les conf&amp;eacute;rences sont annonc&amp;eacute;es&amp;nbsp;! L'&amp;eacute;v&amp;eacute;nement aura lieu du 1er au 4 juin 2010 &amp;agrave; Portland (Oregon)&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://opensourcebridge.org/events/2010/proposals/&quot;&gt;http://opensourcebridge.org/events/2010/proposals/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Michael Renner tiendra une conf&amp;eacute;rence au AMOOCON qui aura lieu du 4 au 6 juin 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.amoocon.de/speakers/214&quot;&gt;http://www.amoocon.de/speakers/214&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;La &quot;Southeast Linuxfest 2010&quot; aura lieu &amp;agrave; Spartanburg (Caroline du Sud, &amp;Eacute;tats-Unis) les 12 &amp;amp; 13 juin. Participations/r&amp;eacute;unions et m&amp;eacute;c&amp;eacute;nats encore proposables&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://southeastlinuxfest.org/&quot;&gt;http://southeastlinuxfest.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;L'OSCON aura lieu &amp;agrave; Portland (Oregon) du 19 au 23 juillet 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.oscon.com/oscon2010&quot;&gt;http://www.oscon.com/oscon2010&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL dans les m&amp;eacute;dia&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Planet PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planet.postgresql.org/&quot;&gt;http://planet.postgresql.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Planet PostgreSQLFr&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planete.postgresql.fr/&quot;&gt;http://planete.postgresql.fr/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;i&gt;PostgreSQL Weekly News / les nouvelles hebdomadaires vous sont offertes cette semaine par David Fetter. Traduction par l'&amp;eacute;quipe PostgreSQLFr sous licence CC BY-NC-SA.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;&lt;i&gt;Proposez vos articles ou annonces avant dimanche 15:00 (heure du Pacifique). Merci de les envoyer en anglais &amp;agrave; david (a) fetter.org, en allemand &amp;agrave; pwn (a) pgug.de, en italien &amp;agrave; pwn (a) itpug.org et en espagnol &amp;agrave; pwn (a) arpug.com.ar.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;(&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/community/weeklynews/pwn20100509&quot;&gt;lien vers l'article original&lt;/a&gt;)&lt;/p&gt;    &lt;p&gt;&lt;strong&gt;Correctifs appliqu&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Heikki Linnakangas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Add cross-reference from wal_level to hot_standby setting. Update the PITR documentation to mention that you need to set wal_level to 'archive' or 'hot_standby', to enable WAL archiving. Per Simon Riggs's request.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/high-availability.sgml, change &quot;literal&quot; tag to the more appropriate &quot;firstterm&quot;, when describing what &quot;eventually consistent&quot; means.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/config.sgml, change wording so that you don't need to understand that wal_levels form a hierarchy. Per Simon Riggs's suggestion.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlog.c, need to hold ControlFileLock while updating control file. Update minRecoveryPoint in control file when replaying a parameter change record, to ensure that we don't allow hot standby on WAL generated without wal_level='hot_standby' after a standby restart.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/intarray.sgml, fix incorrect parameter tag in docs, spotted by KOIZUMI Satoru.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Alvaro Herrera a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/mvcc.sgml, remove spurious dot, per bug #5446 reported by Koizumi Satoru.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tom Lane a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fix backpatching error in recent patch for ALTER USER f RESET ALL behavior. The argument list for array_set() changed in 8.2 (in connection with allowing nulls in arrays) but the newer argument list was used in the patches applied to 8.1 and 8.0 branches. The patch for 7.4 was OK though. Per compiler warnings.&lt;/li&gt;
&lt;li&gt;In pgsql/src/bin/psql/psqlscan.l, fix psql to not go into infinite recursion when expanding a variable that refers to itself (directly or indirectly). Instead, print a message when recursion is detected, and don't expand the repeated reference. Per bug #5448 from Francis Markham. Back-patch to 8.0. Although the issue exists in 7.4 as well, it seems impractical to fix there because of the lack of any state stack that could be used to track active expansions.&lt;/li&gt;
&lt;li&gt;In pgsql/src/makefiles/Makefile.linux, on Linux, use --enable-new-dtags when specifying -rpath to linker. This should allow LD_LIBRARY_PATH to work as desired. Per trouble report from Andy Colson.&lt;/li&gt;
&lt;li&gt;Work around a subtle portability problem in use of printf %s format. Depending on which spec you read, field widths and precisions in %s may be counted either in bytes or characters. Our code was assuming bytes, which is wrong at least for glibc's implementation, and in any case libc might have a different idea of the prevailing encoding than we do. Hence, for portable results we must avoid using anything more complex than just &quot;%s&quot; unless the string to be printed is known to be all-ASCII. This patch fixes the cases I could find, including the psql formatting failure reported by Hernan Gonzalez. In HEAD only, I also added comments to some places where it appears safe to continue using &quot;%.*s&quot;.&lt;/li&gt;
&lt;li&gt;Adjust comments about avoiding use of printf's %.*s. My initial impression that glibc was measuring the precision in characters (which is what the Linux man page says it does) was incorrect. It does take the precision to be in bytes, but it also tries to truncate the string at a character boundary. The bottom line remains the same: it will mess up if the string is not in the encoding it expects, so we need to avoid %.*s anytime there's a significant risk of that. Previous code changes are still good, but adjust the comments to reflect this knowledge. Per research by Hernan Gonzalez.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ecpg.sgml, fix typo: PGTYPES_NUM_OVERFLOW should be PGTYPES_NUM_UNDERFLOW. Noted by KOIZUMI Satoru.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/replication/walsender.c, fix missing static declaration for XLogRead().&lt;/li&gt;
&lt;li&gt;In pgsql/src/bin/psql/print.c, suppress signed-vs-unsigned-char warning.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ITAGAKI Takahiro a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/port/chklocale.c, code page for EUC-KR is surely 51949.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Michael Meskes a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/interfaces/ecpg/ecpglib/connect.c, ECPG connect routine only checked for NULL to find empty parameters, but user and password can also be &quot;&quot;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs rejet&amp;eacute;s (&amp;agrave; ce jour)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pas de d&amp;eacute;ception cette semaine&amp;nbsp;:-)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs en attente&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pavel Stehule sent in a patch to remove the limit on the number of parameters passed to xslt_process() in contrib/xml2. It had been 10.&lt;/li&gt;
&lt;li&gt;Simon Riggs sent in a WIP patch to change max_standby_delay to rely on WAL receipt timestamp instead of log timestamp, per suggestion from Tom Lane.&lt;/li&gt;
&lt;li&gt;Pavel Stehule sent in a patch to add new optional arguments to string_to_array() and array_to_string() which allow for an explicit NULL string rather than to have NULL disappear unconditionally.&lt;/li&gt;
&lt;li&gt;Peter Eisentraut sent in a patch to fix bug 5447, which relates to VPATH builds.&lt;/li&gt;
&lt;li&gt;Simon Riggs sent in a patch intended to fix the issue where Hot Standby/Streaming Replication databases have slower queries on replicas than origin.&lt;/li&gt;
&lt;li&gt;Pavel Stehule sent in a patch to create to_string() and to_array() functions which include NULL handling different from the current &quot;eliminate NULLs&quot; behavior of array_to_string() and string_to_array().&lt;/li&gt;
&lt;li&gt;Andy Lester and Robert Haas traded patches to clarify some CLUSTER behavior.&lt;/li&gt;
&lt;li&gt;Joel Jacobson and ITAGAKI Takahiro traded patches to add some new stat transaction views for 9.1.&lt;/li&gt;
&lt;li&gt;Nikhil Sontakke sent in two revisions of a patch intended to change the behavior of memory with set-returning functions.&lt;/li&gt;
&lt;li&gt;Simon Riggs sent in a patch intended to fix some behavior with Hot Standby.&lt;/li&gt;
&lt;li&gt;Simon Riggs sent in a patch to add a SQLSTATE for Hot Standby.&lt;/li&gt;
&lt;li&gt;Robert Haas sent in a patch to avert doom around temprels.&lt;/li&gt;
&lt;/ul&gt;</description>
	<pubDate>mar, 11 mai 2010 21:05:17 +0000</pubDate>
</item>
<item>
	<title>Actualités PostgreSQL.fr: Nouvelles hebdomadaires de PostgreSQL - 2 mai 2010</title>
	<guid>urn:md5:f21033bcd7bc89aceeddfa16f8b7bd37</guid>
	<link>http://blog.postgresql.fr/index.php?post/2010/05/10/Nouvelles-hebdomadaires-de-PostgreSQL-2-mai-2010</link>
	<description>&lt;p&gt;PostgreSQL 9.0beta1 bient&amp;ocirc;t disponible. Pr&amp;eacute;parez vos banc de tests&amp;nbsp;! 
&lt;a target=&quot;_blank&quot; href=&quot;http://wiki.postgresql.org/wiki/HowToBetaTest&quot;&gt;http://wiki.postgresql.org/wiki/HowToBetaTest&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Les nouveaut&amp;eacute;s des produits d&amp;eacute;riv&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Nouveaux LiveCD bas&amp;eacute;s sur PostgreSQL 8.4 et Fedora 12 / CentOS 5.4&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.pglivecd.org/&quot;&gt;http://www.pglivecd.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;PL/Proxy 2.1.0, un syst&amp;egrave;me de r&amp;eacute;partition de charge en &amp;eacute;criture pour PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://pgfoundry.org/projects/plproxy/&quot;&gt;http://pgfoundry.org/projects/plproxy/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;La fonctionnalit&amp;eacute; 9.0 de la semaine&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Vous pouvez maintenant appeler des fonctions avec des param&amp;egrave;tres nomm&amp;eacute;s, par exemple&amp;nbsp;: foo('value' AS parameter_foo, 'other value' AS parameter_bar)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL Local&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Andreas (ads) Scherbaum enseignera au centre pour adultes de Magdeburg (All.) du 3 au 7 mai 2010 sur le sujet &quot;PostgreSQL for Corporate Use&quot;. D&amp;eacute;tails ci-apr&amp;egrave;s&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://andreas.scherbaum.la/blog/archives/650-PostgreSQL-Schulung-als-Bildungsurlaub-03.-07.05.2010-in-Magdeburg.html&quot;&gt;http://andreas.scherbaum.la/blog/archives/650-PostgreSQL-Schulung-als-Bildungsurlaub-03.-07.05.2010-in-Magdeburg.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;La PgCon 2010 aura lieu les 20 &amp;amp; 21 mai 2010 &amp;agrave; Ottawa avec des tutoriels les 18 et 19&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.pgcon.org/2010/registration.php&quot;&gt;http://www.pgcon.org/2010/registration.php&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Les inscriptions sont ouvertes pour l'Open Source Bridge et les conf&amp;eacute;rences sont annonc&amp;eacute;es&amp;nbsp;! L'&amp;eacute;v&amp;eacute;nement aura lieu du 1er au 4 juin 2010 &amp;agrave; Portland (Oregon)&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://opensourcebridge.org/events/2010/proposals/&quot;&gt;http://opensourcebridge.org/events/2010/proposals/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Michael Renner tiendra une conf&amp;eacute;rence au AMOOCON qui aura lieu du 4 au 6 juin 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.amoocon.de/speakers/214&quot;&gt;http://www.amoocon.de/speakers/214&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;La &quot;Southeast Linuxfest 2010&quot; aura lieu &amp;agrave; Spartanburg (Caroline du Sud, &amp;Eacute;tats-Unis) les 12 &amp;amp; 13 juin. Participations/r&amp;eacute;unions et m&amp;eacute;c&amp;eacute;nats encore proposables&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://southeastlinuxfest.org/&quot;&gt;http://southeastlinuxfest.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;L'OSCON aura lieu &amp;agrave; Portland (Oregon) du 19 au 23 juillet 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.oscon.com/oscon2010&quot;&gt;http://www.oscon.com/oscon2010&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL dans les m&amp;eacute;dia&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Planet PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planet.postgresql.org/&quot;&gt;http://planet.postgresql.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Planet PostgreSQLFr&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planete.postgresql.fr/&quot;&gt;http://planete.postgresql.fr/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;i&gt;PostgreSQL Weekly News / les nouvelles hebdomadaires vous sont offertes cette semaine par David Fetter. Traduction par l'&amp;eacute;quipe PostgreSQLFr sous licence CC BY-NC-SA.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;&lt;i&gt;Proposez vos articles ou annonces avant dimanche 15:00 (heure du Pacifique). Merci de les envoyer en anglais &amp;agrave; david (a) fetter.org, en allemand &amp;agrave; pwn (a) pgug.de, en italien &amp;agrave; pwn (a) itpug.org et en espagnol &amp;agrave; pwn (a) arpug.com.ar.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;(&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/community/weeklynews/pwn20100502&quot;&gt;lien vers l'article original&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Correctifs appliqu&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;    &lt;p&gt;Robert Haas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;When we're restricting who can connect, don't allow new walsenders. Normal superuser processes are allowed to connect even when the database system is shutting down, or when fewer than superuser_reserved_connection slots remain. This is intended to make sure an administrator can log in and troubleshoot, so don't extend these same courtesies to users connecting for replication.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Bruce Momjian a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/utils/adt/pg_locale.c, add comments about why we set LC_CTYPE in WIN32 for time when we don't actually access it, per information from Hiroshi Inoue.&lt;/li&gt;
&lt;li&gt;Reorder pg_stat_activity columns to be more consistent, using layout suggested by Tom Lane. Catalog version bumped due to system view change.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/high-availability.sgml, document that pgpool can be used with master/slave servers to avoid problems with non-deterministic functions.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, update 9.0 release notes to current; add major items and introductory text.&lt;/li&gt;
&lt;li&gt;Move alpha release notes into a separate file; re-align sgml tags.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, doc fix -- last major item should not be a bullet.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, documentation fix: CREATE TRIGGER 'WHERE' -&amp;gt; 'WHEN'. Selena Deckelmann.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tom Lane a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/tsearch/wparser_def.c, add missing newlines in WPARSER_TRACE output.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/monitoring.sgml, update documentation to match pg_stat_activity changes.&lt;/li&gt;
&lt;li&gt;Replace the KnownAssignedXids hash table with a sorted-array data structure, and be more tense about the locking requirements for it, to improve performance in Hot Standby mode. In passing fix a few bugs and improve a number of comments in the existing Hot Standby code. Simon Riggs, with some editorialization by Tom Lane.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/parser/parse_relation.c, fix stupid typo in refnameRangeTblEntry() --- mea maxima culpa. Per report from Josh Berkus.&lt;/li&gt;
&lt;li&gt;Modify the built-in text search parser to handle URLs more nearly according to RFC 3986. In particular, these characters now terminate the path part of a URL: '&quot;', '&amp;lt;', '&amp;gt;', '\', '^', '`', '{', '|', '}'. The previous behavior was inconsistent and depended on whether a &quot;?&quot; was present in the path. Per gripe from Donald Fraser and spec research by Kevin Grittner. This is a pre-existing bug, but not back-patching since the risks of breaking existing applications seem to outweigh the benefits.&lt;/li&gt;
&lt;li&gt;Fix contrib/tsearch2 expected results to match recent changes in URL parsing.&lt;/li&gt;
&lt;li&gt;Modify ShmemInitStruct and ShmemInitHash to throw errors internally, rather than returning NULL for some-but-not-all failures as they used to. Remove now-redundant tests for NULL from call sites. We had to do something about this because many call sites were failing to check for NULL; and changing it like this seems a lot more useful and mistake-proof than adding checks to the call sites without them.&lt;/li&gt;
&lt;li&gt;In pgsql/src/bin/pg_controldata/pg_controldata.c, pg_controldata needs #define FRONTEND, same as pg_resetxlog. Per buildfarm results from dawn_bat.&lt;/li&gt;
&lt;li&gt;Minor editorializing on pg_controldata and pg_resetxlog: adjust some message wording, deal explicitly with some fields that were being silently left zero.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/catalog/information_schema.sql, modify information_schema._pg_keysequal() to avoid search path risk when contrib/intarray is loaded. Per bug #5417 from Kenaniah Cerny. Not forcing initdb since backend doesn't directly depend on this, and few people have run into it.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/perform.sgml, fix typo, per Thom Brown.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/jadetex.cfg, install a workaround for 'TeX capacity exceeded' problem when building PDF output for recent versions of the documentation. There is probably a better answer out there somewhere, but we need something now so we can build beta releases.&lt;/li&gt;
&lt;li&gt;Rename the parameter recovery_connections to hot_standby, to reduce possible confusion with streaming-replication settings. Also, change its default value to &quot;off&quot;, because of concern about executing new and poorly-tested code during ordinary non-replicating operation. Per discussion. In passing do some minor editing of related documentation.&lt;/li&gt;
&lt;li&gt;Adjust error checks in pg_start_backup and pg_stop_backup to make it possible to perform a backup without archive_mode being enabled. This gives up some user-error protection in order to improve usefulness for streaming-replication scenarios. Per discussion.&lt;/li&gt;
&lt;li&gt;Fix a couple of places where the result of fgets() wasn't checked. This is mostly to suppress compiler warnings, although in principle the cases could result in undesirable behavior. Martin Pitt.&lt;/li&gt;
&lt;li&gt;In pgsql/src/pl/plpython/plpython.c, fix multiple memory leaks in PLy_spi_execute_fetch_result: it would leak memory if the result had zero rows, and also if there was any sort of error while converting the result tuples into Python data. Reported and partially fixed by Andres Freund. Back-patch to all supported versions. Note: I haven't tested the 7.4 fix. 7.4's configure check for python is so obsolete it doesn't work on my current machines :-(. The logic change is pretty straightforward though.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ref/copy.sgml, improve COPY documentation to clarify that it doesn't copy data to or from child tables. Per gripe from Jaime Casanova.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/runtime.sgml, update our information about OS X shared memory configuration: it's now possible to set most of the SHM kernel parameters without a reboot. Also, reorder the paragraph to explain the modern configuration method first. There are probably not too many people who still care about how to do it on OS X 10.3 or older.&lt;/li&gt;
&lt;li&gt;In pgsql/src/pl/plpython/plpython.c, fix leakage of proc-related storage in plpython's inline handler. Per report from Andres Freund.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/Makefile, adjust postgres.xml rule so that make will notice a failure exit from osx. The previous coding had it in a pipe, which on most shells won't report the error. Per experimentation with a bug report from Vladimir Kokovic. This doesn't actually fix his problem, but it does explain why make didn't report that there was a problem.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/Makefile, install hack workaround for failure of 'make all' in VPATH builds. It appears that gmake gets confused if postgres.sgml is not present in the working directory, and instantiates some default rule or other that would let postgres.sgml be built from postgres.xml. I haven't been able to track down exactly where that's coming from, but the problem can be dodged by specifying srcdir explicitly in the rule for postgres.xml. Per report from Vladimir Kokovic.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/port/sysv_shmem.c, add code to InternalIpcMemoryCreate() to handle the case where shmget() returns EINVAL for an existing shared memory segment. Although it's not terribly sensible, that behavior does meet the POSIX spec because EINVAL is the appropriate error code when the existing segment is smaller than the requested size, and the spec explicitly disclaims any particular ordering of error checks. Moreover, it does in fact happen on OS X and probably other BSD-derived kernels. (We were able to talk NetBSD into changing their code, but purging that behavior from the wild completely seems unlikely to happen.) We need to distinguish collision with a pre-existing segment from invalid size request in order to behave sensibly, so it's worth some extra code here to get it right. Per report from Gavin Kistner and subsequent investigation. Back-patch to all supported versions, since any of them could get used with a kernel having the debatable behavior.&lt;/li&gt;
&lt;li&gt;Clean up some awkward, inaccurate, and inefficient processing around MaxStandbyDelay. Use the GUC units mechanism for the value, and choose more appropriate timestamp functions for performing tests with it. Make the ps_activity manipulation in ResolveRecoveryConflictWithVirtualXIDs have behavior similar to ps_activity code elsewhere, notably not updating the display when update_process_title is off and not truncating the display contents at an arbitrarily-chosen length. Improve the docs to be explicit about what MaxStandbyDelay actually measures, viz the difference between primary and standby servers' clocks, and the possible hazards if their clocks aren't in sync.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/heap/heapam.c, fix replay of XLOG_HEAP_NEWPAGE WAL records to pay attention to the forknum field of the WAL record. The previous coding always wrote to the main fork, resulting in data corruption if the page was meant to go into a non-default fork. At present, the only operation that can produce such WAL records is ALTER TABLE/INDEX SET TABLESPACE when executed with archive_mode = on. Data corruption would be observed on standby slaves, and could occur on the master as well if a database crash and recovery occurred after committing the ALTER and before the next checkpoint. Per report from Gordon Shannon. Back-patch to 8.4; the problem doesn't exist in earlier branches because we didn't have a concept of multiple relation forks then.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/heap/heapam.c, improve printing of XLOG_HEAP_NEWPAGE records to include the forknum.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Heikki Linnakangas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlog.c, if a base backup is cancelled by server shutdown or crash, throw an error in WAL recovery when it sees the shutdown checkpoint record. It's more user-friendly to find out about it at that point than at the end of recovery, and you're not left wondering why your hot standby server never opens up for read-only connections.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/recovery-config.sgml, add recovery.conf parameters to the documentation index, per suggestion by Fujii Masao.&lt;/li&gt;
&lt;li&gt;Introduce wal_level GUC to explicitly control if information needed for archival or hot standby should be WAL-logged, instead of deducing that from other options like archive_mode. This replaces recovery_connections GUC in the primary, where it now has no effect, but it's still used in the standby to enable/disable hot standby. Remove the WAL-logging of &quot;unlogged operations&quot;, like creating an index without WAL-logging and fsyncing it at the end. Instead, we keep a copy of the wal_mode setting and the settings that affect how much shared memory a hot standby server needs to track master transactions (max_connections, max_prepared_xacts, max_locks_per_xact) in pg_control. Whenever the settings change, at server restart, write a WAL record noting the new settings and update pg_control. This allows us to notice the change in those settings in the standby at the right moment, they used to be included in checkpoint records, but that meant that a changed value was not reflected in the standby until the first checkpoint after the change. Bump PG_CONTROL_VERSION and XLOG_PAGE_MAGIC. Whack XLOG_PAGE_MAGIC back to the sequence it used to follow, before hot standby and subsequent patches changed it to 0x9003.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/nbtree/nbtxlog.c, fix handling of b-tree reuse WAL records when hot standby is disabled, and add missing code in btree_desc for them. This fixes the bug with &quot;tree_redo: unknown op code 208&quot; error reported by Jaime Casanova.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Alvaro Herrera a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/plpgsql.sgml, reformat code examples in plpgsql docs for better readability in PDF output. Erik Rijkers&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/perform.sgml, make pg_stats example query result a bit less wide, and add comment about pg_stats.inherited&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ITAGAKI Takahiro a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/port/chklocale.c, add CP949 as an alias for UHC encoding. pg_get_encoding_from_locale() with kor locale on Windows can use the path. Reported by Hiroshi Inoue.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Magnus Hagander a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/interfaces/libpq/fe-protocol3.c, fix typo that had the code check the same thing twice. Fujii Masao.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Marc Fournier a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tag for 9.0beta1.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Simon Riggs a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/config.sgml, mention that max_standby_delay has units of milliseconds. Units are mentioned for all other parameters where the default is expressed in a different unit.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/regress.sgml, docs for standbycheck regression tests.&lt;/li&gt;
&lt;li&gt;Update standbycheck test output with new ERROR message changes. No changes to tests and no changes in accepted server behaviour.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs rejet&amp;eacute;s (&amp;agrave; ce jour)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pas de d&amp;eacute;ception cette semaine&amp;nbsp;:-)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs en attente&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Marko (johto) Tiikkaja sent in a patch to throw a more informative warning when people use extra parentheses in INSERT statements.&lt;/li&gt;
&lt;li&gt;Simon Riggs sent in another revision of the patch to fix the issue where queries on the Hot Standby slave ran much slower than the same queries on the master.&lt;/li&gt;
&lt;li&gt;Heikki Linnakangas sent in a patch to relax the checks in pg_start/stop_backup() so they can be used as long as wal_level &amp;gt;= 'archive', even when archiving is disabled.&lt;/li&gt;
&lt;li&gt;Simon Riggs sent in a patch intended to improve the performance of btree_xlog_vacuum().&lt;/li&gt;
&lt;li&gt;Zoltan Boszormenyi sent in two revisions of a patch intended for 9.1 which adds synchronous replication atop Hot Standby/Streaming Replication.&lt;/li&gt;
&lt;li&gt;Aftab Hussain sent in a patch to add PKST (Pakstan Summer Time) to the time zone list.&lt;/li&gt;
&lt;li&gt;Robert Haas sent in a patch to implement CINE (Create If Not Exists) for tables.&lt;/li&gt;
&lt;li&gt;Greg Sabino Mullane sent in a patch to show the schema along with the table involved in a COPY error.&lt;/li&gt;
&lt;/ul&gt;</description>
	<pubDate>lun, 10 mai 2010 19:28:20 +0000</pubDate>
</item>
<item>
	<title>Guillaume Lelarge: Maintenant que l'annonce est faite...</title>
	<guid>urn:md5:059237bed389a6402c762e0464362366</guid>
	<link>http://blog.guillaume.lelarge.info/index.php/post/2010/05/06/Maintenant-que-l-annonce-est-faite...</link>
	<description>&lt;p&gt;Enfin, pour &lt;a href=&quot;http://www.postgresql,org&quot; hreflang=&quot;en&quot;&gt;PostgreSQL&lt;/a&gt; car pour &lt;a href=&quot;http://www.pgadmin.org&quot;&gt;pgAdmin&lt;/a&gt;, on attend toujours. J'ai finalement réussi à corriger un bug dans pgAdmin qui me donnait du mal. Et j'ai terminé le &lt;a href=&quot;http://wwwdevel.pgadmin.org/visualtour12.php&quot; hreflang=&quot;en&quot;&gt;Visual Tour pour la version 1.12&lt;/a&gt;. Il ne manque vraiment plus que l'annonce de la beta 1 de pgAdmin &lt;img src=&quot;http://blog.guillaume.lelarge.info/themes/default/smilies/smile.png&quot; alt=&quot;:)&quot; class=&quot;smiley&quot; /&gt;&lt;/p&gt;


&lt;p&gt;Bref, on est en période beta. Ça veut dire correction de bugs. Ça veut dire aussi que, pour les codeurs d'outils tiers, du boulot est en prévision pour s'assurer de la compatibilité de leur outil avec la prochaine version. On va espérer que les développeurs de Slony vont penser à ça (quoiqu'il semble me rappeler avoir vu passer un patch pour ça il y a peu, donc on peut être optimiste). Ceci dit, le mieux pour tout le monde, c'est de le tester soi-même. En ce qui me concerne, ça veut dire que j'ai du boulot pour pgsnap. Un patch récemment a permis d'utiliser pgsnap avec une 9.0, mais pas d'en tirer le meilleur profit.&lt;/p&gt;


&lt;p&gt;Mais surtout, une beta 1 de PostgreSQL, pour moi, ça veut dire une traduction du manuel à mettre à jour. Pour les outils en ligne de commande livrés avec PostgreSQL, c'est déjà fait. Mais pas encore pour la documentation. Donc voilà, à partir de demain, c'est mon occupation principale.&lt;/p&gt;</description>
	<pubDate>mer, 05 mai 2010 22:28:00 +0000</pubDate>
</item>
<item>
	<title>Actualités PostgreSQL.fr: PostgreSQL 9.0 Bêta 1</title>
	<guid>urn:md5:9506f5076e131823a9b0c90ee8ced76c</guid>
	<link>http://blog.postgresql.fr/index.php?post/2010/05/05/PostgreSQL-9.0-B%C3%AAta-1</link>
	<description>&lt;h2&gt;3 Mai 2010&amp;nbsp;:  La première version bêta de PostgreSQL 9.0 est disponible.&lt;/h2&gt;


&lt;p&gt;La version 9.0 est la première à inclure une réplication binaire interne en temps réel, permettant une extension horizontale du système. Cette possibilité repose sur deux nouvelles fonctionnalités, le «&amp;nbsp;Hot Standby&amp;nbsp;» et le «&amp;nbsp;Streaming Replication&amp;nbsp;» (qu'on peut traduire par «&amp;nbsp;Reprise à chaud&amp;nbsp;» et «&amp;nbsp;Réplication en continu »).&lt;/p&gt;


&lt;p&gt;Associées aux autres fonctionnalités majeures, cette version doit permettre d'accroître l'adoption de PostgreSQL par de nouveaux utilisateurs, et dans de nouveaux types d'applications.&lt;/p&gt;


&lt;p&gt;Cette version est une bêta. Ce qui signifie qu'elle contient probablement encore des bogues, des problèmes, et que la documentation n'est pas encore parfaite. Cette bêta est publiée pour que nos utilisateurs trouvent ces problèmes et nous permettent de les éliminer avant la publication de la version finale.&lt;/p&gt;


&lt;p&gt;Le PostgreSQL Global Development Group demande à tous les utilisateurs de télécharger et tester la version 9.0 pour permettre une publication dans les temps, et dénuée de bogues.&lt;/p&gt;


&lt;p&gt;La version 9.0 offre de nombreuses nouvelles fonctionnalités permettant aux développeurs et DBA d'élargir leur utilisation de PostgreSQL. Citons&amp;nbsp;:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;une nouvelle réplication binaire&amp;nbsp;;&lt;/li&gt;
&lt;li&gt;le support du 64-bit sous Windows&amp;nbsp;;&lt;/li&gt;
&lt;li&gt;l'amélioration de LISTEN/NOTIFY, qui permet de propager rapidement les messages internes&amp;nbsp;;&lt;/li&gt;
&lt;li&gt;des blocs de procédures anonymes par l'utilisation de DO&amp;nbsp;;&lt;/li&gt;
&lt;li&gt;des déclencheurs sur colonnes et sous condition&amp;nbsp;;&lt;/li&gt;
&lt;li&gt;le support de Python 3 dans PL/Python et de nombreuses améliorations du PL/Perl&amp;nbsp;;&lt;/li&gt;
&lt;li&gt;les contraintes d'unicité pour les données non-scalaires (contraintes d'exclusion)&amp;nbsp;;&lt;/li&gt;
&lt;li&gt;un meilleur support des données clé-valeur&amp;nbsp;;&lt;/li&gt;
&lt;li&gt;la suppression automatique des jointures, optimisant les requêtes engendrées par ORM.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;La liste complète des plus de 200 modifications est disponible dans les notes de version (en anglais)&amp;nbsp;:
&lt;a href=&quot;http://developer.postgresql.org/pgdocs/postgres/release-9-0.html&quot;&gt;http://developer.postgresql.org/pgdocs/postgres/release-9-0.html&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Les utilisateurs qui souhaitent tirer parti des nouvelles fonctionnalités peuvent télécharger et tester le portage de leurs applications vers PostgreSQL 9.0bêta dès maintenant.&lt;/p&gt;


&lt;p&gt;Du fait de la présence de nombreuses fonctionnalités nouvelles, et de la révision du code, telle que la modification de la syntaxe permise par le PL/PgSQL, des problèmes de rétro-compatibilité sont attendus.&lt;/p&gt;


&lt;p&gt;Le code source, comme les installeurs binaires sont disponibles sur le site de PostgreSQL&amp;nbsp;:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Page d'informations sur le programme bêta: &lt;a href=&quot;http://www.postgresql.org/developer/beta&quot;&gt;http://www.postgresql.org/developer/beta&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Source&amp;nbsp;: &lt;a href=&quot;http://www.postgresql.org/ftp/source/9.0beta1&quot;&gt;http://www.postgresql.org/ftp/source/9.0beta1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Installeur Windows&amp;nbsp;: &lt;a href=&quot;http://www.enterprisedb.com/products/pgdownload.do&quot;&gt;http://www.enterprisedb.com/products/pgdownload.do&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Binaires pour autres plateformes&amp;nbsp;: &lt;a href=&quot;http://www.postgresql.org/ftp/binary/9.0beta1&quot;&gt;http://www.postgresql.org/ftp/binary/9.0beta1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Notes de version&amp;nbsp;: &lt;a href=&quot;http://developer.postgresql.org/pgdocs/postgres/release-9-0.html&quot;&gt;http://developer.postgresql.org/pgdocs/postgres/release-9-0.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Stéphane Schildknecht pour la traduction, Josh Berkus pour la version originale.&lt;/p&gt;</description>
	<pubDate>mer, 05 mai 2010 07:54:05 +0000</pubDate>
</item>
<item>
	<title>Actualités PostgreSQL.fr: Nouvelles hebdomadaires de PostgreSQL - 25 avril 2010</title>
	<guid>urn:md5:0dce331808e6f99477388d4e0c7e15a6</guid>
	<link>http://blog.postgresql.fr/index.php?post/2010/05/01/Nouvelles-hebdomadaires-de-PostgreSQL-25-avril-2010</link>
	<description>&lt;p&gt;Les SEAPUG [ndt: Seattle] et PDXPUG [ndt: Portland] tiendront un stand au LFNW&amp;nbsp;: passez-y&amp;nbsp;!&lt;/p&gt;
&lt;p&gt;Simon Riggs et Hannu Krosing parleront de PostgreSQL au &quot;Pycon Italia 4&quot; (conf&amp;eacute;rence italienne sur Python) &amp;agrave; Florence, Italie les 8 et 9 mai 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.pycon.it/&quot;&gt;http://www.pycon.it/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Les inscriptions pour la PGCon 2010 sont ouvertes. Les r&amp;eacute;servations vont bon train, donc n'attendez pas&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.pgcon.org/2010/registration.php&quot;&gt;http://www.pgcon.org/2010/registration.php&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Les nouveaut&amp;eacute;s des produits d&amp;eacute;riv&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PostgreSQL Maestro 10.4, une interface graphique d'administration et de d&amp;eacute;veloppement pour PostgreSQL sous Windows&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.sqlmaestro.com/products/postgresql/maestro/&quot;&gt;http://www.sqlmaestro.com/products/postgresql/maestro/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;DBD::Pg 2.17.0, un connecteur Perl pour PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://search.cpan.org/dist/DBD-Pg/&quot;&gt;http://search.cpan.org/dist/DBD-Pg/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;pgpool-II 2.3.3, un gestionnaire de connexion et bien plus&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://pgfoundry.org/projects/pgpool/&quot;&gt;http://pgfoundry.org/projects/pgpool/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;piggly 1.2.0, un outil de couverture de code PL/pgsql&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://github.com/kputnam/piggly&quot;&gt;http://github.com/kputnam/piggly&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;La fonctionnalit&amp;eacute; 9.0 de la semaine&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Les param&amp;egrave;tres des fonctions peuvent maintenant avoir des valeurs par d&amp;eacute;faut.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Offres d'emplois autour de PostgreSQL en avril&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Internationales&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://archives.postgresql.org/pgsql-jobs/2010-04/threads.php&quot;&gt;http://archives.postgresql.org/pgsql-jobs/2010-04/threads.php&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;Francophones&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://forums.postgresql.fr/viewforum.php?id=4&quot;&gt;http://forums.postgresql.fr/viewforum.php?id=4&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL Local&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;L'appel aux conf&amp;eacute;renciers a &amp;eacute;t&amp;eacute; lanc&amp;eacute; pour CHAR(10) &amp;agrave; Oxford, Angleterre, du 1er au 3 juillet 2010. Les propositions sont attendues avant le 20 avril. 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.char10.org&quot;&gt;http://www.char10.org&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Bruce Momjian parlera des solutions de r&amp;eacute;plications dans/avec PostgreSQL lors du rassemblement du PUG de New-York le 20 avril de 18h30 &amp;agrave; 20h30 au Penn Plaza. D&amp;eacute;tails et inscriptions ci-apr&amp;egrave;s&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://postgresql.meetup.com/3/calendar/12788352/&quot;&gt;http://postgresql.meetup.com/3/calendar/12788352/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;La &quot;Linuxfest Northwest 2010&quot; aura lieu &amp;agrave; Bellingham, Washington, &amp;Eacute;tats-Unis les 24 et 25 avril. Conf&amp;eacute;rences, r&amp;eacute;unions et m&amp;eacute;c&amp;eacute;nat sont possibles&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://linuxfestnorthwest.org/&quot;&gt;http://linuxfestnorthwest.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Andreas (ads) Scherbaum enseignera au centre pour adultes de Magdeburg (All.) du 3 au 7 mai 2010 sur le sujet &quot;PostgreSQL for Corporate Use&quot;. D&amp;eacute;tails ci-apr&amp;egrave;s&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://andreas.scherbaum.la/blog/archives/650-PostgreSQL-Schulung-als-Bildungsurlaub-03.-07.05.2010-in-Magdeburg.html&quot;&gt;http://andreas.scherbaum.la/blog/archives/650-PostgreSQL-Schulung-als-Bildungsurlaub-03.-07.05.2010-in-Magdeburg.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;La PgCon 2010 aura lieu les 20 &amp;amp; 21 mai 2010 &amp;agrave; Ottawa avec des tutoriels les 18 et 19&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.pgcon.org/2010/registration.php&quot;&gt;http://www.pgcon.org/2010/registration.php&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;L'appel aux conf&amp;eacute;renciers pour l'OSBridge est lanc&amp;eacute;&amp;nbsp;! L'&amp;eacute;v&amp;eacute;nement aura lieu du 1er au 4 juin 2010 &amp;agrave; Portland (Oregon)&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://opensourcebridge.org/events/2010/proposals/&quot;&gt;http://opensourcebridge.org/events/2010/proposals/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Michael Renner tiendra une conf&amp;eacute;rence au AMOOCON qui aura lieu du 4 au 6 juin 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.amoocon.de/speakers/214&quot;&gt;http://www.amoocon.de/speakers/214&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;La &quot;Southeast Linuxfest 2010&quot; aura lieu &amp;agrave; Spartanburg (Caroline du Sud, &amp;Eacute;tats-Unis) les 12 &amp;amp; 13 juin. Participations/r&amp;eacute;unions et m&amp;eacute;c&amp;eacute;nats encore proposables&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://southeastlinuxfest.org/&quot;&gt;http://southeastlinuxfest.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;L'OSCON aura lieu &amp;agrave; Portland (Oregon) du 19 au 23 juillet 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.oscon.com/oscon2010&quot;&gt;http://www.oscon.com/oscon2010&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL dans les m&amp;eacute;dia&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Planet PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planet.postgresql.org/&quot;&gt;http://planet.postgresql.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Planet PostgreSQLFr&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planete.postgresql.fr/&quot;&gt;http://planete.postgresql.fr/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;i&gt;PostgreSQL Weekly News / les nouvelles hebdomadaires vous sont offertes cette semaine par David Fetter et Devrim Gunduz. Traduction par l'&amp;eacute;quipe PostgreSQLFr sous licence CC BY-NC-SA.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;&lt;i&gt;Proposez vos articles ou annonces avant dimanche 15:00 (heure du Pacifique). Merci de les envoyer en anglais &amp;agrave; david (a) fetter.org, en allemand &amp;agrave; pwn (a) pgug.de, en italien &amp;agrave; pwn (a) itpug.org et en espagnol &amp;agrave; pwn (a) arpug.com.ar.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;(&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/community/weeklynews/pwn20100425&quot;&gt;lien vers l'article original&lt;/a&gt;)&lt;/p&gt;    &lt;p&gt;&lt;strong&gt;Correctifs appliqu&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Magnus Hagander a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Add wrapper function libpqrcv_PQexec() in the walreceiver that uses async libpq to send queries, making the waiting for responses interruptible on platforms where PQexec() can't normally be interrupted by signals, such as win32. Fujii Masao and Magnus Hagander.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tom Lane a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/access/nbtree/nbtxlog.c, fix uninitialized local variables. Not sure why gcc doesn't complain about these --- maybe because they're effectively unused? MSVC does complain though, per buildfarm.&lt;/li&gt;
&lt;li&gt;Move the responsibility for calling StartupXLOG into InitPostgres, for those process types that go through InitPostgres; in particular, bootstrap and standalone-backend cases. This ensures that we have set up a PGPROC and done some other basic initialization steps (corresponding to the if (IsUnderPostmaster) block in AuxiliaryProcessMain) before we attempt to run WAL recovery in a standalone backend. As was discovered last September, this is necessary for some corner-case code paths during WAL recovery, particularly end-of-WAL cleanup. Moving the bootstrap case here too is not necessary for correctness, but it seems like a good idea since it reduces the number of distinct code paths.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/replication/walreceiver.c, fix code that doesn't work on machines with strict alignment requirements: must use memcpy here rather than struct assignment. In passing, rearrange some randomly-ordered declarations to be a tad less random.&lt;/li&gt;
&lt;li&gt;Arrange for client authentication to occur before we select a specific database to connect to. This is necessary for the walsender code to work properly (it was previously using an untenable assumption that template1 would always be available to connect to). This also gets rid of a small security shortcoming that was introduced in the original patch to eliminate the flat authentication files: before, you could find out whether or not the requested database existed even if you couldn't pass the authentication checks. The changes needed to support this are mainly just to treat pg_authid and pg_auth_members as nailed relations, so that we can read them without having to be able to locate real pg_class entries for them. This mechanism was already debugged for pg_database, but we hadn't recognized the value of applying it to those catalogs too. Since the current code doesn't have support for accessing toast tables before we've brought up all of the relcache, remove pg_authid's toast table to ensure that no one can store an out-of-line toasted value of rolpassword. The case seems quite unlikely to occur in practice, and was effectively unsupported anyway in the old &quot;flatfiles&quot; implementation. Update genbki.pl to actually implement the same rules as bootstrap.c does for not-nullability of catalog columns. The previous coding was a bit cheesy but worked all right for the previous set of bootstrap catalogs. It does not work for pg_authid, where rolvaliduntil needs to be nullable. Initdb forced due to minor catalog changes (mainly the toast table removal).&lt;/li&gt;
&lt;li&gt;Move the check for whether walreceiver has authenticated as a superuser from walsender.c, where it didn't really belong, to postinit.c where it does belong (and is essentially free, too).&lt;/li&gt;
&lt;li&gt;Fix pg_hba.conf matching so that replication connections only match records with database = replication. The previous coding would allow them to match ordinary records too, but that seems like a recipe for security breaches. Improve the messages associated with no-such-pg_hba.conf entry to report replication connections as such, since that's now a critical aspect of whether the connection matches. Make some cursory improvements in the related documentation, too.&lt;/li&gt;
&lt;li&gt;Enforce superuser permissions checks during ALTER ROLE/DATABASE SET, rather than during define_custom_variable(). This entails rejecting an ALTER command if the target variable doesn't have a known (non-placeholder) definition, unless the calling user is superuser. When the variable *is* known, we can correctly apply the rule that only superusers can issue ALTER for SUSET parameters. This allows define_custom_variable to apply ALTER's values for SUSET parameters at module load time, secure in the knowledge that only a superuser could have set the ALTER value. This change fixes a longstanding gotcha in the usage of SUSET-level custom parameters; which is a good thing to fix now that plpgsql defines such a parameter.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Simon Riggs a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/storage/ipc/procarray.c, check RecoveryInProgress() while holding ProcArrayLock during snapshots. This prevents a rare, yet possible race condition at the exact moment of transition from recovery to normal running.&lt;/li&gt;
&lt;li&gt;Add new message for explicit rejection by pg_hba.conf. Implicit rejection retains same message as before.&lt;/li&gt;
&lt;li&gt;Fix oversight in collecting values for cleanup_info records. vacuum_log_cleanup_info() now generates log records with a valid latestRemovedXid set in all cases. Also be careful not to zero the value when we do a round of vacuuming part-way through lazy_scan_heap(). Incidentally, this reduces frequency of conflicts in Hot Standby.&lt;/li&gt;
&lt;li&gt;Relax locking during GetCurrentVirtualXIDs(). Earlier improvements to handling of btree delete records mean that all snapshot conflicts on standby now have a valid, useful latestRemovedXid. Our earlier approach using LW_EXCLUSIVE was useful when we didnt always have a valid value, though is no longer useful or necessary. Asserts added to code path to prove and ensure this is the case. This will reduce contention and improve performance of larger Hot Standby servers.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/commands/vacuumlazy.c, only send cleanup_info messages if VACUUM removes any tuples. There is no other purpose for this message type than to report the latestRemovedXid of removed tuples, prior to index scans. Removes overlooked path for sending invalid latestRemovedXid. Fixes buildfarm failure on centaur.&lt;/li&gt;
&lt;li&gt;Further reductions in Hot Standby conflict processing. These come from the realistion that HEAP2_CLEAN records don't always remove user visible data, so conflict processing for them can be skipped. Confirm validity using Assert checks, clarify circumstances under which we log heap_cleanup_info records. Tuning arises from bug fixing of earlier safety check failures.&lt;/li&gt;
&lt;li&gt;Optimise btree delete processing when no active backends. Clarify comments, downgrade a message to DEBUG and remove some debug counters. Direct from ideas by Heikki Linnakangas.&lt;/li&gt;
&lt;li&gt;Make CheckRequiredParameterValues() depend upon correct combination of parameters. Fix bug report by Robert Haas that error message and hint was incorrect if wrong mode parameters specified on master. Internal changes only. Proposals for parameter simplification on master/primary still under way.&lt;/li&gt;
&lt;li&gt;Previous patch revoked following objections.&lt;/li&gt;
&lt;li&gt;Add missing optimizer hooks for function cost and number of rows. Closely follow design of other optimizer hooks: if hook exists retrieve value from plugin; if still not set then get from cache.&lt;/li&gt;
&lt;li&gt;Patch revoked because of objections.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Robert Haas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Update docs as to when WAL logging can be skipped. In 8.4 and prior, WAL-logging could potentially be skipped whenever archive_mode=off. With streaming replication, this is now true only if max_wal_senders=0. Fujii Masao, with light copyediting by me.&lt;/li&gt;
&lt;li&gt;Rename standby_keep_segments to wal_keep_segments. Also, make the name of the GUC and the name of the backing variable match. Alnong the way, clean up a couple of slight typographical errors in the related docs.&lt;/li&gt;
&lt;li&gt;Fix various instances of &quot;the the&quot;. Two of these were pointed out by Erik Rijkers; the rest I found.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ITAGAKI Takahiro a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/utils/adt/pg_locale.c, fix encoding issue when lc_monetary or lc_numeric are different encoding from lc_ctype, that could happen on Windows. We need to change lc_ctype together with lc_monetary or lc_numeric, and convert strings in lconv from lc_ctype encoding to the database encoding. The bug reported by Mikko, original patch by Hiroshi Inoue, with changes by Bruce and me.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Peter Eisentraut a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/utils/misc/guc.c, fix message punctuation.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Bruce Momjian a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/utils/adt/pg_locale.c, add C comments for recent to_char('L') fix for Win32.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs rejet&amp;eacute;s (&amp;agrave; ce jour)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Simon Riggs's patch to speed up ALTER TABLE...SET TABLESPACE. Timing is not right for 9.0.&lt;/li&gt;
&lt;li&gt;Nikhil Sontakke's patch to estimate the costs of SRFs.&lt;/li&gt;
&lt;li&gt;Simon Riggs's patch to make the &quot;ALL&quot; in GRANT ... ON ALL optional.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs en attente&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Robert Haas sent in a patch to cause walsender not to consume superuser_reserved_connection slots.&lt;/li&gt;
&lt;li&gt;Simon Riggs sent in a patch to implement prefetching during replay of btree delete records. The patch is intended to fix a performance issue reported by Erik Rijkers where a Hot Standby slave's performance is much lower than on the master's.&lt;/li&gt;
&lt;li&gt;Bruce Momjian sent in a patch per prior discussion to re-order the timestamps displayed in the pg_stat_activity view.&lt;/li&gt;
&lt;li&gt;Robert Haas sent in a WIP patch to ush isTemp down into the smgr layer. This is intended to be infrastructure for global temporary tables per the SQL standard.&lt;/li&gt;
&lt;/ul&gt;</description>
	<pubDate>sam, 01 mai 2010 10:45:45 +0000</pubDate>
</item>
<item>
	<title>Guillaume Lelarge: Beta 1 coming up</title>
	<guid>urn:md5:fbb48de6675b3acbe8be0de0deab7f81</guid>
	<link>http://blog.guillaume.lelarge.info/index.php/post/2010/05/01/Beta-1-coming-up</link>
	<description>&lt;p&gt;C'est ce moment de l'année où les tests sont de rigueur...&lt;/p&gt;

&lt;pre&gt;
guillaume@laptop:~$ psql -V
psql (PostgreSQL) 9.0beta1
contient une gestion avancée de la ligne de commande
&lt;/pre&gt;


&lt;p&gt;&lt;a href=&quot;http://blog.guillaume.lelarge.info/public/pgadmin_1.11/beta1.png&quot; title=&quot;beta 1 de pgAdmin 1.12&quot;&gt;&lt;img src=&quot;http://blog.guillaume.lelarge.info/public/pgadmin_1.11/.beta1_m.jpg&quot; alt=&quot;beta 1 de pgAdmin 1.12&quot; title=&quot;beta 1 de pgAdmin 1.12, avr. 2010&quot; /&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Il nous a fallu quand même ce soir trois heures de discussion, codage et test avec Dave pour finaliser la 1.12. Grand merci aux outils de type &lt;a href=&quot;http://www.pidgin.im/&quot; hreflang=&quot;fr&quot;&gt;pidgin&lt;/a&gt;, &lt;a href=&quot;http://www.google.com/talk/intl/fr/&quot; hreflang=&quot;fr&quot;&gt;Google Chat&lt;/a&gt; et autres du même type, c'est quand même bien plus efficace que le mail dans ce cadre.&lt;/p&gt;


&lt;p&gt;Une annonce officielle sera faite lundi.&lt;/p&gt;</description>
	<pubDate>ven, 30 avr 2010 23:01:00 +0000</pubDate>
</item>
<item>
	<title>Guillaume Lelarge: GSoC pgAdmin</title>
	<guid>urn:md5:e904eaba80a95de2ce030b35439710f1</guid>
	<link>http://blog.guillaume.lelarge.info/index.php/post/2010/04/29/GSoC-pgAdmin</link>
	<description>&lt;p&gt;Je viens d'avoir la nouvelle par Luis. Sa proposition de &lt;a href=&quot;http://socghop.appspot.com/&quot; hreflang=&quot;en&quot;&gt;projet GSoC&lt;/a&gt; pour &lt;a href=&quot;http://www.pgadmin.org&quot; hreflang=&quot;en&quot;&gt;pgAdmin&lt;/a&gt; a été acceptée. Et je suis son mentor, ce qui me fait bien plaisir.&lt;/p&gt;


&lt;p&gt;Du coup, je viens de jeter un œil aux statuts des différentes propositions. Six ont été acceptées. Deux concernent pgAdmin, un concerne &lt;a href=&quot;http://phppgadmin.sourceforge.net/&quot; hreflang=&quot;en&quot;&gt;phpPgAdmin&lt;/a&gt; et les trois autres concernent &lt;a href=&quot;http://www.postgresql.org&quot; hreflang=&quot;en&quot;&gt;PostgreSQL&lt;/a&gt; directement.&lt;/p&gt;


&lt;p&gt;Le projet que je mentor-ise doit permettre la création d'un outil de modélisation graphique d'une base à partir de pgAdmin. Luis Ochoa est l'étudiant qui a proposé cette idée. Nous avons une grande confiance en lui. Il a déjà codé le constructeur graphique de requêtes (GQB, Graphical Query Builder) de l'éditeur de requêtes. Il connaît donc bien pgAdmin et la partie graphique. Il y a de fortes chances que le résultat de son travail sera inclus dans la 1.14.&lt;/p&gt;


&lt;p&gt;À noter que le mentor du projet pour phpPgAdmin est Jehan-Guillaume de Rorthais. Bien content pour lui aussi.&lt;/p&gt;</description>
	<pubDate>jeu, 29 avr 2010 14:30:00 +0000</pubDate>
</item>
<item>
	<title>Rodolphe Quiédeville: Première carte publiée</title>
	<guid>urn:md5:00cc3e476ceea38034499a8e50c49841</guid>
	<link>http://blog.rodolphe.quiedeville.org/index.php?post/2010/04/Premi%C3%A8re-carte-publi%C3%A9e</link>
	<description>&lt;p&gt;Afin de regouper dans un même lieu numérique les cartes que je publie j'ai mis en place un espace nommé &lt;a href=&quot;http://carto.quiedeville.org&quot;&gt;carto.quiedeville.org&lt;/a&gt;. Celui-ci est inauguré avec la publication de la carte des éoliennes en France présente dans OpenStreetMap, j'en dénombre 193 ce jour.&lt;/p&gt;


&lt;p&gt;&lt;img src=&quot;http://blog.rodolphe.quiedeville.org/public/carto.png&quot; alt=&quot;Carto&quot; title=&quot;Carto, avr. 2010&quot; /&gt;&lt;/p&gt;</description>
	<pubDate>jeu, 29 avr 2010 10:43:00 +0000</pubDate>
</item>
<item>
	<title>Guillaume Lelarge: Évolutions de pgsnap</title>
	<guid>urn:md5:6d59b815e9211bf3f0181090fcb3d251</guid>
	<link>http://blog.guillaume.lelarge.info/index.php/post/2010/04/26/%C3%89volutions-de-pgsnap</link>
	<description>&lt;p&gt;Ça fait un petit moment que je n'ai pas parlé de &lt;a href=&quot;http://pgsnap.projects.postgresql.org/&quot; hreflang=&quot;en&quot;&gt;pgsnap&lt;/a&gt;. Il y a eu assez peu de changements ces derniers temps. Et assez peu de motivation pour améliorer cet outil. Mais cela pourrait bien changer rapidement.&lt;/p&gt;


&lt;p&gt;Tout d'abord, une petite information. J'ai déplacé le code source de pgsnap sur &lt;a href=&quot;http://github.com&quot; hreflang=&quot;en&quot;&gt;github&lt;/a&gt;. Donc, contrairement à ce qu'indique la page sur &lt;a href=&quot;http://pgfoundry.org/projects/pgsnap/&quot; hreflang=&quot;en&quot;&gt;pgfoundry&lt;/a&gt;, les sources sont maintenant sur la &lt;a href=&quot;http://github.com/dalibo/pgsnap&quot; hreflang=&quot;en&quot;&gt;page github de pgsnap&lt;/a&gt;. En soi, ça ne change pas grand-chose à part pour les développeurs. Je vais continuer à utiliser pgfoundry pour la partie web et news. Cela étant dit, je n'exclue pas la possibilité d'externaliser ça aussi.&lt;/p&gt;


&lt;p&gt;La vraie news concerne l'orientation du projet. Pour l'instant, pgsnap crée un rapport composé de plusieurs pages HTML. C'est très bien actuellement mais cela pose quelques soucis. Le premier concerne le fait qu'un utilisateur peut se trouver avec plein de différents rapports d'une même base, placés un peu partout sur son disque local. Il est assez difficile de faire la relation entre chacun (notamment si cette personne renomme la base...), de les partager avec ses collègues, etc. Le deuxième soucis, qui me dérange de plus en plus, est la difficulté de voir les différences entre deux rapports pour savoir comment à évoluer la base dans le temps. C'est un des éléments de la TODO list qui me pose le plus de questions.&lt;/p&gt;


&lt;p&gt;Or, il se trouve que j'ai peut-être une solution pour ces deux problèmes. J'étais partie au départ avec l'idée de fournir un rapport composé de pages HTML pour reproduire le comportement de orasnap. Mais ce n'était certainement pas le plus futé à faire. Le mieux serait certainement de récupérer toutes les données dans un format du style sauvegarde SQL de PostgreSQL ou plus simple dans un format CSV. L'idée est de pouvoir placer toutes les données dans une seule et même base PostgreSQL de reporting et de construire un outil capable d'afficher les informations sur les différents rapports stockés dans la même base, voire de regarder les différences entre deux rapports.&lt;/p&gt;


&lt;p&gt;Voilà. L'idée me plaît. La partie « outil de visualisation » me semble assez complexe. Mais les avantages sont suffisamment importants pour songer à modifier complètement le comportement de pgsnap. Quitte à fournir une deuxième application, capable de lire ce « dump » et de créer les rapports HTML identiques à la première conception de pgsnap.&lt;/p&gt;


&lt;p&gt;Comme les sources de pgsnap sont sur git, je vais certainement créer une nouvelle branche pour travailler sur ce concept sans déranger le reste du développement. Car, oui, il va falloir continuer le développement normal de pgsnap. Ce dernier est compatible basiquement avec la 9.0 mais il faudrait qu'il retrouve bien plus d'informations sur cette dernière. Donc la branche master sera utilisé pour ajouter une gestion plus complète de la version 9.0 et une autre branche sera créée pour tester et mettre en place le nouveau concept.&lt;/p&gt;</description>
	<pubDate>lun, 26 avr 2010 09:11:00 +0000</pubDate>
</item>
<item>
	<title>Guillaume Lelarge: Petit résumé des quatre dernières semaines sur pgAdmin - 5</title>
	<guid>urn:md5:f210530c9d852cfe0de0b9aae999353a</guid>
	<link>http://blog.guillaume.lelarge.info/index.php/post/2010/04/24/Petit-r%C3%A9sum%C3%A9-des-quatre-derni%C3%A8res-semaines-sur-pgAdmin-5</link>
	<description>&lt;p&gt;Pas mal de nouveautés cette fois sur pgAdmin, à la fois en matière de corrections de bugs mais aussi en nouvelles fonctionnalités.&lt;/p&gt;


&lt;p&gt;Commençons par les corrections de bug. Erwin a trouvé le temps de nous concocter quelques rapports de bugs. Apprendre l'existence d'un bug n'est pas plaisant, le corriger l'est beaucoup plus. Il a remarqué par exemple que les règles d'une vue étaient oubliés dans les requêtes permettant de recréer la vue. Ce bug a été corrigé assez rapidement. Autre exemple, les groupes n'étaient pas proposés dans la liste déroulante permettant d'indiquer le propriétaire d'un objet. Là-aussi, le correctif a été plutôt simple.&lt;/p&gt;


&lt;p&gt;Dave a découvert un bug assez étrange sur la fenêtre d'état du serveur. Le composant liste utilisé utilise par défaut le composant natif sous Mac OS X. Or, ce composant natif permet de réaliser des tris dans la liste. C'est une fonctionnalité très intéressante pour cette plateforme. Malheureusement, notre méthode pour la mettre à jour causait le vidage de certaines lignes, pour aboutir à un affichage illisible. J'ai travaillé sur ce correctif et j'ai fini par aboutir à une solution en deux étapes. Pour la branche 1.10, on empêche l'utilisation du composant natif, ce qui a pour effet de supprimer le tri possible sous Mac OS X. Pour la branche en cours de développement, j'ai ajouté la possibilité de trier les colonnes de chaque rapport, quelque soit la plateforme, en désactivant toujours le comportement natif sous Mac OS X. Voici une copie d'écran de la fenêtre d'état :&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;http://blog.guillaume.lelarge.info/public/pgadmin_1.11/status.png&quot; title=&quot;status.png&quot;&gt;&lt;img src=&quot;http://blog.guillaume.lelarge.info/public/pgadmin_1.11/.status_m.jpg&quot; alt=&quot;status.png&quot; title=&quot;status.png, avr. 2010&quot; /&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;L'affichage est toujours trié par défaut par PID. En cliquant sur l'entête d'une colonne, le tri est modifié pour se faire par rapport à cette colonne. Ça faisait longtemps que je voulais ajouter cette fonctionnalité. Je n'imaginais pas du tout avoir ça pour la future 1.12, et je n'y pensais vraiment pas en commençant à travailler sur ce bug.&lt;/p&gt;


&lt;p&gt;Josh Berkus s'est plaint, avec raison, qu'il était impossible de sélectionner un autre utilisateur pour créer une nouvelle connexion dans l'outil de requêtage. Vu qu'il s'agit d'une nouvelle fonctionnalité, elle fera partie de la 1.12 :&lt;/p&gt;


&lt;p&gt;&lt;img src=&quot;http://blog.guillaume.lelarge.info/public/pgadmin_1.11/queryconnection.png&quot; alt=&quot;queryconnection.png&quot; title=&quot;queryconnection.png, avr. 2010&quot; /&gt;&lt;/p&gt;


&lt;p&gt;Josh a aussi remarqué que la gestion des fichiers récents était pour le moins étonnante. J'ai corrigé ça en permettant à un outil de requêtage d'alerter les autres outils de requêtage pour qu'ils puissent recharger la liste des derniers fichiers ouverts.&lt;/p&gt;


&lt;p&gt;L'option de stockage d'une colonne est enfin modifiable dans la fenêtre des propriétés d'une colonne :&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;http://blog.guillaume.lelarge.info/public/pgadmin_1.11/column.png&quot; title=&quot;column.png&quot;&gt;&lt;img src=&quot;http://blog.guillaume.lelarge.info/public/pgadmin_1.11/.column_m.jpg&quot; alt=&quot;column.png&quot; title=&quot;column.png, avr. 2010&quot; /&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Dans les petits trucs en plus, on peut noter un élément supplémentaire dans le menu contextuel d'un serveur : « Reload configuration ». Cette action se contente d'exécuter un « SELECT pg_reload_conf(); » sur le serveur.&lt;/p&gt;


&lt;p&gt;&lt;img src=&quot;http://blog.guillaume.lelarge.info/public/pgadmin_1.11/reloadconf.png&quot; alt=&quot;reloadconf.png&quot; title=&quot;reloadconf.png, avr. 2010&quot; /&gt;&lt;/p&gt;


&lt;p&gt;Magnus a écrit un petit patch permettant de demander le nom du fichier à utiliser pour l'export de données avant l'exécution de la requête (histoire que l'utilisateur n'ait pas à attendre le temps de l'exécution de la requête pour fournir le nom du fichier à sauvegarder). Il s'est aussi étonné que la fenêtre de maintenance utilisait la connexion du navigateur pour faire le VACUUM ou l'ANALYZE. Vu que ce sont des opérations potentiellement (très) longues, j'ai changé cela pour que la fenêtre utilise sa propre connexion, laissant à l'utilisateur la possibilité d'utiliser le navigateur pendant l'exécution de l'opération de maintenance.&lt;/p&gt;


&lt;p&gt;J'ai travaillé aussi avec Ashesh Vashi pour corriger un bug dans l'outil de création graphique de requêtes.&lt;/p&gt;


&lt;p&gt;La grosse nouveauté a été enregistrée e matin même dans les sources. Depuis plus d'un an, j'avais dans l'idée d'ajouter la possibilité de créer des groupes de serveurs. J'avais laissé un peu de côté. Jehan-Guillaume de Rorthais l'a fait tout récemment pour phpPgAdmin, ce qui m'a poussé à jeter un œil sur cette fonctionnalité. J'en ai un peu bavé mais c'est fait. La preuve :&lt;/p&gt;


&lt;p&gt;&lt;img src=&quot;http://blog.guillaume.lelarge.info/public/pgadmin_1.11/browser.png&quot; alt=&quot;browser.png&quot; title=&quot;browser.png, avr. 2010&quot; /&gt;&lt;/p&gt;


&lt;p&gt;Et voilà. Pas mal, non ? &lt;img src=&quot;http://blog.guillaume.lelarge.info/themes/default/smilies/smile.png&quot; alt=&quot;:)&quot; class=&quot;smiley&quot; /&gt;&lt;/p&gt;


&lt;p&gt;Pour la suite, nous sommes en train de travailler sur les dernières fonctionnalités. La beta 1 de PostgreSQL 9.0 doit sortir d'ici une semaine, cela nous laisse peu de temps. En fait, il reste peu à faire et Ashesh a déjà investi pas mal de temps sur ce qu'il nous manquait. Pas encore commité, mais ça ne devrait plus tarder. En ce qui me concerne, il me reste toujours la contrainte d'exclusion. J'avoue que j'ai du mal à travailler dessus. Mais bon, on va y arriver.&lt;/p&gt;</description>
	<pubDate>sam, 24 avr 2010 21:33:00 +0000</pubDate>
</item>
<item>
	<title>Actualités PostgreSQL.fr: Nouvelles hebdomadaires de PostgreSQL - 18 avril 2010</title>
	<guid>urn:md5:c8a4208363153daf2710cca2d4c15200</guid>
	<link>http://blog.postgresql.fr/index.php?post/2010/04/23/Nouvelles-hebdomadaires-de-PostgreSQL-18-avril-2010</link>
	<description>&lt;p&gt;Michael Renner tiendra une conf&amp;eacute;rence au AMOOCON qui aura lieu du 4 au 6 juin 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.amoocon.de/speakers/214&quot;&gt;http://www.amoocon.de/speakers/214&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Les nouveaut&amp;eacute;s des produits d&amp;eacute;riv&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bricolage 2.0, un gestionnaire et &amp;eacute;diteur de contenu bas&amp;eacute; sur PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://bricolagecms.org/news/announce/2010/04/12/bricolage-2.0.0/&quot;&gt;http://bricolagecms.org/news/announce/2010/04/12/bricolage-2.0.0/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;GNUmed 0.7.0&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://wiki.gnumed.de/&quot;&gt;http://wiki.gnumed.de/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;pgpool-II 2.2.7, un gestionnaire de connexions et bien d'avantage&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://pgfoundry.org/projects/pgpool/&quot;&gt;http://pgfoundry.org/projects/pgpool/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;phpPgAdmin 4.2.3, une interface web d'administration de PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://phppgadmin.sourceforge.net/&quot;&gt;http://phppgadmin.sourceforge.net/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;tail_n_mail 1.8.6, un programme Perl pour rechercher parmi les fichiers de log et envoyer le r&amp;eacute;sultat par courriel&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://bucardo.org/wiki/Tail_n_mail&quot;&gt;http://bucardo.org/wiki/Tail_n_mail&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;La fonctionnalit&amp;eacute; 9.0 de la semaine&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Les GUCs [ndt: configurations utilisateur g&amp;eacute;n&amp;eacute;rales] sont maintenant ajustables &amp;agrave; la fois par r&amp;ocirc;le et par base de donn&amp;eacute;es. psql dispose de la commande \drds pour les afficher.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Offres d'emplois autour de PostgreSQL en avril&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Internationales&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://archives.postgresql.org/pgsql-jobs/2010-04/threads.php&quot;&gt;http://archives.postgresql.org/pgsql-jobs/2010-04/threads.php&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;Francophones&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://forums.postgresql.fr/viewforum.php?id=4&quot;&gt;http://forums.postgresql.fr/viewforum.php?id=4&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL Local&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;L'appel aux conf&amp;eacute;renciers a &amp;eacute;t&amp;eacute; lanc&amp;eacute; pour CHAR(10) &amp;agrave; Oxford, Angleterre, du 1er au 3 juillet 2010. Les propositions sont attendues avant le 20 avril. 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.char10.org&quot;&gt;http://www.char10.org&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Bruce Momjian parlera des solutions de r&amp;eacute;plications dans/avec PostgreSQL lors du rassemblement du PUG de New-York le 20 avril de 18h30 &amp;agrave; 20h30 au Penn Plaza. D&amp;eacute;tails et inscriptions ci-apr&amp;egrave;s&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://postgresql.meetup.com/3/calendar/12788352/&quot;&gt;http://postgresql.meetup.com/3/calendar/12788352/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;La &quot;Linuxfest Northwest 2010&quot; aura lieu &amp;agrave; Bellingham, Washington, &amp;Eacute;tats-Unis les 24 et 25 avril. Conf&amp;eacute;rences, r&amp;eacute;unions et m&amp;eacute;c&amp;eacute;nat sont possibles&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://linuxfestnorthwest.org/&quot;&gt;http://linuxfestnorthwest.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Andreas (ads) Scherbaum enseignera au centre pour adultes de Magdeburg (All.) du 3 au 7 mai 2010 sur le sujet &quot;PostgreSQL for Corporate Use&quot;. D&amp;eacute;tails ci-apr&amp;egrave;s&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://andreas.scherbaum.la/blog/archives/650-PostgreSQL-Schulung-als-Bildungsurlaub-03.-07.05.2010-in-Magdeburg.html&quot;&gt;http://andreas.scherbaum.la/blog/archives/650-PostgreSQL-Schulung-als-Bildungsurlaub-03.-07.05.2010-in-Magdeburg.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;La PgCon 2010 aura lieu les 20 &amp;amp; 21 mai 2010 &amp;agrave; Ottawa avec des tutoriels les 18 et 19&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.pgcon.org/2010/registration.php&quot;&gt;http://www.pgcon.org/2010/registration.php&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;L'appel aux conf&amp;eacute;renciers pour l'OSBridge est lanc&amp;eacute;&amp;nbsp;! L'&amp;eacute;v&amp;eacute;nement aura lieu du 1er au 4 juin 2010 &amp;agrave; Portland (Oregon)&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://opensourcebridge.org/events/2010/proposals/&quot;&gt;http://opensourcebridge.org/events/2010/proposals/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;La &quot;Southeast Linuxfest 2010&quot; aura lieu &amp;agrave; Spartanburg (Caroline du Sud, &amp;Eacute;tats-Unis) les 12 &amp;amp; 13 juin. Participations/r&amp;eacute;unions et m&amp;eacute;c&amp;eacute;nats encore proposables&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://southeastlinuxfest.org/&quot;&gt;http://southeastlinuxfest.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;L'OSCON aura lieu &amp;agrave; Portland (Oregon) du 19 au 23 juillet 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.oscon.com/oscon2010&quot;&gt;http://www.oscon.com/oscon2010&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL dans les m&amp;eacute;dia&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Planet PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planet.postgresql.org/&quot;&gt;http://planet.postgresql.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Planet PostgreSQLFr&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planete.postgresql.fr/&quot;&gt;http://planete.postgresql.fr/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;i&gt;PostgreSQL Weekly News / les nouvelles hebdomadaires vous sont offertes cette semaine par David Fetter et Devrim Gunduz. Traduction par l'&amp;eacute;quipe PostgreSQLFr sous licence CC BY-NC-SA.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;&lt;i&gt;Proposez vos articles ou annonces avant dimanche 15:00 (heure du Pacifique). Merci de les envoyer en anglais &amp;agrave; david (a) fetter.org, en allemand &amp;agrave; pwn (a) pgug.de, en italien &amp;agrave; pwn (a) itpug.org.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;(&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/community/weeklynews/pwn20100418&quot;&gt;lien vers l'article original&lt;/a&gt;)&lt;/p&gt;    &lt;p&gt;&lt;strong&gt;Correctifs appliqu&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Heikki Linnakangas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Change the logic to decide when to delete old WAL segments, so that it doesn't take into account how far the WAL senders are. This way a hung WAL sender doesn't prevent old WAL segments from being recycled/removed in the primary, ultimately causing the disk to fill up. Instead add standby_keep_segments setting to control how many old WAL segments are kept in the primary. This also makes it more reliable to use streaming replication without WAL archiving, assuming that you set standby_keep_segments high enough.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/high-availability.sgml, adjust paragraph about monitoring streaming replication, now that we have standby_keep_segments.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/replication/walsender.c, need to use the start pointer of a block we read from WAL segment in the calculation, not the end pointer, as pointed out by Fujii Masao.&lt;/li&gt;
&lt;li&gt;Update the location of last removed WAL segment in shared memory only after actually removing one, so that if we can't remove segments because WAL archiving is lagging behind, we don't unnecessarily forbid streaming the old not-yet-archived segments that are still perfectly valid. Per suggestion from Fujii Masao.&lt;/li&gt;
&lt;li&gt;Allow Hot Standby to begin from a shutdown checkpoint. Patch by Simon Riggs &amp;amp; me.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/config.sgml, fix typo, spotted by Erik Rijkers.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlog.c, in standby mode, suppress repeated LOG messages about a corrupt record, which just indicates that we've reached the end of valid WAL found in the standby.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/postmaster/syslogger.c, on Windows, syslogger runs in two threads. The main thread processes config reload and rotation signals, and a helper thread reads messages from the pipe and writes them to the log file. However, server code isn't generally thread-safe, so if both try to do e.g palloc()/pfree() at the same time, bad things will happen. To fix that, use a critical section (which is like a mutex) to enforce that only one the threads are active at a time.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Bruce Momjian a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/backup.sgml, spell out full archive directory specification in 'test -f' continuous archiving example, per suggestion from Greg Smith.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/config.sgml, remove example of archive_command from configure section; instead have users look at the referenced section for examples, per idea from Greg Smith.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/wal.sgml, add &quot;SSD&quot; acronym mention for solid state drive mention.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/xtypes.sgml, doc change: anyways -&amp;gt; anyway; Erik Rijkers&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlog.c, doc change: effect -&amp;gt; affect, per Robert Haas.&lt;/li&gt;
&lt;li&gt;Document that autovacuum cannot vacuum or analyze temporary tables.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Magnus Hagander a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/replication/walreceiver.c, only try to do a graceful disconnect if we've successfully loaded the shared library with the disconnect function in it. Fixes segmentation fault reported by Jeff Davis. Fujii Masao.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/config.sgml, fix typo. Fujii Masao.&lt;/li&gt;
&lt;li&gt;Add script to enumerate the timezones in the Windows registry and compare it with the list we have in pgtz.c, showing any differences.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Simon Riggs a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlog.c, fix minor typo in comment in xlog.c.&lt;/li&gt;
&lt;li&gt;Tune GetSnapshotData() during Hot Standby by avoiding loop through normal backends. Makes code clearer also, since we avoid various Assert()s. Performance of snapshots taken during recovery no longer depends upon number of read-only backends.&lt;/li&gt;
&lt;li&gt;Remove some additional changes in previous commit that belong elsewhere.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlog.c, improve sequence and sense of messages from pg_stop_backup(). Now doesn't report it is waiting until it actually is waiting, plus message doesn't appear until at least 5 seconds wait, so we avoid reporting the wait before we've given the archiver a reasonable time to wake up and archive the file we just created earlier in the function. Also add new unconditional message to confirm safe completion. Now a normal, healthy execution does not report waiting at all, just safe completion.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Robert Haas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/access/gist/README, typo fix. Kevin Grittner.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/config.sgml, provide better guidance for adjusting shared_buffers.&lt;/li&gt;
&lt;li&gt;Provide better guidance for adjusting shared_buffers. This change was previously committed to HEAD, but the consensus seems to be in favor of back-patching it. I'm only backpatching as far as 8.3.X, however, because it's not clear to me to what degree this advice applies to older branches, and in any case our first advice to anyone attempting to tune those versions is likely to be &quot;upgrade&quot;.&lt;/li&gt;
&lt;li&gt;Add an 'enable_material' GUC. The logic for determining whether to materialize has been significantly overhauled for 9.0. In case there should be any doubt about whether materialization is a win in any particular case, this should provide a convenient way of seeing what happens without it; but even with enable_material turned off, we still materialize in cases where it is required for correctness. Thanks to Tom Lane for the review.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tom Lane a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/utils/cache/relcache.c, fix a problem introduced by my patch of 2010-01-12 that revised the way relcache reload works. In the patched code, a relcache entry in process of being rebuilt doesn't get unhooked from the relcache hash table; which means that if a cache flush occurs due to sinval queue overrun while we're rebuilding it, the entry could get blown away by RelationCacheInvalidate, resulting in crash or misbehavior. Fix by ensuring that an entry being rebuilt has positive refcount, so it won't be seen as a target for removal if a cache flush occurs. (This will mean that the entry gets rebuilt twice in such a scenario, but that's okay.) It appears that the problem can only arise within a transaction that has previously reassigned the relfilenode of a pre-existing table, via TRUNCATE or a similar operation. Per bug #5412 from Rusty Conover. Back-patch to 8.2, same as the patch that introduced the problem. I think that the failure can't actually occur in 8.2, since it lacks the rd_newRelfilenodeSubid optimization, but let's make it work like the later branches anyway. Patch by Heikki Linnakangas, slightly editorialized on by me.&lt;/li&gt;
&lt;li&gt;In pgsql/src/pl/plpgsql/src/pl_exec.c, fix plpgsql's exec_eval_expr() to ensure it returns a sane type OID even when the expression is a query that returns no rows. So far as I can tell, the only caller that actually fails when a garbage OID is returned is exec_stmt_case(), which is new in 8.4 --- in all other cases, we might make a useless trip through casting logic, but we won't fail since the isnull flag will be set. Hence, backpatch only to 8.4, just in case there are apps out there that aren't expecting an error to be thrown if the query returns more or less than one column. (Which seems unlikely, since the error would be thrown if the query ever did return a row; but it's possible there's some never-exercised code out there.) Per report from Mario Splivalo.&lt;/li&gt;
&lt;li&gt;In pgsql/src/timezone/pgtz.c, improve message style for messages associated with not being able to identify the system time zone setting. Per recent discussion.&lt;/li&gt;
&lt;li&gt;In pgsql/src/bin/psql/copy.c, fix psql's \copy to not insert spaces around dots and commas in the text of the SELECT query in \copy (SELECT ...) commands. This is unnecessary and breaks numeric literals, as seen in bug #5411 from Vitalii Tymchyshyn. This change has already been made in passing in HEAD; backpatch to 8.2 through 8.4 (earlier releases don't have COPY (SELECT ...) at all).&lt;/li&gt;
&lt;li&gt;In pgsql/src/pl/plperl/plperl.c, fix bogus order of cleanup steps in plperl_inline_handler. Per Alex Hunsaker.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Peter Eisentraut a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/catalog/sql_features.txt, update XML features list.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/monitoring.sgml, IP port -&amp;gt; TCP port. Backpatched to 8.1, where this first appeared.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/monitoring.sgml, improve punctuation.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs rejet&amp;eacute;s (&amp;agrave; ce jour)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pas de d&amp;eacute;ception cette semaine&amp;nbsp;:-)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs en attente&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fujii Masao sent in a patch which fixes an issue with smart shutdown.&lt;/li&gt;
&lt;li&gt;Fujii Masao and Magnus Hagander traded patches to fix the issue where walreceiver is uninterruptible on win32.&lt;/li&gt;
&lt;li&gt;Heikki Linnakangas sent in a patch to fix an issue with error messages in WALs for streaming replication.&lt;/li&gt;
&lt;li&gt;Heikki Linnakangas and Simon Riggs sent one and three patches, respectively, intended to deal with the issue where queries on a hot standby server are much slower that ones on the origin.&lt;/li&gt;
&lt;li&gt;Tom Lane sent in a patch to fix an issue where Windows time zone files are not updated as frequently as they need to be, causing odd failure cases.&lt;/li&gt;
&lt;/ul&gt;</description>
	<pubDate>jeu, 22 avr 2010 23:30:59 +0000</pubDate>
</item>
<item>
	<title>Actualités PostgreSQL.fr: Nouvelles hebdomadaires de PostgreSQL - 11 avril 2010</title>
	<guid>urn:md5:df9b967bc6f80fc34d870f82d23fe20f</guid>
	<link>http://blog.postgresql.fr/index.php?post/2010/04/16/Nouvelles-hebdomadaires-de-PostgreSQL-11-avril-2010</link>
	<description>&lt;p&gt;&lt;strong&gt;Les nouveaut&amp;eacute;s des produits d&amp;eacute;riv&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Versions 1.2.21 et 2.0.3 de Slony1, un syst&amp;egrave;me de r&amp;eacute;plication ma&amp;icirc;tre-esclave en cascade pour PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.slony.info/&quot;&gt;http://www.slony.info/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Postgre-XC, un cluster synchrone multi-ma&amp;icirc;tres pour PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;https://sourceforge.net/projects/postgres-xc/&quot;&gt;https://sourceforge.net/projects/postgres-xc/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;py-postgresql version 1.0, un pilote en pur Python 3 pour PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://python.projects.postgresql.org/docs/1.0/changes.html&quot;&gt;http://python.projects.postgresql.org/docs/1.0/changes.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ODBC-Link 1.0, et ODBC-based database link system&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.cybertec.at/en/postgresql_downloads&quot;&gt;http://www.cybertec.at/en/postgresql_downloads&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;La fonctionnalit&amp;eacute; 9.0 de la semaine&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;En une seule commande, GRANT et REVOKE peuvent maintenant op&amp;eacute;rer sur les objets avec une port&amp;eacute;e li&amp;eacute;e au sch&amp;eacute;ma. [ndt-exemple&amp;nbsp;: GRANT ... ON ALL TABLES IN SCHEMA monschema TO ...]&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Offres d'emplois autour de PostgreSQL en avril&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Internationales&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://archives.postgresql.org/pgsql-jobs/2010-04/threads.php&quot;&gt;http://archives.postgresql.org/pgsql-jobs/2010-04/threads.php&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;Francophones&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://forums.postgresql.fr/viewforum.php?id=4&quot;&gt;http://forums.postgresql.fr/viewforum.php?id=4&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL Local&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;L'appel aux conf&amp;eacute;renciers a &amp;eacute;t&amp;eacute; lanc&amp;eacute; pour CHAR(10) &amp;agrave; Oxford, Angleterre, du 1er au 3 juillet 2010. Les propositions sont attendues avant le 20 avril. 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.char10.org&quot;&gt;http://www.char10.org&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Bruce Momjian parlera des solutions de r&amp;eacute;plications dans/avec PostgreSQL lors du rassemblement du PUG de New-York le 20 avril de 18h30 &amp;agrave; 20h30 au Penn Plaza. D&amp;eacute;tails et inscriptions ci-apr&amp;egrave;s&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://postgresql.meetup.com/3/calendar/12788352/&quot;&gt;http://postgresql.meetup.com/3/calendar/12788352/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;La &quot;Linuxfest Northwest 2010&quot; aura lieu &amp;agrave; Bellingham, Washington, &amp;Eacute;tats-Unis les 24 et 25 avril. Conf&amp;eacute;rences, r&amp;eacute;unions et m&amp;eacute;c&amp;eacute;nat sont possibles&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://linuxfestnorthwest.org/&quot;&gt;http://linuxfestnorthwest.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Andreas (ads) Scherbaum enseignera au centre pour adultes de Magdeburg (All.) du 3 au 7 mai 2010 sur le sujet &quot;PostgreSQL for Corporate Use&quot;. D&amp;eacute;tails ci-apr&amp;egrave;s&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://andreas.scherbaum.la/blog/archives/650-PostgreSQL-Schulung-als-Bildungsurlaub-03.-07.05.2010-in-Magdeburg.html&quot;&gt;http://andreas.scherbaum.la/blog/archives/650-PostgreSQL-Schulung-als-Bildungsurlaub-03.-07.05.2010-in-Magdeburg.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;La PgCon 2010 aura lieu les 20 &amp;amp; 21 mai 2010 &amp;agrave; Ottawa avec des tutoriels les 18 et 19&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.pgcon.org/2010/registration.php&quot;&gt;http://www.pgcon.org/2010/registration.php&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;L'appel aux conf&amp;eacute;renciers pour l'OSBridge est lanc&amp;eacute;&amp;nbsp;! L'&amp;eacute;v&amp;eacute;nement aura lieu du 1er au 4 juin 2010 &amp;agrave; Portland (Oregon)&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://opensourcebridge.org/events/2010/proposals/&quot;&gt;http://opensourcebridge.org/events/2010/proposals/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;La &quot;Southeast Linuxfest 2010&quot; aura lieu &amp;agrave; Spartanburg (Caroline du Sud, &amp;Eacute;tats-Unis) les 12 &amp;amp; 13 juin. Participations/r&amp;eacute;unions et m&amp;eacute;c&amp;eacute;nats encore proposables&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://southeastlinuxfest.org/&quot;&gt;http://southeastlinuxfest.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;L'OSCON aura lieu &amp;agrave; Portland (Oregon) du 19 au 23 juillet 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.oscon.com/oscon2010&quot;&gt;http://www.oscon.com/oscon2010&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL dans les m&amp;eacute;dia&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Planet PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planet.postgresql.org/&quot;&gt;http://planet.postgresql.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Planet PostgreSQLFr&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planete.postgresql.fr/&quot;&gt;http://planete.postgresql.fr/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;i&gt;PostgreSQL Weekly News / les nouvelles hebdomadaires vous sont offertes cette semaine par David Fetter. Traduction par l'&amp;eacute;quipe PostgreSQLFr sous licence CC BY-NC-SA.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;&lt;i&gt;Proposez vos articles ou annonces avant dimanche 15:00 (heure du Pacifique). Merci de les envoyer en anglais &amp;agrave; david (a) fetter.org, en allemand &amp;agrave; pwn (a) pgug.de, en italien &amp;agrave; pwn (a) itpug.org.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;(&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/community/weeklynews/pwn20100411&quot;&gt;lien vers l'article original&lt;/a&gt;)&lt;/p&gt;    &lt;p&gt;&lt;strong&gt;Correctifs appliqu&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ITAGAKI Takahiro a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Assorted tab-completion improvements in psql. Added missing completions for ALTER SEQUENCE name OWNER TO, ALTER TYPE name RENAME TO, ALTER VIEW name ALTER COLUMN, ALTER VIEW name OWNER TO, and ALTER VIEW name SET SCHEMA. Fix wrong completions for ALTER FUNCTION/AGGREGATE name (arguments) where the &quot;arguments&quot; part was ignored, and ALTER ... SET SCHEMA, where &quot;SCHEMA&quot; was considered to be a variable name.&lt;/li&gt;
&lt;li&gt;In pgsql/src/bin/pg_ctl/pg_ctl.c, add cygwin version check before using cygwin_conv_path(), and use cygwin_conv_to_full_win32_path() in older versions.&lt;/li&gt;
&lt;li&gt;In pgsql/src/bin/psql/tab-complete.c, psql tab completion for ALTER DEFAULT PRIVILEGES and USER MAPPING FOR PUBLIC.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Bruce Momjian a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ddl.sgml, reword exclusion constriants to mention that the operator can return false or null, per Tom.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Simon Riggs a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Change some debug ereports to elogs, as requested by translation team.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlog.c, further message changes when recovery.conf parameters missing.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Heikki Linnakangas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/recovery.conf.sample, rename &quot;Log-streaming replication parameters&quot; header to &quot;Standby server parameters&quot; in recovery.conf, to match the grouping in the documentation. Fujii Masao.&lt;/li&gt;
&lt;li&gt;Forbid using pg_xlogfile_name() and pg_xlogfile_name_offset() during recovery. We might want to relax this in the future, but ThisTimeLineID isn't currently correct in backends during recovery, so the filename returned was wrong. Fujii Masao.&lt;/li&gt;
&lt;li&gt;Allow quotes to be escaped in recovery.conf, by doubling them. This patch also makes the parsing a little bit stricter, rejecting garbage after the parameter value and values with missing ending quotes, for example.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Magnus Hagander a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/timezone/pgtz.c, log the actual timezone name that we fail to look up the values for in case the registry data doesn't follow the format we expect, to facilitate debugging.&lt;/li&gt;
&lt;li&gt;In pgsql/src/timezone/pgtz.c, proceed to look for the next timezone when matching a localized Windows timezone name where the information in the registry is incomplete, instead of aborting. This fixes cases when the registry information is incomplete for a timezone that is alphabetically before the one that is in use. Per report from Alexander Forschner&lt;/li&gt;
&lt;li&gt;In pgsql/src/timezone/pgtz.c, update list of Windows timezones we try to match localized names against to one that's up to date with Windows 2003R2.&lt;/li&gt;
&lt;li&gt;In pgsql/src/timezone/pgtz.c, clean up inconsistent commas.&lt;/li&gt;
&lt;li&gt;Perltidy run over the MSVC build system files, to clean up code formatting and indentation styles.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tom Lane a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fix to_char YYY, YY, Y format codes so that FM zero-suppression really works, rather than only sort-of working as the previous attempt had left it. Clean up some unnecessary differences between the way these were coded and the way the YYYY case was coded. Update the regression test cases that proved that it wasn't working.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Robert Haas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Make smart shutdown work in combination with Hot Standby/Streaming Replication. At present, killing the startup process does not release any locks it holds, so we must wait to stop the startup and walreceiver processes until all read-only backends have exited. Without this patch, the startup and walreceiver processes never exit, so the server gets permanently stuck in a half-shutdown state. Fujii Masao, with review, docs, and comment adjustments by me.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs rejet&amp;eacute;s (&amp;agrave; ce jour)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pas de d&amp;eacute;ception cette semaine&amp;nbsp;:-)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs en attente&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Simon Riggs sent in two revisions of a patch to downgrade a FATAL message to a WARNING for hot standby when primary_conninfo or restore_command are left out.&lt;/li&gt;
&lt;li&gt;Greg Sabino Mullane sent in a patch to show schema name for each table when REINDEX DATABASE is called.&lt;/li&gt;
&lt;li&gt;Simon Riggs sent in a patch for Hot Standby to recover prepared transactions when starting up from shutdown.&lt;/li&gt;
&lt;li&gt;Heikki Linnakangas sent in a patch to add signaling between walreceiver and startup process.&lt;/li&gt;
&lt;li&gt;Heikki Linnakangas sent in a patch to keep a variable in shared memory to track the latest removed WAL segment. This can help with streaming replication in the case of a &quot;disk full&quot; condition on the primary.&lt;/li&gt;
&lt;li&gt;Heikki Linnakangas sent in a patch to fix unsafe threading for syslogger on Windows.&lt;/li&gt;
&lt;li&gt;Simon Riggs and Heikki Linnakangas traded patches to fix the issue where Hot Standby doesn't work right with shutdowns at an inopportune moment.&lt;/li&gt;
&lt;li&gt;Jaime Casanova sent in a WIP patch to fix &quot;make standbycheck&quot;.&lt;/li&gt;
&lt;/ul&gt;</description>
	<pubDate>ven, 16 avr 2010 00:02:47 +0000</pubDate>
</item>
<item>
	<title>Guillaume Lelarge: Sortie de « Utiliser PostgreSQL »</title>
	<guid>urn:md5:87ce093606e3abc322cb00670fa01ae0</guid>
	<link>http://blog.guillaume.lelarge.info/index.php/post/2010/04/07/Sortie-de-%C2%AB-Utiliser-PostgreSQL-%C2%BB</link>
	<description>&lt;p&gt;Suite du « &lt;a href=&quot;http://blog.guillaume.lelarge.info/index.php/post/2009/09/22/Sortie-de-%C2%AB-Installer-et-d%C3%A9buter-avec-PostgreSQL-%C2%BB&quot; hreflang=&quot;fr&quot;&gt;Installer et débuter avec PostgreSQL&lt;/a&gt; », ce &lt;a href=&quot;http://www.digitbooks.fr/catalogue/9782815001984.html&quot; hreflang=&quot;fr&quot;&gt;livre&lt;/a&gt; donne un grand nombre d'informations sur les requêtes SQL, les objets SQL, bref sur la façon d'utiliser PostgreSQL. Je trouve ce livre beaucoup plus intéressant, en tout cas pour moi. J'y ai re-découvert pas mal de choses. Donc, cette fois-ci, ça peut aussi être intéressant pour les pros.&lt;/p&gt;


&lt;p&gt;Là encore, format PDF, 11 €. Excellent rapport qualité/prix.&lt;/p&gt;


&lt;p&gt;Bref, vivement le prochain &lt;img src=&quot;http://blog.guillaume.lelarge.info/themes/default/smilies/smile.png&quot; alt=&quot;:)&quot; class=&quot;smiley&quot; /&gt;&lt;/p&gt;


&lt;p&gt;&lt;em&gt;(petite info qui peut avoir son importance pour certains, j'ai fait la relecture technique de ce livre, comme du précédent)&lt;/em&gt;&lt;/p&gt;</description>
	<pubDate>mer, 07 avr 2010 17:47:00 +0000</pubDate>
</item>
<item>
	<title>Guillaume Lelarge: Une anecdocte sur le forum</title>
	<guid>urn:md5:687f910cf397dd67f5d72ebeca45aa85</guid>
	<link>http://blog.guillaume.lelarge.info/index.php/post/2010/04/05/Une-anecdocte-sur-le-forum</link>
	<description>&lt;p&gt;Tant que j'en suis à discuter et à promouvoir le &lt;a href=&quot;http://forums.postgresql.fr&quot; hreflang=&quot;fr&quot;&gt;forum&lt;/a&gt;, autant en profiter pour raconter une petite anecdote sur l'histoire d'un thread.&lt;/p&gt;


&lt;p&gt;Un nouveau membre, David, vient poser une question d'optimisation sur le forum le lundi 29/03/2010 18:28 : « &lt;a href=&quot;http://forums.postgresql.fr/viewtopic.php?id=701&quot; hreflang=&quot;fr&quot;&gt;Pb comportement analyseur 8.4 avec table partitionnées&lt;/a&gt; ». Une demi-heure après, Marc lui répond en demandant plus de précision.&lt;/p&gt;


&lt;p&gt;Le lendemain, la discussion reprend entre Marc et David. À 9h19 (soit 15 heures après la première question), Marc est convaincu qu'il s'agit d'un bug ou d'une limitation. Du coup, après quelques tests de son côté, il envoie à 14h22 un &lt;a href=&quot;http://archives.postgresql.org/pgsql-general/2010-03/msg01123.php&quot; hreflang=&quot;en&quot;&gt;mail sur la liste pgsql-general&lt;/a&gt; détaillant le problème rencontré par David. Deux heures après, il reçoit une &lt;a href=&quot;http://archives.postgresql.org/pgsql-general/2010-03/msg01127.php&quot; hreflang=&quot;en&quot;&gt;réponse de Tom Lane&lt;/a&gt; indiquant qu'il s'agit en effet d'une limitation involontaire et non souhaitable dans les capacités du paramètre constraint_exclusion.&lt;/p&gt;


&lt;p&gt;À 17h31, un &lt;a href=&quot;http://archives.postgresql.org/pgsql-hackers/2010-03/msg01228.php&quot; hreflang=&quot;en&quot;&gt;patch&lt;/a&gt; est proposé par Tom Lane. Le patch sera &lt;a href=&quot;http://archives.postgresql.org/pgsql-committers/2010-03/msg00357.php&quot; hreflang=&quot;en&quot;&gt;commité&lt;/a&gt; par Tom Lane à minuit.&lt;/p&gt;


&lt;p&gt;Là où je veux en venir, c'est qu'un simple message sur le forum français a permis d'améliorer PostgreSQL. Il n'a fallu qu'un jour pour obtenir ce correctif. Évidemment, David ne peut pas encore l'utiliser (à moins qu'il compile soi-même son PostgreSQL). Il va falloir attendre la 8.4.4. Évidemment aussi, le problème, très bien exposé par David sur le forum, puis par Marc sur la liste -general a permis une résolution rapide. Mais en attendant, c'est quand même très impressionnant de voir une telle rapidité dans le traitement d'un problème.&lt;/p&gt;


&lt;p&gt;Donc ne restez pas avec votre problème sur les bras, n'hésitez pas à en parler sur le forum web ou sur les listes de discussion en choisissant le média qui vous convient le mieux, vous ne pouvez qu'y gagner.&lt;/p&gt;</description>
	<pubDate>lun, 05 avr 2010 21:43:00 +0000</pubDate>
</item>
<item>
	<title>Guillaume Lelarge: Quelques stats sur forums.postgresql.fr</title>
	<guid>urn:md5:2b965637ac8b9037984de3ab76d325c6</guid>
	<link>http://blog.guillaume.lelarge.info/index.php/post/2010/04/05/Quelques-stats-sur-forums.postgresql.fr</link>
	<description>&lt;p&gt;La semaine dernière, j'avais fourni quelques statistiques sur le site de documentation français sur PostgreSQL. Je me suis dit qu'il serait intéressant d'avoir aussi quelques statistiques sur l'activité du forum. Alors voici quelques chiffres et quelques graphes sympathiques.&lt;/p&gt;


&lt;p&gt;Commençons par la quantité de messages par thèmes :&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;http://blog.guillaume.lelarge.info/public/stats_forum/messages_par_forums.png&quot; title=&quot;messages_par_forums.png&quot;&gt;&lt;img src=&quot;http://blog.guillaume.lelarge.info/public/stats_forum/.messages_par_forums_m.jpg&quot; alt=&quot;messages_par_forums.png&quot; title=&quot;messages_par_forums.png, avr. 2010&quot; /&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Attention, qu'on soit bien d'accord, je n'ai pas regardé le contenu de chaque message pour savoir s'il correspondait vraiment à ce thème. J'utilise simplement le nom du forum. Néanmoins, participant beaucoup au forum, j'estime qu'ils sont en très grande majorité dans le bon forum.&lt;/p&gt;


&lt;p&gt;Que peut-on en dire ? pas grand-chose en dehors que les thèmes les plus fréquents sont assez logiques : installation, optimisation, réplication... et un très gros général. Donc rien de bien surprenant là.&lt;/p&gt;


&lt;p&gt;Voyons voir maintenant la progression du nombre de threads par mois (un thread étant une question lançant un débat) :&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;http://blog.guillaume.lelarge.info/public/stats_forum/threads.png&quot; title=&quot;threads.png&quot;&gt;&lt;img src=&quot;http://blog.guillaume.lelarge.info/public/stats_forum/.threads_m.jpg&quot; alt=&quot;threads.png&quot; title=&quot;threads.png, avr. 2010&quot; /&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Après une petit chute en août, le nombre de threads est en augmentation constante, ce qui est tout à fait satisfaisant. Par contre, le nombre de threads est relativement bas (en gros, un peu plus de deux questions par jour ouvré).&lt;/p&gt;


&lt;p&gt;Plus intéressant, le nombre de questions et de réponses :&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;http://blog.guillaume.lelarge.info/public/stats_forum/questions_reponses_par_mois.png&quot; title=&quot;questions_reponses_par_mois.png&quot;&gt;&lt;img src=&quot;http://blog.guillaume.lelarge.info/public/stats_forum/.questions_reponses_par_mois_m.jpg&quot; alt=&quot;questions_reponses_par_mois.png&quot; title=&quot;questions_reponses_par_mois.png, avr. 2010&quot; /&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Dis autrement, le posteur ne se satisfait généralement pas de la première réponse. En moyenne, ça nous donne quelque chose comme 5 réponses par question. Plutôt élevé à mon goût, mais ce n'est pas que négatif. Ça peut aussi indiquer que le posteur est intéressé et souhaite d'autres informations.&lt;/p&gt;


&lt;p&gt;Bien pire est le nombre de lectures du forum par mois :&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;http://blog.guillaume.lelarge.info/public/stats_forum/lectures_par_mois.png&quot; title=&quot;lectures_par_mois.png&quot;&gt;&lt;img src=&quot;http://blog.guillaume.lelarge.info/public/stats_forum/.lectures_par_mois_m.jpg&quot; alt=&quot;lectures_par_mois.png&quot; title=&quot;lectures_par_mois.png, avr. 2010&quot; /&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Je n'ai aucune explication à cette baisse de fréquentation des lecteurs du forum. Ça tombe à très très peu car j'ai oublié de virer la statistique d'avril (qui n'a aucun sens, vu qu'on est le 5 avril).&lt;/p&gt;


&lt;p&gt;Si on regarde du côté des participants au forum, j'avais assez peu d'illusions là-dessus :&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;http://blog.guillaume.lelarge.info/public/stats_forum/participants.png&quot; title=&quot;participants.png&quot;&gt;&lt;img src=&quot;http://blog.guillaume.lelarge.info/public/stats_forum/.participants_m.jpg&quot; alt=&quot;participants.png&quot; title=&quot;participants.png, avr. 2010&quot; /&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Autrement dit, Marc et moi comptabilisons pratiquement autant de messages que le reste du monde. Ce n'est pas une surprise car je ne vois que nous deux répondre aux messages.&lt;/p&gt;


&lt;p&gt;Passons à des nouvelles plus gaies, le temps de réponse à un message dans le forum. J'indique assez souvent en formation qu'il ne faut pas hésiter à poser des questions sur le forum ou sur les listes de discussion (anglaises et française) car le temps de réponse est très court et que la réponse est très souvent techniquement exacte. Ne pouvant pas facilement juger (avec une requête SQL) du second, il est par contre aisé d'avoir la réponse au premier, ie le délai avant la première réponse. J'ai commencé petit joueur avec un délai à la journée :&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;http://blog.guillaume.lelarge.info/public/stats_forum/delai_reponses.png&quot; title=&quot;delai_reponses.png&quot;&gt;&lt;img src=&quot;http://blog.guillaume.lelarge.info/public/stats_forum/.delai_reponses_m.jpg&quot; alt=&quot;delai_reponses.png&quot; title=&quot;delai_reponses.png, avr. 2010&quot; /&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Il y a de très fortes chances que vous ayez une réponse dans l'heure, voire dans la demi-journée si vous êtes malchanceux (ie, Marc et moi absents). Je me suis donc enhardi et j'ai regardé par tranche de dix minutes sur la première heure :&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;http://blog.guillaume.lelarge.info/public/stats_forum/reponses_par_minutes.png&quot; title=&quot;reponses_par_minutes.png&quot;&gt;&lt;img src=&quot;http://blog.guillaume.lelarge.info/public/stats_forum/.reponses_par_minutes_m.jpg&quot; alt=&quot;reponses_par_minutes.png&quot; title=&quot;reponses_par_minutes.png, avr. 2010&quot; /&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;En gros, il y a de fortes chances qu'une réponse arrive en moins d'une demi-heure.&lt;/p&gt;


&lt;p&gt;Quand aux jours des posts, ce sont tous les jours ouvrés avec environ 800 posts par jour ouvrés, mais seulement 400 pour le week-end complet.&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;http://blog.guillaume.lelarge.info/public/stats_forum/messages_par_jour_semaine.png&quot; title=&quot;messages_par_jour_semaine.png&quot;&gt;&lt;img src=&quot;http://blog.guillaume.lelarge.info/public/stats_forum/.messages_par_jour_semaine_m.jpg&quot; alt=&quot;messages_par_jour_semaine.png&quot; title=&quot;messages_par_jour_semaine.png, avr. 2010&quot; /&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Je crois que la légende est inutile, c'est super simple à comprendre &lt;img src=&quot;http://blog.guillaume.lelarge.info/themes/default/smilies/smile.png&quot; alt=&quot;:)&quot; class=&quot;smiley&quot; /&gt;&lt;/p&gt;


&lt;p&gt;Enfin, dernière statistique, le nombre de messages par heure dans la journée, là non plus, pas de révolution, les messages sont envoyées dans la journée de travail :&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;http://blog.guillaume.lelarge.info/public/stats_forum/messages_par_heure.png&quot; title=&quot;messages_par_heure.png&quot;&gt;&lt;img src=&quot;http://blog.guillaume.lelarge.info/public/stats_forum/.messages_par_heure_m.jpg&quot; alt=&quot;messages_par_heure.png&quot; title=&quot;messages_par_heure.png, avr. 2010&quot; /&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Par contre, les gens mangent plus tôt que ce que je pensais le midi &lt;img src=&quot;http://blog.guillaume.lelarge.info/themes/default/smilies/smile.png&quot; alt=&quot;:)&quot; class=&quot;smiley&quot; /&gt;&lt;/p&gt;


&lt;p&gt;Voilà en gros ce qu'on peut dire de l'activité du &lt;a href=&quot;http://forums.postgresql.fr&quot; hreflang=&quot;fr&quot;&gt;forum web français sur PostgreSQL&lt;/a&gt;. Et autant le répéter ici, n'hésitez pas à venir poser vos questions, vous y serez bien reçu.&lt;/p&gt;</description>
	<pubDate>lun, 05 avr 2010 21:20:00 +0000</pubDate>
</item>
<item>
	<title>Actualités PostgreSQL.fr: Nouvelles hebdomadaires de PostgreSQL - 4 avril 2010</title>
	<guid>urn:md5:50e75ffe2ca7b118cb6c6fff69de4f5d</guid>
	<link>http://blog.postgresql.fr/index.php?post/2010/04/05/Nouvelles-hebdomadaires-de-PostgreSQL-4-avril-2010</link>
	<description>&lt;p&gt;L'appel aux conf&amp;eacute;renciers a &amp;eacute;t&amp;eacute; lanc&amp;eacute; pour CHAR(10) &amp;agrave; Oxford, Angleterre, du 1er au 3 juillet 2010. Les propositions sont attendues avant le 20 avril. 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.char10.org&quot;&gt;http://www.char10.org&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Bruce Momjian parlera des solutions de r&amp;eacute;plications dans/avec PostgreSQL lors du rassemblement du PUG de New-York le 20 avril de 18h30 &amp;agrave; 20h30 au Penn Plaza. D&amp;eacute;tails et inscriptions ci-apr&amp;egrave;s&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://postgresql.meetup.com/3/calendar/12788352/&quot;&gt;http://postgresql.meetup.com/3/calendar/12788352/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;La &quot;Southeast Linuxfest 2010&quot; aura lieu &amp;agrave; Spartanburg (Caroline du Sud, &amp;Eacute;tats-Unis) les 12 &amp;amp; 13 juin. Participations/r&amp;eacute;unions et m&amp;eacute;c&amp;eacute;nats encore proposables&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://southeastlinuxfest.org/&quot;&gt;http://southeastlinuxfest.org/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;La fonctionnalit&amp;eacute; 9.0 de la semaine&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Il y a maintenant une commande ALTER DEFAULT PRIVILEGES qui permet d'ajuster les privil&amp;egrave;ges qui seront affect&amp;eacute;s au futurs objets.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Offres d'emplois autour de PostgreSQL en avril&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Internationales&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://archives.postgresql.org/pgsql-jobs/2010-04/threads.php&quot;&gt;http://archives.postgresql.org/pgsql-jobs/2010-04/threads.php&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;Francophones&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://forums.postgresql.fr/viewforum.php?id=4&quot;&gt;http://forums.postgresql.fr/viewforum.php?id=4&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL Local&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;La &quot;Linuxfest Northwest 2010&quot; aura lieu &amp;agrave; Bellingham, Washington, &amp;Eacute;tats-Unis les 24 et 25 avril. Conf&amp;eacute;rences, r&amp;eacute;unions et m&amp;eacute;c&amp;eacute;nat sont possibles&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://linuxfestnorthwest.org/&quot;&gt;http://linuxfestnorthwest.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Andreas (ads) Scherbaum enseignera au centre pour adultes de Magdeburg (All.) du 3 au 7 mai 2010 sur le sujet &quot;PostgreSQL for Corporate Use&quot;. D&amp;eacute;tails ci-apr&amp;egrave;s&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://andreas.scherbaum.la/blog/archives/650-PostgreSQL-Schulung-als-Bildungsurlaub-03.-07.05.2010-in-Magdeburg.html&quot;&gt;http://andreas.scherbaum.la/blog/archives/650-PostgreSQL-Schulung-als-Bildungsurlaub-03.-07.05.2010-in-Magdeburg.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;La PgCon 2010 aura lieu les 20 &amp;amp; 21 mai 2010 &amp;agrave; Ottawa avec des tutoriels les 18 et 19&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.pgcon.org/2010/registration.php&quot;&gt;http://www.pgcon.org/2010/registration.php&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;L'appel aux conf&amp;eacute;renciers pour l'OSBridge est lanc&amp;eacute;&amp;nbsp;! L'&amp;eacute;v&amp;eacute;nement aura lieu du 1er au 4 juin 2010 &amp;agrave; Portland (Oregon)&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://opensourcebridge.org/events/2010/proposals/&quot;&gt;http://opensourcebridge.org/events/2010/proposals/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;L'OSCON aura lieu &amp;agrave; Portland (Oregon) du 19 au 23 juillet 2010&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://www.oscon.com/oscon2010&quot;&gt;http://www.oscon.com/oscon2010&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL dans les m&amp;eacute;dia&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Planet PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planet.postgresql.org/&quot;&gt;http://planet.postgresql.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Planet PostgreSQLFr&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planete.postgresql.fr/&quot;&gt;http://planete.postgresql.fr/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;i&gt;PostgreSQL Weekly News / les nouvelles hebdomadaires vous sont offertes cette semaine par David Fetter. Traduction par l'&amp;eacute;quipe PostgreSQLFr sous licence CC BY-NC-SA.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;&lt;i&gt;Proposez vos articles ou annonces avant dimanche 15:00 (heure du Pacifique). Merci de les envoyer en anglais &amp;agrave; david (a) fetter.org, en allemand &amp;agrave; pwn (a) pgug.de, en italien &amp;agrave; pwn (a) itpug.org.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;(&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/community/weeklynews/pwn20100404&quot;&gt;lien vers l'article original&lt;/a&gt;)&lt;/p&gt;    &lt;p&gt;&lt;strong&gt;Correctifs appliqu&amp;eacute;s&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Tom Lane a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Rework join-removal logic as per recent discussion. In particular this fixes things so that it works for cases where nested removals are possible. The overhead of the optimization should be significantly less, as well.&lt;/li&gt;
&lt;li&gt;Fix &quot;constraint_exclusion = partition&quot; logic so that it will also attempt constraint exclusion on an inheritance set that is the target of an UPDATE or DELETE query. Per gripe from Marc Cousin. Back-patch to 8.4 where the feature was introduced.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/pgstattuple/pgstattuple.c, ensure that contrib/pgstattuple functions respond to cancel interrupts reasonably promptly, by adding CHECK_FOR_INTERRUPTS in the per-page loops. Tatsuhito Kasahara.&lt;/li&gt;
&lt;li&gt;In pgsql/src/bin/psql/command.c, \ddp should be recognized as such even if user appends S or + to it. Those options do nothing right now, but might be wanted later, and in any case it's confusing for the command to be interpreted as \dd if anything is appended. Per Jaime Casanova.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ref/alter_default_privileges.sgml, minor wording improvement.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/commands/async.c, improve phrasing of warning message for NOTIFY queue getting too full. Per gripe from Peter Eisentraut.&lt;/li&gt;
&lt;li&gt;Fix updateAclDependencies() to not assume that ACL role dependencies can only be added during GRANT and can only be removed during REVOKE; and fix its callers to not lie to it about the existing set of dependencies when instantiating a formerly-default ACL. The previous coding accidentally failed to malfunction so long as default ACLs contain only references to the object's owning role, because that role is ignored by updateAclDependencies. However this is obviously pretty fragile, as well as being an undocumented assumption. The new coding is a few lines longer but IMO much clearer.&lt;/li&gt;
&lt;li&gt;Arrange to remove pg_default_acl entries completely if their ACL setting is changed to match the hard-wired default. This avoids accumulating useless catalog entries, and also provides a path for dropping the owning role without using DROP OWNED BY. Per yesterday's complaint from Jaime Casanova, the need to use DROP OWNED BY for that is less than obvious, so providing this alternative method might save some user frustration.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, clean up description of 9.0's incompatible changes in SIMILAR TO and SQL-style substring().&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Simon Riggs a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/recovery.conf.sample, edit recovery.conf.sample so it matches docs. Change standby_mode example to 'on or 'off' rather than 'true' or 'false', as shown in docs. Add restartpoint_command. Add section header for recovery target parameters, matching docs.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlog.c, move system startup message prior to any calls out of data directory. This allows us to see what mode the server is in before it starts to perform actions that can block or hang. Otherwise server messages may not appear until after messages that say FATAL the database server is starting up.&lt;/li&gt;
&lt;li&gt;Clarify some behaviours of REASSIGN OWNED and DROP OWNED BY.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlog.c, check compulsory parameters in recovery.conf in standby_mode, per docs.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/stylesheet-man.xsl, allow for more room in the man page title, so that &quot;CREATE TEXT SEARCH CONFIGURATION&quot; is not truncated.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Peter Eisentraut a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/doc/src/sgml/plpython.sgml, add some documentation about PL/Python limitations. Suggested by Steve White (bug #5272)&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/plpython.sgml, add some information about what it means for PL/Python to be untrusted. Similar information already appears in the PL/Perl and PL/Tcl chapters.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/datatype.sgml, add note that XML Schema validation is not supported. Requested by Andrew Lardinois.&lt;/li&gt;
&lt;li&gt;Separate targets &quot;make docs&quot; and &quot;make install-docs&quot; for the documentation. It is no longer installed by default, but included in &quot;make world&quot;/&quot;make install-world&quot;. Documentation updated accordingly. Also, fix vpathsearch function to work when calling make install-docs without previous make docs.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/libpq/auth.c, message tuning.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/Makefile, fix the build and install rules for man pages with SQL section != 7. The previous coding failed in various scenarios possibly including vpath builds and doing make install without preceding make all.&lt;/li&gt;
&lt;li&gt;Remove unnecessary xref endterm attributes and title ids. The endterm attribute is mainly useful when the toolchain does not support automatic link target text generation for a particular situation. In the past, this was required by the man page tools for all reference page links, but that is no longer the case, and it now actually gets in the way of proper automatic link text generation. The only remaining use cases are currently xrefs to refsects.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/func.sgml, clarify documentation of to_char EEEE pattern.&lt;/li&gt;
&lt;li&gt;In pgsql/src/interfaces/ecpg/preproc/type.c, message quoting style tuning.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Bruce Momjian a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/utils/misc/postgresql.conf.sample, add comma missing from postgresql.conf comment.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/access/nbtree/nbtxlog.c, properly initialize local varaible in btree_xlog_delete_get_latestRemovedXid(). This variable was only tested in assert builds.&lt;/li&gt;
&lt;li&gt;Change recovery.conf.sample to match postgresql.conf by showing only default values, with example comments.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/backup.sgml, document why 'cp -i&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/backup.sgml, clarify ellipses use in archive_command example, per Josh Kupershmidt.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/backup.sgml, Revert change that prevented ellipses from looking like ../.&lt;/li&gt;
&lt;li&gt;Improve 9.0 release notes by removing extra parentheses and linking to a more appropriate place for exclusion constraints.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/backup.sgml, use test -e rather than test -f.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/release-9.0.sgml, add full names for release note item authors.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/ddl.sgml, add contraint exclusion section to contraint docs. ITAGAKI Takahiro.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/backup.sgml, change test -e to test -f in docs, for portability.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Heikki Linnakangas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/backend/access/transam/xlog.c, change the retry-loop in standby mode to also try restoring files from pg_xlog directory. This is essential for replaying WAL records that were streamed from the master, after a standby server restart. If a corrupt record is seen in a file restored from the archive or streamed from the master, log it as a WARNING and keep retrying. If the corruption is permanent, and not just a glitch in the whatever copies the files to the archive or a network error not caught by CRC checks in TCP for example, we will keep retrying and logging the WARNING indefinitely. But that's better than shutting down completely, the standby is still useful for running read-only queries. In PITR the recovery ends at such a corrupt record, which is a bit questionable, but that's the behavior we had in previous releases and we don't feel like chaning it now. It does make sense for tools like pg_standby.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/high-availability.sgml, enhance documentation of the built-in standby mode, explaining the retry loop in standby mode, trying to restore from archive, pg_xlog and streaming. Move sections around to make the high availability chapter more coherent: the most prominent part is now a &quot;Log-Shipping Standby Servers&quot; section that describes what a standby server is (like the old &quot;Warm Standby Servers for High Availability&quot; section), and how to set up a warm standby server, including streaming replication, using the built-in standby mode. The pg_standby method is described in another section called &quot;Alternative method for log shipping&quot;, with the added caveat that it doesn't work with streaming replication.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/client-auth.sgml, mention that if special keywords like &quot;sameuser&quot; and &quot;replication&quot; are quoted in pg_hba.conf, they lose their special meaning.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/high-availability.sgml, enhance standby documentation. Original patch by Fujii Masao, with heavy editing and bitrot-fixing after my other commit.&lt;/li&gt;
&lt;li&gt;In pgsql/doc/src/sgml/high-availability.sgml, fix typos, spotted by Thom Brown.&lt;/li&gt;
&lt;li&gt;In pgsql/src/backend/postmaster/syslogger.c, don't pass an invalid file handle to dup2(). That causes a crash on Windows, thanks to a feature in CRT called Parameter Validation. Backpatch to 8.2, which is the oldest version supported on Windows. In 8.2 and 8.3 also backpatch the earlier change to use DEVNULL instead of NULL_DEV #define for a /dev/null-like device. NULL_DEV was hard-coded to &quot;/dev/null&quot; regardless of platform, which didn't work on Windows, while DEVNULL works on all platforms. Restarting syslogger didn't work on Windows on versions 8.3 and below because of that.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Michael Meskes a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Give a more precise error message if a variable is re-used as cursor name in ecpg.&lt;/li&gt;
&lt;li&gt;Applied Zoltan's patch to make ecpg spit out warnings if a local variable hides a global one with the same name.&lt;/li&gt;
&lt;li&gt;Zoltan Boszormenyi beautified his hidden-variable-patch for ecpg. This also makes sure we get an error message instead of a warning if the variable have different types.&lt;/li&gt;
&lt;li&gt;In pgsql/src/interfaces/ecpg/preproc/type.c, FATAL errors are meant to stop ecpg immediately, e.g. because the syntax is corrupted. This error, however, does is not a compilation problem but a runtime one, so we can keep compiling but still have to declare ERROR.&lt;/li&gt;
&lt;li&gt;In pgsql/src/interfaces/ecpg/preproc/ecpg.c, make ecpg in line with other compilers in that it deletes its output if there was an error processing the input file. Work done by Zoltan Boszormenyi.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Robert Haas a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Refer to max_wal_senders in a more consistent fashion. The error message now makes explicit reference to the GUC that must be changed to fix the problem, using wording suggested by Tom Lane. Along the way, rename the GUC from MaxWalSenders to max_wal_senders for consistency and grep-ability.&lt;/li&gt;
&lt;li&gt;Version stamp 9.0alpha5.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Andrew Dunstan a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Use a file of patterns of filenames to exclude from pgindent runs, instead if using multiple invocations of egrep. Add perl ppport.h to the current list.&lt;/li&gt;
&lt;li&gt;Sync perl's ppport.h on all branches back to 7.4 with recent update on HEAD, ensuring we can build older branches with modern Perl installations.&lt;/li&gt;
&lt;li&gt;In pgsql/contrib/fuzzystrmatch/dmetaphone.c, make dmetaphone.c safe for pgindent and fussy compilers. Still to do: make it properly encoding aware w.r.t. chars U+00C7 and U+00D1.&lt;/li&gt;
&lt;li&gt;In pgsql/src/tools/pgindent/pgindent, exclude unwanted typedef symbols in pgindent, including FD_SET which is found on some Windows platforms. Also, silence unnecessary messages and +make awk happier about literal '*' on some platforms.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Magnus Hagander a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/contrib/pageinspect/heapfuncs.c, fix minor typos in comments. Josh Kupershmidt.&lt;/li&gt;
&lt;li&gt;Update a number of broken links in comments. Josh Kupershmidt.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ITAGAKI Takahiro a commit&amp;eacute;&amp;nbsp;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In pgsql/src/bin/pg_ctl/pg_ctl.c, use a new API rather than a deprecated one in in cygwin. cygwin_conv_to_full_win32_path should be replaced with cygwin_conv_path.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs rejet&amp;eacute;s (&amp;agrave; ce jour)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pas de d&amp;eacute;ception cette semaine&amp;nbsp;:-)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs en attente&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;David Christensen sent in a patch for 9.1 to add a -C option to initdb, which would then allow people to set various postgresql.conf directives.&lt;/li&gt;
&lt;li&gt;Robert Haas sent in a patch to add the maximum number of keys for a syscache from 4 to 5. This is support infrastructure, at first, for K-Nearest Neighbor GiST searches.&lt;/li&gt;
&lt;li&gt;ITAGAKI Takahiro sent in a patch to fix an issue with PG_MODULE_MAGIC on Windows builds with MSVC.&lt;/li&gt;
&lt;li&gt;Pavel Stehule sent in a patch to allow psql's \ef (edit function) to take an optional &quot;lines offset&quot; option, and adds a \sf[+] to show the body.&lt;/li&gt;
&lt;li&gt;Fujii Masao sent in a doc patch for streaming replication.&lt;/li&gt;
&lt;li&gt;Fujii Masao sent in two updated patches to add a new smart shutdown mode for hot standby and streaming replication.&lt;/li&gt;
&lt;li&gt;Fujii Masao sent in another revision of a patch for streaming replication which adds handling for timeline and location to pg_xlogfile_name().&lt;/li&gt;
&lt;li&gt;Mike Lewis sent in two revisions of a patch to detoast the headers for arrays in contrib/intarray before detoasting what's needed of the rest. This makes accesses to large arrays faster.&lt;/li&gt;
&lt;li&gt;Fujii Masao and Thom Brown traded patches to clarify messages around error conditions for streaming replication.&lt;/li&gt;
&lt;li&gt;ITAGAKI Takahiro sent in a doc patch which adds exclusion constraints as a primary index term.&lt;/li&gt;
&lt;li&gt;Zoltan Boszormenyi sent in a patch for ECPG intended to resolve an issue with standard DECLARE behavior on cursors.&lt;/li&gt;
&lt;li&gt;Pavel Stehule sent in two more revisions of the fulltext dictionary preload patch using mmap().&lt;/li&gt;
&lt;li&gt;Zoltan Boszormenyi sent in another revision of the ECPG patch to check for variables hidden by local ones.&lt;/li&gt;
&lt;li&gt;Peter Eisentraut sent in a patch to change casts and operators to include pg_catalog qualification.&lt;/li&gt;
&lt;li&gt;Fujii Masao sent in a patch per Heikki Linnakangas's suggestion to make ReservedBackends = superuser_reserved_connections + max_wal_senders and MaxBackends = max_connections + autovacuum_max_workers + max_wal_senders + 1.&lt;/li&gt;
&lt;li&gt;Yeb Havinga sent in another version of the patch to make EXPLAIN's subplans clearer.&lt;/li&gt;
&lt;li&gt;Zoltan Boszormenyi sent in a WIP patch for ECPG which deletes the output file when certain kinds of error occur.&lt;/li&gt;
&lt;/ul&gt;</description>
	<pubDate>lun, 05 avr 2010 11:19:07 +0000</pubDate>
</item>
<item>
	<title>Actualités PostgreSQL.fr: Nouvelles hebdomadaires de PostgreSQL - 1er avril 2010</title>
	<guid>urn:md5:69a775e3307e05b51beb75b2e503235f</guid>
	<link>http://blog.postgresql.fr/index.php?post/2010/04/02/Nouvelles-hebdomadaires-de-PostgreSQL-1er-avril-2010</link>
	<description>&lt;p&gt;Suivant de pr&amp;egrave;s le mouvement NoSQL, l'&amp;eacute;quipe c&amp;oelig;uresque a d&amp;eacute;clar&amp;eacute; son intention de remplacer le SQL par le QUEL &amp;agrave; partir de la 9.1, qui prendra le nom de PostgreQUEL. QUEL a &amp;eacute;t&amp;eacute; pr&amp;eacute;f&amp;eacute;r&amp;eacute; &amp;agrave; Erlang comme langage de remplacement, surtout &amp;agrave; cause de la difficult&amp;eacute; &amp;agrave; prononcer PostgreIBelieveIDidBob.&lt;/p&gt;
&lt;p&gt;Commentaire de Bruce Momjian : &quot;Permettre le stockage de donn&amp;eacute;es non-structur&amp;eacute;es offre &amp;eacute;videmment plus de flexibilit&amp;eacute; puisque l'on peut stocker des donn&amp;eacute;es structur&amp;eacute;es et non-structur&amp;eacute;es dans le m&amp;ecirc;me syst&amp;egrave;me. Apr&amp;egrave;s tout, une table de 30 colonnes en relationnel n'est rien de plus que 30 paires de clefs/valeurs,&quot; tandis que David Fetter, usant de son charme et de son tact habituels, ajoutait : &quot;le mod&amp;egrave;le relationnel est surfait et ringard.&quot;&lt;/p&gt;
&lt;p&gt;Apr&amp;egrave;s avoir personnellement retrouv&amp;eacute; chacun des ayants droit sur PostgreQUEL, Larry Ellison a annonc&amp;eacute; son OPA sur l'int&amp;eacute;gralit&amp;eacute; du &lt;em&gt;PostgreQUEL Global Development Group&lt;/em&gt;. &quot;Ce ne fut pas chose ais&amp;eacute;e de soutirer ces copyrights de toutes ces veuves et de ces orphelins, mais le jeu en valait la chandelle,&quot; a-t-il d&amp;eacute;clar&amp;eacute; depuis sa nouvelle r&amp;eacute;sidence &amp;agrave; San Francisco&amp;nbsp;: un carton de r&amp;eacute;frig&amp;eacute;rateur plac&amp;eacute; au-dessus d'une grille d'a&amp;eacute;ration.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;La fonctionalit&amp;eacute; 9.1 de la semaine&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Fonctions distribu&amp;eacute;es MapReduce en Erlang.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;L'astuce de la semaine&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Il n'est pas vraiment utile de s'inqui&amp;eacute;ter de toutes ces tables et leurs relations. Cr&amp;eacute;ez juste une table de 3 colonnes : identifiant, attribut, valeur.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQL dans les m&amp;eacute;dia&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Planet PostgreSQL&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planet.postgresql.org/&quot;&gt;http://planet.postgresql.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Planet PostgreSQLFr&amp;nbsp;: 
&lt;a target=&quot;_blank&quot; href=&quot;http://planete.postgresql.fr/&quot;&gt;http://planete.postgresql.fr/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;i&gt;PostgreSQL Weekly News / les nouvelles hebdomadaires vous sont offertes cette semaine par David Fetter. Traduction par l'&amp;eacute;quipe PostgreSQLFr sous licence CC BY-NC-SA.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;&lt;i&gt;Proposez vos articles ou annonces avant dimanche 15:00 (heure du Pacifique). Merci de les envoyer en anglais &amp;agrave; david (a) fetter.org, en allemand &amp;agrave; pwn (a) pgug.de, en italien &amp;agrave; pwn (a) itpug.org.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;(&lt;a target=&quot;_blank&quot; href=&quot;http://www.postgresql.org/community/weeklynews/pwn20100401&quot;&gt;lien vers l'article original&lt;/a&gt;)&lt;/p&gt;    &lt;p&gt;&lt;strong&gt;Correctifs appliqués&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Aucun.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs rejetés (à ce jour)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tout le monde en a pris pour son grade, cette semaine&amp;nbsp;:-(&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Correctifs en attente&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Aucun.&lt;/li&gt;
&lt;/ul&gt;</description>
	<pubDate>ven, 02 avr 2010 23:02:13 +0000</pubDate>
</item>

</channel>
</rss>
